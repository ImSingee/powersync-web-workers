var Ks=Object.create;var Be=Object.defineProperty;var Hs=Object.getOwnPropertyDescriptor;var Ws=Object.getOwnPropertyNames;var $s=Object.getPrototypeOf,zs=Object.prototype.hasOwnProperty;var Tt=(a,o)=>()=>(a&&(o=a(a=0)),o);var Gs=(a,o)=>()=>(o||a((o={exports:{}}).exports,o),o.exports),Mr=(a,o)=>{for(var n in o)Be(a,n,{get:o[n],enumerable:!0})},Ue=(a,o,n,h)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of Ws(o))!zs.call(a,d)&&d!==n&&Be(a,d,{get:()=>o[d],enumerable:!(h=Hs(o,d))||h.enumerable});return a},Me=(a,o,n)=>(Ue(a,o,"default"),n&&Ue(n,o,"default")),Xs=(a,o,n)=>(n=a!=null?Ks($s(a)):{},Ue(o||!a||!a.__esModule?Be(n,"default",{value:a,enumerable:!0}):n,a));var Xt=Tt(()=>{});function Jr(a){let o={},n=a._getSqliteFree(),h=a._malloc(8),d=[h,h+4];function T(f){if(typeof f!="string")return 0;let u=a.lengthBytesUTF8(f),l=a._sqlite3_malloc(u+1);return a.stringToUTF8(f,l,u+1),l}function x(f,u){return BigInt(u)<<32n|BigInt(f)&0xffffffffn}let A=function(){let f=BigInt(Number.MAX_SAFE_INTEGER)>>32n,u=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(l,p){return p>f||p<u?x(l,p):p*4294967296+(l&2147483647)-(l&2147483648)}}(),N=new Set;function C(f){if(!N.has(f))throw new at("not a database",21)}let O=new Map;function v(f){if(!O.has(f))throw new at("not a statement",21)}o.bind_collection=function(f,u){v(f);let l=Array.isArray(u),p=o.bind_parameter_count(f);for(let I=1;I<=p;++I){let w=l?I-1:o.bind_parameter_name(f,I),F=u[w];F!==void 0&&o.bind(f,I,F)}return 0},o.bind=function(f,u,l){switch(v(f),typeof l){case"number":return l===(l|0)?o.bind_int(f,u,l):o.bind_double(f,u,l);case"string":return o.bind_text(f,u,l);default:return l instanceof Uint8Array||Array.isArray(l)?o.bind_blob(f,u,l):l===null?o.bind_null(f,u):typeof l=="bigint"?o.bind_int64(f,u,l):l===void 0?27:(console.warn("unknown binding converted to null",l),o.bind_null(f,u))}},o.bind_blob=function(){let f="sqlite3_bind_blob",u=a.cwrap(f,...D("nnnnn:n"));return function(l,p,I){v(l);let w=I.byteLength??I.length,F=a._sqlite3_malloc(w);a.HEAPU8.subarray(F).set(I);let j=u(l,p,F,w,n);return U(f,j,O.get(l))}}(),o.bind_parameter_count=function(){let u=a.cwrap("sqlite3_bind_parameter_count",...D("n:n"));return function(l){return v(l),u(l)}}(),o.bind_double=function(){let f="sqlite3_bind_double",u=a.cwrap(f,...D("nnn:n"));return function(l,p,I){v(l);let w=u(l,p,I);return U(f,w,O.get(l))}}(),o.bind_int=function(){let f="sqlite3_bind_int",u=a.cwrap(f,...D("nnn:n"));return function(l,p,I){if(v(l),I>2147483647||I<-2147483648)return 25;let w=u(l,p,I);return U(f,w,O.get(l))}}(),o.bind_int64=function(){let f="sqlite3_bind_int64",u=a.cwrap(f,...D("nnnn:n"));return function(l,p,I){if(v(l),I>Xr||I<jr)return 25;let w=I&0xffffffffn,F=I>>32n,j=u(l,p,Number(w),Number(F));return U(f,j,O.get(l))}}(),o.bind_null=function(){let f="sqlite3_bind_null",u=a.cwrap(f,...D("nn:n"));return function(l,p){v(l);let I=u(l,p);return U(f,I,O.get(l))}}(),o.bind_parameter_name=function(){let u=a.cwrap("sqlite3_bind_parameter_name",...D("n:s"));return function(l,p){return v(l),u(l,p)}}(),o.bind_text=function(){let f="sqlite3_bind_text",u=a.cwrap(f,...D("nnnnn:n"));return function(l,p,I){v(l);let w=T(I),F=u(l,p,w,-1,n);return U(f,F,O.get(l))}}(),o.changes=function(){let u=a.cwrap("sqlite3_changes",...D("n:n"));return function(l){return C(l),u(l)}}(),o.last_insert_id=function(){let u=a.cwrap("sqlite3_last_insert_rowid",...D("n:n"));return function(l){return C(l),u(l)}}(),o.close=function(){let f="sqlite3_close",u=a.cwrap(f,...D("n:n"),{async:Ut});return async function(l){C(l);let p=await u(l);return N.delete(l),U(f,p,l)}}(),o.column=function(f,u){v(f);let l=o.column_type(f,u);switch(l){case 4:return o.column_blob(f,u);case 2:return o.column_double(f,u);case 1:let p=o.column_int(f,u),I=a.getTempRet0();return A(p,I);case 5:return null;case 3:return o.column_text(f,u);default:throw new at("unknown type",l)}},o.column_blob=function(){let u=a.cwrap("sqlite3_column_blob",...D("nn:n"));return function(l,p){v(l);let I=o.column_bytes(l,p),w=u(l,p);return a.HEAPU8.subarray(w,w+I)}}(),o.column_bytes=function(){let u=a.cwrap("sqlite3_column_bytes",...D("nn:n"));return function(l,p){return v(l),u(l,p)}}(),o.column_count=function(){let u=a.cwrap("sqlite3_column_count",...D("n:n"));return function(l){return v(l),u(l)}}(),o.column_double=function(){let u=a.cwrap("sqlite3_column_double",...D("nn:n"));return function(l,p){return v(l),u(l,p)}}(),o.column_int=function(){let u=a.cwrap("sqlite3_column_int64",...D("nn:n"));return function(l,p){return v(l),u(l,p)}}(),o.column_int64=function(){let u=a.cwrap("sqlite3_column_int64",...D("nn:n"));return function(l,p){v(l);let I=u(l,p),w=a.getTempRet0();return x(I,w)}}(),o.column_name=function(){let u=a.cwrap("sqlite3_column_name",...D("nn:s"));return function(l,p){return v(l),u(l,p)}}(),o.column_names=function(f){let u=[],l=o.column_count(f);for(let p=0;p<l;++p)u.push(o.column_name(f,p));return u},o.column_text=function(){let u=a.cwrap("sqlite3_column_text",...D("nn:s"));return function(l,p){return v(l),u(l,p)}}(),o.column_type=function(){let u=a.cwrap("sqlite3_column_type",...D("nn:n"));return function(l,p){return v(l),u(l,p)}}(),o.create_function=function(f,u,l,p,I,w,F,j){if(C(f),w&&!F&&!j){let R=a.createFunction(f,u,l,p,I,w);return U("sqlite3_create_function",R,f)}if(!w&&F&&j){let R=a.createAggregate(f,u,l,p,I,F,j);return U("sqlite3_create_function",R,f)}throw new at("invalid function combination",21)},o.create_module=function(f,u,l,p){C(f);let I=a.createModule(f,u,l,p);return U("sqlite3_create_module",I,f)},o.data_count=function(){let u=a.cwrap("sqlite3_data_count",...D("n:n"));return function(l){return v(l),u(l)}}(),o.declare_vtab=function(){let u=a.cwrap("sqlite3_declare_vtab",...D("ns:n"));return function(l,p){let I=u(l,p);return U("sqlite3_declare_vtab",I)}}(),o.exec=async function(f,u,l){for await(let p of o.statements(f,u)){let I;for(;await o.step(p)===100;)if(l){I=I??o.column_names(p);let w=o.row(p);await l(w,I)}}return 0},o.finalize=function(){let u=a.cwrap("sqlite3_finalize",...D("n:n"),{async:Ut});return async function(l){if(!O.has(l))return 21;let p=await u(l),I=O.get(l);return O.delete(l),p}}(),o.get_autocommit=function(){let u=a.cwrap("sqlite3_get_autocommit",...D("n:n"));return function(l){return u(l)}}(),o.libversion=function(){let u=a.cwrap("sqlite3_libversion",...D(":s"));return function(){return u()}}(),o.libversion_number=function(){let u=a.cwrap("sqlite3_libversion_number",...D(":n"));return function(){return u()}}(),o.limit=function(){let u=a.cwrap("sqlite3_limit",...D("nnn:n"));return function(l,p,I){return u(l,p,I)}}(),o.open_v2=function(){let f="sqlite3_open_v2",u=a.cwrap(f,...D("snnn:n"),{async:Ut});return async function(l,p,I){p=p||6,I=T(I),a.ccall("setup_powersync","int",[]);let w=await u(l,d[0],p,I),F=a.getValue(d[0],"*");return N.add(F),a._sqlite3_free(I),a.ccall("RegisterExtensionFunctions","void",["number"],[F]),U(f,w),F}}(),o.register_table_onchange_hook=function(f,u){a.ccall("register_table_update_hook","int",["number"],[f]),Yr[f]=function(l,p,I){let w=new DataView(a.HEAPU8.buffer),F=0;for(;w.getUint8(p+F)!==0;)F++;let j=new Uint8Array(a.HEAPU8.buffer,p,F),R=new TextDecoder().decode(j);return u(l,R,I)}},o.prepare_v2=function(){let f="sqlite3_prepare_v2",u=a.cwrap(f,...D("nnnnn:n"),{async:Ut});return async function(l,p){let I=await u(l,p,-1,d[0],d[1]);U(f,I,l);let w=a.getValue(d[0],"*");return w?(O.set(w,l),{stmt:w,sql:a.getValue(d[1],"*")}):null}}(),o.progress_handler=function(f,u,l,p){C(f),a.progressHandler(f,u,l,p)},o.reset=function(){let f="sqlite3_reset",u=a.cwrap(f,...D("n:n"),{async:Ut});return async function(l){v(l);let p=await u(l);return U(f,p,O.get(l))}}(),o.result=function(f,u){switch(typeof u){case"number":u===(u|0)?o.result_int(f,u):o.result_double(f,u);break;case"string":o.result_text(f,u);break;default:if(u instanceof Uint8Array||Array.isArray(u))o.result_blob(f,u);else if(u===null)o.result_null(f);else{if(typeof u=="bigint")return o.result_int64(f,u);console.warn("unknown result converted to null",u),o.result_null(f)}break}},o.result_blob=function(){let u=a.cwrap("sqlite3_result_blob",...D("nnnn:n"));return function(l,p){let I=p.byteLength??p.length,w=a._sqlite3_malloc(I);a.HEAPU8.subarray(w).set(p),u(l,w,I,n)}}(),o.result_double=function(){let u=a.cwrap("sqlite3_result_double",...D("nn:n"));return function(l,p){u(l,p)}}(),o.result_int=function(){let u=a.cwrap("sqlite3_result_int",...D("nn:n"));return function(l,p){u(l,p)}}(),o.result_int64=function(){let u=a.cwrap("sqlite3_result_int64",...D("nnn:n"));return function(l,p){if(p>Xr||p<jr)return 25;let I=p&0xffffffffn,w=p>>32n;u(l,Number(I),Number(w))}}(),o.result_null=function(){let u=a.cwrap("sqlite3_result_null",...D("n:n"));return function(l){u(l)}}(),o.result_text=function(){let u=a.cwrap("sqlite3_result_text",...D("nnnn:n"));return function(l,p){let I=T(p);u(l,I,-1,n)}}(),o.row=function(f){let u=[],l=o.data_count(f);for(let p=0;p<l;++p){let I=o.column(f,p);u.push(I?.buffer===a.HEAPU8.buffer?I.slice():I)}return u},o.set_authorizer=function(f,u,l){C(f);let p=a.setAuthorizer(f,u,l);return U("sqlite3_set_authorizer",p,f)},o.sql=function(){let u=a.cwrap("sqlite3_sql",...D("n:s"));return function(l){return v(l),u(l)}}(),o.statements=function(f,u){return async function*(){let l=o.str_new(f,u),p={stmt:null,sql:o.str_value(l)};try{for(;p=await o.prepare_v2(f,p.sql);)yield p.stmt,o.finalize(p.stmt),p.stmt=null}finally{p?.stmt&&o.finalize(p.stmt),o.str_finish(l)}}()},o.step=function(){let f="sqlite3_step",u=a.cwrap(f,...D("n:n"),{async:Ut});return async function(l){v(l);let p=await u(l);return U(f,p,O.get(l),[100,101])}}();let K=0,k=new Map;o.str_new=function(f,u=""){let l=a.lengthBytesUTF8(u),p=K++&4294967295,I={offset:a._sqlite3_malloc(l+1),bytes:l};return k.set(p,I),a.stringToUTF8(u,I.offset,I.bytes+1),p},o.str_appendall=function(f,u){if(!k.has(f))throw new at("not a string",21);let l=k.get(f),p=a.lengthBytesUTF8(u),I=l.bytes+p,w=a._sqlite3_malloc(I+1);a.HEAPU8.subarray(w,w+I+1).set(a.HEAPU8.subarray(l.offset,l.offset+l.bytes)),a.stringToUTF8(u,w+l.bytes,p+1),a._sqlite3_free(l.offset),l.offset=w,l.bytes=I,k.set(f,l)},o.str_finish=function(f){if(!k.has(f))throw new at("not a string",21);let u=k.get(f);k.delete(f),a._sqlite3_free(u.offset)},o.str_value=function(f){if(!k.has(f))throw new at("not a string",21);return k.get(f).offset},o.user_data=function(f){return a.getFunctionUserData(f)},o.value=function(f){let u=o.value_type(f);switch(u){case 4:return o.value_blob(f);case 2:return o.value_double(f);case 1:let l=o.value_int(f),p=a.getTempRet0();return A(l,p);case 5:return null;case 3:return o.value_text(f);default:throw new at("unknown type",u)}},o.value_blob=function(){let u=a.cwrap("sqlite3_value_blob",...D("n:n"));return function(l){let p=o.value_bytes(l),I=u(l);return a.HEAPU8.subarray(I,I+p)}}(),o.value_bytes=function(){let u=a.cwrap("sqlite3_value_bytes",...D("n:n"));return function(l){return u(l)}}(),o.value_double=function(){let u=a.cwrap("sqlite3_value_double",...D("n:n"));return function(l){return u(l)}}(),o.value_int=function(){let u=a.cwrap("sqlite3_value_int64",...D("n:n"));return function(l){return u(l)}}(),o.value_int64=function(){let u=a.cwrap("sqlite3_value_int64",...D("n:n"));return function(l){let p=u(l),I=a.getTempRet0();return x(p,I)}}(),o.value_text=function(){let u=a.cwrap("sqlite3_value_text",...D("n:s"));return function(l){return u(l)}}(),o.value_type=function(){let u=a.cwrap("sqlite3_value_type",...D("n:n"));return function(l){return u(l)}}(),o.vfs_register=function(f,u){let l=a.registerVFS(f,u);return U("sqlite3_vfs_register",l)};function U(f,u,l=null,p=[0]){if(p.includes(u))return u;let I=l?a.ccall("sqlite3_errmsg","string",["number"],[l]):f;throw new at(I,u)}return o}function D(a){let o=[],n=a.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":o.push("number");break;case"s":o.push("string");break;case"v":o.push(null);break}let h=[];for(let d of n[1])switch(d){case"n":h.push("number");break;case"s":h.push("string");break}return o.push(h),o}var Xr,jr,at,Ut,Yr,ue=Tt(()=>{Xt();Xt();typeof BigInt.prototype.toJSON>"u"&&(BigInt.prototype.toJSON=function(){return this.toString()});Xr=0x7fffffffffffffffn,jr=-0x8000000000000000n,at=class extends Error{constructor(o,n){super(o),this.code=n}},Ut=!0,Yr={};globalThis.__onTablesChanged=function(a,o,n,h){setTimeout(()=>Yr[a]?.(o,n,h),0)}});function ro(a,o){for(let n of a)if(o===n||n==="*"||n instanceof RegExp&&n.test(o))return!0;return!1}function Se(a,o=globalThis,n=["*"]){o.addEventListener("message",function h(d){if(!d||!d.data)return;if(!ro(n,d.origin)){console.warn(`Invalid origin '${d.origin}' for comlink proxy`);return}let{id:T,type:x,path:A}=Object.assign({path:[]},d.data),N=(d.data.argumentList||[]).map(Nt),C;try{let O=A.slice(0,-1).reduce((K,k)=>K[k],a),v=A.reduce((K,k)=>K[k],a);switch(x){case"GET":C=v;break;case"SET":O[A.slice(-1)[0]]=Nt(d.data.value),C=!0;break;case"APPLY":C=v.apply(O,N);break;case"CONSTRUCT":{let K=new v(...N);C=pt(K)}break;case"ENDPOINT":{let{port1:K,port2:k}=new MessageChannel;Se(a,k),C=co(K,[K])}break;case"RELEASE":C=void 0;break;default:return}}catch(O){C={value:O,[de]:0}}Promise.resolve(C).catch(O=>({value:O,[de]:0})).then(O=>{let[v,K]=pe(O);o.postMessage(Object.assign(Object.assign({},v),{id:T}),K),x==="RELEASE"&&(o.removeEventListener("message",h),rs(o),$e in a&&typeof a[$e]=="function"&&a[$e]())}).catch(O=>{let[v,K]=pe({value:new TypeError("Unserializable return value"),[de]:0});o.postMessage(Object.assign(Object.assign({},v),{id:T}),K)})}),o.start&&o.start()}function so(a){return a.constructor.name==="MessagePort"}function rs(a){so(a)&&a.close()}function oo(a,o){return ze(a,[],o)}function fe(a){if(a)throw new Error("Proxy has been released and is not useable")}function ss(a){return Bt(a,{type:"RELEASE"}).then(()=>{rs(a)})}function io(a,o){let n=(Ee.get(o)||0)+1;Ee.set(o,n),he&&he.register(a,o,a)}function _o(a){he&&he.unregister(a)}function ze(a,o=[],n=function(){}){let h=!1,d=new Proxy(n,{get(T,x){if(fe(h),x===to)return()=>{_o(d),ss(a),h=!0};if(x==="then"){if(o.length===0)return{then:()=>d};let A=Bt(a,{type:"GET",path:o.map(N=>N.toString())}).then(Nt);return A.then.bind(A)}return ze(a,[...o,x])},set(T,x,A){fe(h);let[N,C]=pe(A);return Bt(a,{type:"SET",path:[...o,x].map(O=>O.toString()),value:N},C).then(Nt)},apply(T,x,A){fe(h);let N=o[o.length-1];if(N===Zs)return Bt(a,{type:"ENDPOINT"}).then(Nt);if(N==="bind")return ze(a,o.slice(0,-1));let[C,O]=Zr(A);return Bt(a,{type:"APPLY",path:o.map(v=>v.toString()),argumentList:C},O).then(Nt)},construct(T,x){fe(h);let[A,N]=Zr(x);return Bt(a,{type:"CONSTRUCT",path:o.map(C=>C.toString()),argumentList:A},N).then(Nt)}});return io(d,a),d}function ao(a){return Array.prototype.concat.apply([],a)}function Zr(a){let o=a.map(pe);return[o.map(n=>n[0]),ao(o.map(n=>n[1]))]}function co(a,o){return os.set(a,o),a}function pt(a){return Object.assign(a,{[ts]:!0})}function pe(a){for(let[o,n]of ns)if(n.canHandle(a)){let[h,d]=n.serialize(a);return[{type:"HANDLER",name:o,value:h},d]}return[{type:"RAW",value:a},os.get(a)||[]]}function Nt(a){switch(a.type){case"HANDLER":return ns.get(a.name).deserialize(a.value);case"RAW":return a.value}}function Bt(a,o,n){return new Promise(h=>{let d=lo();a.addEventListener("message",function T(x){!x.data||!x.data.id||x.data.id!==d||(a.removeEventListener("message",T),h(x.data))}),a.start&&a.start(),a.postMessage(Object.assign({id:d},o),n)})}function lo(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var ts,Zs,to,$e,de,es,eo,no,ns,Ee,he,os,Ge=Tt(()=>{ts=Symbol("Comlink.proxy"),Zs=Symbol("Comlink.endpoint"),to=Symbol("Comlink.releaseProxy"),$e=Symbol("Comlink.finalizer"),de=Symbol("Comlink.thrown"),es=a=>typeof a=="object"&&a!==null||typeof a=="function",eo={canHandle:a=>es(a)&&a[ts],serialize(a){let{port1:o,port2:n}=new MessageChannel;return Se(a,o),[n,[n]]},deserialize(a){return a.start(),oo(a)}},no={canHandle:a=>es(a)&&de in a,serialize({value:a}){let o;return a instanceof Error?o={isError:!0,value:{message:a.message,name:a.name,stack:a.stack}}:o={isError:!1,value:a},[o,[]]},deserialize(a){throw a.isError?Object.assign(new Error(a.value.message),a.value):a.value}},ns=new Map([["proxy",eo],["throw",no]]);Ee=new WeakMap,he="FinalizationRegistry"in globalThis&&new FinalizationRegistry(a=>{let o=(Ee.get(a)||0)-1;Ee.set(a,o),o===0&&ss(a)});os=new WeakMap});var _s={};Mr(_s,{default:()=>fo});var uo,fo,as=Tt(()=>{uo=(()=>{var a=import.meta.url;return function(o={}){var n=o,h,d,T=new Promise((t,e)=>{h=t,d=e}),x=Object.assign({},n),A="./this.program",N=(t,e)=>{throw e},C=typeof window=="object",O=typeof importScripts=="function",v="",K;(C||O)&&(O?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),a&&(v=a),v.startsWith("blob:")?v="":v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1),O&&(K=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}));var k=n.print||console.log.bind(console),U=n.printErr||console.error.bind(console);Object.assign(n,x),x=null,n.thisProgram&&(A=n.thisProgram),n.quit&&(N=n.quit);var f;n.wasmBinary&&(f=n.wasmBinary);var u,l=!1,p,I,w,F,j,R,W,ot,yt;function nt(){var t=u.buffer;n.HEAP8=I=new Int8Array(t),n.HEAP16=F=new Int16Array(t),n.HEAPU8=w=new Uint8Array(t),n.HEAPU16=j=new Uint16Array(t),n.HEAP32=R=new Int32Array(t),n.HEAPU32=W=new Uint32Array(t),n.HEAPF32=ot=new Float32Array(t),n.HEAPF64=yt=new Float64Array(t)}var it=[],xt=[],Ct=[],qt=[];function Qt(){var t=n.preRun.shift();it.unshift(t)}var St=0,Ht=null,Wt=null;function lt(t){throw n.onAbort?.(t),t="Aborted("+t+")",U(t),l=!0,p=1,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),d(t),t}var on=t=>t.startsWith("data:application/octet-stream;base64,"),bt;if(n.locateFile){if(bt="wa-sqlite-async.wasm",!on(bt)){var _n=bt;bt=n.locateFile?n.locateFile(_n,v):v+_n}}else bt=new URL("wa-sqlite-async.wasm",import.meta.url).href;function an(t){if(t==bt&&f)return new Uint8Array(f);if(K)return K(t);throw"both async and sync fetching of the wasm failed"}function ws(t){return f||!C&&!O||typeof fetch!="function"?Promise.resolve().then(()=>an(t)):fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw`failed to load wasm binary file at '${t}'`;return e.arrayBuffer()}).catch(()=>an(t))}function cn(t,e,r){return ws(t).then(s=>WebAssembly.instantiate(s,e)).then(r,s=>{U(`failed to asynchronously prepare wasm: ${s}`),lt(s)})}function gs(t,e){var r=bt;return f||typeof WebAssembly.instantiateStreaming!="function"||on(r)||typeof fetch!="function"?cn(r,t,e):fetch(r,{credentials:"same-origin"}).then(s=>WebAssembly.instantiateStreaming(s,t).then(e,function(i){return U(`wasm streaming compile failed: ${i}`),U("falling back to ArrayBuffer instantiation"),cn(r,t,e)}))}var Q,z;function ln(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var Yt=t=>{for(;0<t.length;)t.shift()(n)};function Y(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return I[t];case"i8":return I[t];case"i16":return F[t>>1];case"i32":return R[t>>2];case"i64":lt("to do getValue(i64) use WASM_BIGINT");case"float":return ot[t>>2];case"double":return yt[t>>3];case"*":return W[t>>2];default:lt(`invalid type for getValue: ${e}`)}}var un=n.noExitRuntime||!0;function ut(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":I[t]=e;break;case"i8":I[t]=e;break;case"i16":F[t>>1]=e;break;case"i32":R[t>>2]=e;break;case"i64":lt("to do setValue(i64) use WASM_BIGINT");case"float":ot[t>>2]=e;break;case"double":yt[t>>3]=e;break;case"*":W[t>>2]=e;break;default:lt(`invalid type for setValue: ${r}`)}}var fn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,B=(t,e,r)=>{var s=e+r;for(r=e;t[r]&&!(r>=s);)++r;if(16<r-e&&t.buffer&&fn)return fn.decode(t.subarray(e,r));for(s="";e<r;){var i=t[e++];if(i&128){var c=t[e++]&63;if((i&224)==192)s+=String.fromCharCode((i&31)<<6|c);else{var E=t[e++]&63;i=(i&240)==224?(i&15)<<12|c<<6|E:(i&7)<<18|c<<12|E<<6|t[e++]&63,65536>i?s+=String.fromCharCode(i):(i-=65536,s+=String.fromCharCode(55296|i>>10,56320|i&1023))}}else s+=String.fromCharCode(i)}return s},dn=(t,e)=>{for(var r=0,s=t.length-1;0<=s;s--){var i=t[s];i==="."?t.splice(s,1):i===".."?(t.splice(s,1),r++):r&&(t.splice(s,1),r--)}if(e)for(;r;r--)t.unshift("..");return t},Dt=t=>{var e=t.charAt(0)==="/",r=t.substr(-1)==="/";return(t=dn(t.split("/").filter(s=>!!s),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},Ls=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],!t&&!e?".":(e&&=e.substr(0,e.length-1),t+e)},Jt=t=>{if(t==="/")return"/";t=Dt(t),t=t.replace(/\/$/,"");var e=t.lastIndexOf("/");return e===-1?t:t.substr(e+1)},ys=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);lt("initRandomDevice")},ye=t=>(ye=ys())(t),Zt=(...t)=>{for(var e="",r=!1,s=t.length-1;-1<=s&&!r;s--){if(r=0<=s?t[s]:"/",typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,r=r.charAt(0)==="/"}return e=dn(e.split("/").filter(i=>!!i),!r).join("/"),(r?"/":"")+e||"."},xe=[],Ft=t=>{for(var e=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);127>=s?e++:2047>=s?e+=2:55296<=s&&57343>=s?(e+=4,++r):e+=3}return e},ft=(t,e,r,s)=>{if(!(0<s))return 0;var i=r;s=r+s-1;for(var c=0;c<t.length;++c){var E=t.charCodeAt(c);if(55296<=E&&57343>=E){var g=t.charCodeAt(++c);E=65536+((E&1023)<<10)|g&1023}if(127>=E){if(r>=s)break;e[r++]=E}else{if(2047>=E){if(r+1>=s)break;e[r++]=192|E>>6}else{if(65535>=E){if(r+2>=s)break;e[r++]=224|E>>12}else{if(r+3>=s)break;e[r++]=240|E>>18,e[r++]=128|E>>12&63}e[r++]=128|E>>6&63}e[r++]=128|E&63}}return e[r]=0,r-i};function En(t,e,r){return r=Array(0<r?r:Ft(t)+1),t=ft(t,r,0,r.length),e&&(r.length=t),r}var hn=[];function pn(t,e){hn[t]={input:[],Gf:[],Rf:e},Re(t,xs)}var xs={open(t){var e=hn[t.node.Uf];if(!e)throw new q(43);t.Hf=e,t.seekable=!1},close(t){t.Hf.Rf.Xf(t.Hf)},Xf(t){t.Hf.Rf.Xf(t.Hf)},read(t,e,r,s){if(!t.Hf||!t.Hf.Rf.lg)throw new q(60);for(var i=0,c=0;c<s;c++){try{var E=t.Hf.Rf.lg(t.Hf)}catch{throw new q(29)}if(E===void 0&&i===0)throw new q(6);if(E==null)break;i++,e[r+c]=E}return i&&(t.node.timestamp=Date.now()),i},write(t,e,r,s){if(!t.Hf||!t.Hf.Rf.fg)throw new q(60);try{for(var i=0;i<s;i++)t.Hf.Rf.fg(t.Hf,e[r+i])}catch{throw new q(29)}return s&&(t.node.timestamp=Date.now()),i}},qs={lg(){t:{if(!xe.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t){t=null;break t}xe=En(t,!0)}t=xe.shift()}return t},fg(t,e){e===null||e===10?(k(B(t.Gf,0)),t.Gf=[]):e!=0&&t.Gf.push(e)},Xf(t){t.Gf&&0<t.Gf.length&&(k(B(t.Gf,0)),t.Gf=[])},Mg(){return{Hg:25856,Jg:5,Gg:191,Ig:35387,Fg:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ng(){return 0},Og(){return[24,80]}},bs={fg(t,e){e===null||e===10?(U(B(t.Gf,0)),t.Gf=[]):e!=0&&t.Gf.push(e)},Xf(t){t.Gf&&0<t.Gf.length&&(U(B(t.Gf,0)),t.Gf=[])}};function Sn(t,e){var r=t.Cf?t.Cf.length:0;r>=e||(e=Math.max(e,r*(1048576>r?2:1.125)>>>0),r!=0&&(e=Math.max(e,256)),r=t.Cf,t.Cf=new Uint8Array(e),0<t.Ef&&t.Cf.set(r.subarray(0,t.Ef),0))}var P={Kf:null,Jf(){return P.createNode(null,"/",16895,0)},createNode(t,e,r,s){if((r&61440)===24576||(r&61440)===4096)throw new q(63);return P.Kf||(P.Kf={dir:{node:{If:P.Af.If,Ff:P.Af.Ff,Sf:P.Af.Sf,Yf:P.Af.Yf,pg:P.Af.pg,cg:P.Af.cg,ag:P.Af.ag,og:P.Af.og,bg:P.Af.bg},stream:{Of:P.Bf.Of}},file:{node:{If:P.Af.If,Ff:P.Af.Ff},stream:{Of:P.Bf.Of,read:P.Bf.read,write:P.Bf.write,ig:P.Bf.ig,Zf:P.Bf.Zf,$f:P.Bf.$f}},link:{node:{If:P.Af.If,Ff:P.Af.Ff,Vf:P.Af.Vf},stream:{}},jg:{node:{If:P.Af.If,Ff:P.Af.Ff},stream:Cs}}),r=wn(t,e,r,s),rt(r.mode)?(r.Af=P.Kf.dir.node,r.Bf=P.Kf.dir.stream,r.Cf={}):(r.mode&61440)===32768?(r.Af=P.Kf.file.node,r.Bf=P.Kf.file.stream,r.Ef=0,r.Cf=null):(r.mode&61440)===40960?(r.Af=P.Kf.link.node,r.Bf=P.Kf.link.stream):(r.mode&61440)===8192&&(r.Af=P.Kf.jg.node,r.Bf=P.Kf.jg.stream),r.timestamp=Date.now(),t&&(t.Cf[e]=r,t.timestamp=r.timestamp),r},Lg(t){return t.Cf?t.Cf.subarray?t.Cf.subarray(0,t.Ef):new Uint8Array(t.Cf):new Uint8Array(0)},Af:{If(t){var e={};return e.vg=(t.mode&61440)===8192?t.id:1,e.mg=t.id,e.mode=t.mode,e.Bg=1,e.uid=0,e.yg=0,e.Uf=t.Uf,rt(t.mode)?e.size=4096:(t.mode&61440)===32768?e.size=t.Ef:(t.mode&61440)===40960?e.size=t.link.length:e.size=0,e.rg=new Date(t.timestamp),e.Ag=new Date(t.timestamp),e.ug=new Date(t.timestamp),e.sg=4096,e.tg=Math.ceil(e.size/e.sg),e},Ff(t,e){if(e.mode!==void 0&&(t.mode=e.mode),e.timestamp!==void 0&&(t.timestamp=e.timestamp),e.size!==void 0&&(e=e.size,t.Ef!=e))if(e==0)t.Cf=null,t.Ef=0;else{var r=t.Cf;t.Cf=new Uint8Array(e),r&&t.Cf.set(r.subarray(0,Math.min(e,t.Ef))),t.Ef=e}},Sf(){throw be[44]},Yf(t,e,r,s){return P.createNode(t,e,r,s)},pg(t,e,r){if(rt(t.mode)){try{var s=vt(e,r)}catch{}if(s)for(var i in s.Cf)throw new q(55)}delete t.parent.Cf[t.name],t.parent.timestamp=Date.now(),t.name=r,e.Cf[r]=t,e.timestamp=t.parent.timestamp,t.parent=e},cg(t,e){delete t.Cf[e],t.timestamp=Date.now()},ag(t,e){var r=vt(t,e),s;for(s in r.Cf)throw new q(55);delete t.Cf[e],t.timestamp=Date.now()},og(t){var e=[".",".."],r;for(r of Object.keys(t.Cf))e.push(r);return e},bg(t,e,r){return t=P.createNode(t,e,41471,0),t.link=r,t},Vf(t){if((t.mode&61440)!==40960)throw new q(28);return t.link}},Bf:{read(t,e,r,s,i){var c=t.node.Cf;if(i>=t.node.Ef)return 0;if(t=Math.min(t.node.Ef-i,s),8<t&&c.subarray)e.set(c.subarray(i,i+t),r);else for(s=0;s<t;s++)e[r+s]=c[i+s];return t},write(t,e,r,s,i,c){if(e.buffer===I.buffer&&(c=!1),!s)return 0;if(t=t.node,t.timestamp=Date.now(),e.subarray&&(!t.Cf||t.Cf.subarray)){if(c)return t.Cf=e.subarray(r,r+s),t.Ef=s;if(t.Ef===0&&i===0)return t.Cf=e.slice(r,r+s),t.Ef=s;if(i+s<=t.Ef)return t.Cf.set(e.subarray(r,r+s),i),s}if(Sn(t,i+s),t.Cf.subarray&&e.subarray)t.Cf.set(e.subarray(r,r+s),i);else for(c=0;c<s;c++)t.Cf[i+c]=e[r+c];return t.Ef=Math.max(t.Ef,i+s),s},Of(t,e,r){if(r===1?e+=t.position:r===2&&(t.node.mode&61440)===32768&&(e+=t.node.Ef),0>e)throw new q(28);return e},ig(t,e,r){Sn(t.node,e+r),t.node.Ef=Math.max(t.node.Ef,e+r)},Zf(t,e,r,s,i){if((t.node.mode&61440)!==32768)throw new q(43);if(t=t.node.Cf,i&2||t.buffer!==I.buffer){if((0<r||r+e<t.length)&&(t.subarray?t=t.subarray(r,r+e):t=Array.prototype.slice.call(t,r,r+e)),r=!0,e=65536*Math.ceil(e/65536),(i=Nr(65536,e))?(w.fill(0,i,i+e),e=i):e=0,!e)throw new q(48);I.set(t,e)}else r=!1,e=t.byteOffset;return{Cg:e,qg:r}},$f(t,e,r,s){return P.Bf.write(t,e,0,s,r,!1),0}}},vs=(t,e)=>{var r=0;return t&&(r|=365),e&&(r|=146),r},qe=null,Tn={},$t=[],As=1,mt=null,mn=!0,q=class{constructor(t){this.name="ErrnoError",this.Df=t}},be={},Rs=class{constructor(){this.Wf={},this.node=null}get flags(){return this.Wf.flags}set flags(t){this.Wf.flags=t}get position(){return this.Wf.position}set position(t){this.Wf.position=t}},Os=class{constructor(t,e,r,s){t||=this,this.parent=t,this.Jf=t.Jf,this.Pf=null,this.id=As++,this.name=e,this.mode=r,this.Af={},this.Bf={},this.Uf=s}get read(){return(this.mode&365)===365}set read(t){t?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(t){t?this.mode|=146:this.mode&=-147}};function et(t,e={}){if(t=Zt(t),!t)return{path:"",node:null};if(e=Object.assign({kg:!0,gg:0},e),8<e.gg)throw new q(32);t=t.split("/").filter(E=>!!E);for(var r=qe,s="/",i=0;i<t.length;i++){var c=i===t.length-1;if(c&&e.parent)break;if(r=vt(r,t[i]),s=Dt(s+"/"+t[i]),r.Pf&&(!c||c&&e.kg)&&(r=r.Pf.root),!c||e.Nf){for(c=0;(r.mode&61440)===40960;)if(r=vn(s),s=Zt(Ls(s),r),r=et(s,{gg:e.gg+1}).node,40<c++)throw new q(32)}}return{path:s,node:r}}function ve(t){for(var e;;){if(t===t.parent)return t=t.Jf.ng,e?t[t.length-1]!=="/"?`${t}/${e}`:t+e:t;e=e?`${t.name}/${e}`:t.name,t=t.parent}}function Ae(t,e){for(var r=0,s=0;s<e.length;s++)r=(r<<5)-r+e.charCodeAt(s)|0;return(t+r>>>0)%mt.length}function In(t){var e=Ae(t.parent.id,t.name);if(mt[e]===t)mt[e]=t.Qf;else for(e=mt[e];e;){if(e.Qf===t){e.Qf=t.Qf;break}e=e.Qf}}function vt(t,e){var r=rt(t.mode)?(r=Pt(t,"x"))?r:t.Af.Sf?0:2:54;if(r)throw new q(r);for(r=mt[Ae(t.id,e)];r;r=r.Qf){var s=r.name;if(r.parent.id===t.id&&s===e)return r}return t.Af.Sf(t,e)}function wn(t,e,r,s){return t=new Os(t,e,r,s),e=Ae(t.parent.id,t.name),t.Qf=mt[e],mt[e]=t}function rt(t){return(t&61440)===16384}function gn(t){var e=["r","w","rw"][t&3];return t&512&&(e+="w"),e}function Pt(t,e){if(mn)return 0;if(!e.includes("r")||t.mode&292){if(e.includes("w")&&!(t.mode&146)||e.includes("x")&&!(t.mode&73))return 2}else return 2;return 0}function Ln(t,e){try{return vt(t,e),20}catch{}return Pt(t,"wx")}function yn(t,e,r){try{var s=vt(t,e)}catch(i){return i.Df}if(t=Pt(t,"wx"))return t;if(r){if(!rt(s.mode))return 54;if(s===s.parent||ve(s)==="/")return 10}else if(rt(s.mode))return 31;return 0}function tt(t){if(t=$t[t],!t)throw new q(8);return t}function xn(t,e=-1){if(t=Object.assign(new Rs,t),e==-1)t:{for(e=0;4096>=e;e++)if(!$t[e])break t;throw new q(33)}return t.Lf=e,$t[e]=t}function Ns(t,e=-1){return t=xn(t,e),t.Bf?.Kg?.(t),t}var Cs={open(t){t.Bf=Tn[t.node.Uf].Bf,t.Bf.open?.(t)},Of(){throw new q(70)}};function Re(t,e){Tn[t]={Bf:e}}function qn(t,e){var r=e==="/";if(r&&qe)throw new q(10);if(!r&&e){var s=et(e,{kg:!1});if(e=s.path,s=s.node,s.Pf)throw new q(10);if(!rt(s.mode))throw new q(54)}e={type:t,Pg:{},ng:e,zg:[]},t=t.Jf(e),t.Jf=e,e.root=t,r?qe=t:s&&(s.Pf=e,s.Jf&&s.Jf.zg.push(e))}function Oe(t,e,r){var s=et(t,{parent:!0}).node;if(t=Jt(t),!t||t==="."||t==="..")throw new q(28);var i=Ln(s,t);if(i)throw new q(i);if(!s.Af.Yf)throw new q(63);return s.Af.Yf(s,t,e,r)}function dt(t,e){return Oe(t,(e!==void 0?e:511)&1023|16384,0)}function te(t,e,r){typeof r>"u"&&(r=e,e=438),Oe(t,e|8192,r)}function Ne(t,e){if(!Zt(t))throw new q(44);var r=et(e,{parent:!0}).node;if(!r)throw new q(44);e=Jt(e);var s=Ln(r,e);if(s)throw new q(s);if(!r.Af.bg)throw new q(63);r.Af.bg(r,e,t)}function bn(t){var e=et(t,{parent:!0}).node;t=Jt(t);var r=vt(e,t),s=yn(e,t,!0);if(s)throw new q(s);if(!e.Af.ag)throw new q(63);if(r.Pf)throw new q(10);e.Af.ag(e,t),In(r)}function vn(t){if(t=et(t).node,!t)throw new q(44);if(!t.Af.Vf)throw new q(28);return Zt(ve(t.parent),t.Af.Vf(t))}function ee(t,e){if(t=et(t,{Nf:!e}).node,!t)throw new q(44);if(!t.Af.If)throw new q(63);return t.Af.If(t)}function An(t){return ee(t,!0)}function Rn(t,e){if(t=typeof t=="string"?et(t,{Nf:!0}).node:t,!t.Af.Ff)throw new q(63);t.Af.Ff(t,{mode:e&4095|t.mode&-4096,timestamp:Date.now()})}function On(t,e){if(0>e)throw new q(28);if(t=typeof t=="string"?et(t,{Nf:!0}).node:t,!t.Af.Ff)throw new q(63);if(rt(t.mode))throw new q(31);if((t.mode&61440)!==32768)throw new q(28);var r=Pt(t,"w");if(r)throw new q(r);t.Af.Ff(t,{size:e,timestamp:Date.now()})}function ne(t,e,r){if(t==="")throw new q(44);if(typeof e=="string"){var s={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof s>"u")throw Error(`Unknown file open mode: ${e}`);e=s}if(r=e&64?(typeof r>"u"?438:r)&4095|32768:0,typeof t=="object")var i=t;else{t=Dt(t);try{i=et(t,{Nf:!(e&131072)}).node}catch{}}if(s=!1,e&64)if(i){if(e&128)throw new q(20)}else i=Oe(t,r,0),s=!0;if(!i)throw new q(44);if((i.mode&61440)===8192&&(e&=-513),e&65536&&!rt(i.mode))throw new q(54);if(!s&&(r=i?(i.mode&61440)===40960?32:rt(i.mode)&&(gn(e)!=="r"||e&512)?31:Pt(i,gn(e)):44))throw new q(r);return e&512&&!s&&On(i,0),e&=-131713,i=xn({node:i,path:ve(i),flags:e,seekable:!0,position:0,Bf:i.Bf,Eg:[],error:!1}),i.Bf.open&&i.Bf.open(i),!n.logReadFiles||e&1||(Ce||={},t in Ce||(Ce[t]=1)),i}function Nn(t,e,r){if(t.Lf===null)throw new q(8);if(!t.seekable||!t.Bf.Of)throw new q(70);if(r!=0&&r!=1&&r!=2)throw new q(28);t.position=t.Bf.Of(t,e,r),t.Eg=[]}var Cn;function zt(t,e,r){t=Dt("/dev/"+t);var s=vs(!!e,!!r);Qn||=64;var i=Qn++<<8|0;Re(i,{open(c){c.seekable=!1},close(){r?.buffer?.length&&r(10)},read(c,E,g,S){for(var m=0,L=0;L<S;L++){try{var y=e()}catch{throw new q(29)}if(y===void 0&&m===0)throw new q(6);if(y==null)break;m++,E[g+L]=y}return m&&(c.node.timestamp=Date.now()),m},write(c,E,g,S){for(var m=0;m<S;m++)try{r(E[g+m])}catch{throw new q(29)}return S&&(c.node.timestamp=Date.now()),m}}),te(t,s,i)}var Qn,$={},Ce;function At(t,e,r){if(e.charAt(0)==="/")return e;if(t=t===-100?"/":tt(t).path,e.length==0){if(!r)throw new q(44);return t}return Dt(t+"/"+e)}function re(t,e,r){t=t(e),R[r>>2]=t.vg,R[r+4>>2]=t.mode,W[r+8>>2]=t.Bg,R[r+12>>2]=t.uid,R[r+16>>2]=t.yg,R[r+20>>2]=t.Uf,z=[t.size>>>0,(Q=t.size,1<=+Math.abs(Q)?0<Q?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],R[r+24>>2]=z[0],R[r+28>>2]=z[1],R[r+32>>2]=4096,R[r+36>>2]=t.tg,e=t.rg.getTime();var s=t.Ag.getTime(),i=t.ug.getTime();return z=[Math.floor(e/1e3)>>>0,(Q=Math.floor(e/1e3),1<=+Math.abs(Q)?0<Q?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],R[r+40>>2]=z[0],R[r+44>>2]=z[1],W[r+48>>2]=e%1e3*1e3,z=[Math.floor(s/1e3)>>>0,(Q=Math.floor(s/1e3),1<=+Math.abs(Q)?0<Q?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],R[r+56>>2]=z[0],R[r+60>>2]=z[1],W[r+64>>2]=s%1e3*1e3,z=[Math.floor(i/1e3)>>>0,(Q=Math.floor(i/1e3),1<=+Math.abs(Q)?0<Q?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],R[r+72>>2]=z[0],R[r+76>>2]=z[1],W[r+80>>2]=i%1e3*1e3,z=[t.mg>>>0,(Q=t.mg,1<=+Math.abs(Q)?0<Q?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],R[r+88>>2]=z[0],R[r+92>>2]=z[1],0}var se=void 0;function oe(){var t=R[+se>>2];return se+=4,t}var Gt=(t,e)=>e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN,Qs=[0,31,60,91,121,152,182,213,244,274,305,335],Ds=[0,31,59,90,120,151,181,212,243,273,304,334],Qe={},Dn=()=>{if(!De){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"},e;for(e in Qe)Qe[e]===void 0?delete t[e]:t[e]=Qe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);De=r}return De},De;function Fn(){}function Pn(){}function Vn(){}function kn(){}function Un(){}function Bn(){}function Mn(){}function Kn(){}function Hn(){}function Wn(){}function $n(){}function zn(){}function Gn(){}function Xn(){}function jn(){}function Yn(){}function Jn(){}function Zn(){}function tr(){}function er(){}function nr(){}function rr(){}function sr(){}function or(){}function ir(){}function _r(){}function ar(){}function cr(){}function lr(){}function ur(){}function fr(){}function dr(){}function Er(){}function hr(){}function pr(){}function Sr(){}function Tr(){}function mr(){}function Ir(){}var ie=0,wr=t=>{p=t,un||0<ie||(n.onExit?.(t),l=!0),N(t,new ln(t))},Fe=t=>{t instanceof ln||t=="unwind"||N(1,t)},_e=t=>{try{t()}catch(e){lt(e)}},Fs=t=>{if(!l)try{if(t(),!(un||0<ie))try{p=t=p,wr(t)}catch(e){Fe(e)}}catch(e){Fe(e)}};function Ps(){var t=_,e={};for(let[r,s]of Object.entries(t))e[r]=typeof s=="function"?(...i)=>{ae.push(r);try{return s(...i)}finally{l||(ae.pop(),Et&&It===1&&ae.length===0&&(It=0,_e(Pr),typeof Fibers<"u"&&Fibers.Qg()))}}:s;return e}var It=0,Et=null,gr=0,ae=[],Lr={},yr={},Vs=0,Pe=null,ks=[];function Us(){return new Promise((t,e)=>{Pe={resolve:t,reject:e}})}function Bs(){var t=Ar(16396),e=t+12;W[t>>2]=e,W[t+4>>2]=e+16384,e=ae[0];var r=Lr[e];return r===void 0&&(r=Vs++,Lr[e]=r,yr[r]=e),R[t+8>>2]=r,t}function xr(t){if(!l){if(It===0){var e=!1,r=!1;t((s=0)=>{if(!l&&(gr=s,e=!0,r)){It=2,_e(()=>Vr(Et)),typeof Browser<"u"&&Browser.eg.xg&&Browser.eg.resume(),s=!1;try{var i=(0,_[yr[R[Et+8>>2]]])()}catch(g){i=g,s=!0}var c=!1;if(!Et){var E=Pe;E&&(Pe=null,(s?E.reject:E.resolve)(i),c=!0)}if(s&&!c)throw i}}),r=!0,e||(It=1,Et=Bs(),typeof Browser<"u"&&Browser.eg.xg&&Browser.eg.pause(),_e(()=>Fr(Et)))}else It===2?(It=0,_e(kr),Rr(Et),Et=null,ks.forEach(Fs)):lt(`invalid state: ${It}`);return gr}}function Ve(t){return xr(e=>{t().then(e)})}var qr={},Rt,Vt,br=[],ht=(t,e,r,s,i)=>{function c(y){return--ie,S!==0&&Qr(S),e==="string"?y?B(w,y):"":e==="boolean"?!!y:y}var E={string:y=>{var b=0;if(y!=null&&y!==0){b=Ft(y)+1;var V=ke(b);ft(y,w,V,b),b=V}return b},array:y=>{var b=ke(y.length);return I.set(y,b),b}};t=n["_"+t];var g=[],S=0;if(s)for(var m=0;m<s.length;m++){var L=E[r[m]];L?(S===0&&(S=Dr()),g[m]=L(s[m])):g[m]=s[m]}return r=Et,s=t(...g),i=i?.async,ie+=1,Et!=r?Us().then(c):(s=c(s),i?Promise.resolve(s):s)},vr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;[44].forEach(t=>{be[t]=new q(t),be[t].stack="<generic error, no stack>"}),mt=Array(4096),qn(P,"/"),dt("/tmp"),dt("/home"),dt("/home/web_user"),function(){dt("/dev"),Re(259,{read:()=>0,write:(s,i,c,E)=>E}),te("/dev/null",259),pn(1280,qs),pn(1536,bs),te("/dev/tty",1280),te("/dev/tty1",1536);var t=new Uint8Array(1024),e=0,r=()=>(e===0&&(e=ye(t).byteLength),t[--e]);zt("random",r),zt("urandom",r),dt("/dev/shm"),dt("/dev/shm/tmp")}(),function(){dt("/proc");var t=dt("/proc/self");dt("/proc/self/fd"),qn({Jf(){var e=wn(t,"fd",16895,73);return e.Af={Sf(r,s){var i=tt(+s);return r={parent:null,Jf:{ng:"fake"},Af:{Vf:()=>i.path}},r.parent=r}},e}},"/proc/self/fd")}(),function(){let t=new Map;n.setAuthorizer=function(e,r,s){return r?t.set(e,{f:r,hg:s}):t.delete(e),ht("set_authorizer","number",["number"],[e])},Fn=function(e,r,s,i,c,E){if(t.has(e)){let{f:g,hg:S}=t.get(e);return g(S,r,s?s?B(w,s):"":null,i?i?B(w,i):"":null,c?c?B(w,c):"":null,E?E?B(w,E):"":null)}return 0}}(),function(){let t=new Map,e=new Map;n.createFunction=function(r,s,i,c,E,g){let S=t.size;return t.set(S,{f:g,Mf:E}),ht("create_function","number","number string number number number number".split(" "),[r,s,i,c,S,0])},n.createAggregate=function(r,s,i,c,E,g,S){let m=t.size;return t.set(m,{step:g,wg:S,Mf:E}),ht("create_function","number","number string number number number number".split(" "),[r,s,i,c,m,1])},n.getFunctionUserData=function(r){return e.get(r)},Vn=function(r,s,i,c){r=t.get(r),e.set(s,r.Mf),r.f(s,new Uint32Array(w.buffer,c,i)),e.delete(s)},Un=function(r,s,i,c){r=t.get(r),e.set(s,r.Mf),r.step(s,new Uint32Array(w.buffer,c,i)),e.delete(s)},Pn=function(r,s){r=t.get(r),e.set(s,r.Mf),r.wg(s),e.delete(s)}}(),function(){let t=new Map;n.progressHandler=function(e,r,s,i){return s?t.set(e,{f:s,hg:i}):t.delete(e),ht("progress_handler",null,["number","number"],[e,r])},kn=function(e){if(t.has(e)){let{f:r,hg:s}=t.get(e);return r(s)}return 0}}(),function(){function t(S,m){let L=`get${S}`,y=`set${S}`;return new Proxy(new DataView(w.buffer,m,S==="Int32"?4:8),{get(b,V){if(V===L)return function(H,J){if(!J)throw Error("must be little endian");return b[V](H,J)};if(V===y)return function(H,J,X){if(!X)throw Error("must be little endian");return b[V](H,J,X)};if(typeof V=="string"&&V.match(/^(get)|(set)/))throw Error("invalid type");return b[V]}})}let e=typeof qr=="object",r=new Map,s=new Map,i=new Map,c=e?new Set:null,E=e?new Set:null,g=new Map;rr=function(S,m,L,y){g.set(S?B(w,S):"",{size:m,Tf:Array.from(new Uint32Array(w.buffer,y,L))})},n.createModule=function(S,m,L,y){e&&(L.handleAsync=Ve);let b=r.size;return r.set(b,{module:L,Mf:y}),y=0,L.xCreate&&(y|=1),L.xConnect&&(y|=2),L.xBestIndex&&(y|=4),L.xDisconnect&&(y|=8),L.xDestroy&&(y|=16),L.xOpen&&(y|=32),L.xClose&&(y|=64),L.xFilter&&(y|=128),L.xNext&&(y|=256),L.xEof&&(y|=512),L.xColumn&&(y|=1024),L.xRowid&&(y|=2048),L.xUpdate&&(y|=4096),L.xBegin&&(y|=8192),L.xSync&&(y|=16384),L.xCommit&&(y|=32768),L.xRollback&&(y|=65536),L.xFindFunction&&(y|=131072),L.xRename&&(y|=262144),ht("create_module","number",["number","string","number","number"],[S,m,b,y])},zn=function(S,m,L,y,b,V){if(m=r.get(m),s.set(b,m),e){c.delete(b);for(let H of c)s.delete(H)}return y=Array.from(new Uint32Array(w.buffer,y,L)).map(H=>H?B(w,H):""),m.module.xCreate(S,m.Mf,y,b,t("Int32",V))},$n=function(S,m,L,y,b,V){if(m=r.get(m),s.set(b,m),e){c.delete(b);for(let H of c)s.delete(H)}return y=Array.from(new Uint32Array(w.buffer,y,L)).map(H=>H?B(w,H):""),m.module.xConnect(S,m.Mf,y,b,t("Int32",V))},Mn=function(S,m){var L=s.get(S),y=g.get("sqlite3_index_info").Tf;let b={};b.nConstraint=Y(m+y[0],"i32"),b.aConstraint=[];for(var V=Y(m+y[1],"*"),H=g.get("sqlite3_index_constraint").size,J=0;J<b.nConstraint;++J){var X=b.aConstraint,_t=X.push,st=V+J*H,kt=g.get("sqlite3_index_constraint").Tf,wt={};wt.iColumn=Y(st+kt[0],"i32"),wt.op=Y(st+kt[1],"i8"),wt.usable=!!Y(st+kt[2],"i8"),_t.call(X,wt)}for(b.nOrderBy=Y(m+y[2],"i32"),b.aOrderBy=[],V=Y(m+y[3],"*"),H=g.get("sqlite3_index_orderby").size,J=0;J<b.nOrderBy;++J)X=b.aOrderBy,_t=X.push,st=V+J*H,kt=g.get("sqlite3_index_orderby").Tf,wt={},wt.iColumn=Y(st+kt[0],"i32"),wt.desc=!!Y(st+kt[1],"i8"),_t.call(X,wt);for(b.aConstraintUsage=[],V=0;V<b.nConstraint;++V)b.aConstraintUsage.push({argvIndex:0,omit:!1});for(b.idxNum=Y(m+y[5],"i32"),b.idxStr=null,b.orderByConsumed=!!Y(m+y[8],"i8"),b.estimatedCost=Y(m+y[9],"double"),b.estimatedRows=Y(m+y[10],"i32"),b.idxFlags=Y(m+y[11],"i32"),b.colUsed=Y(m+y[12],"i32"),S=L.module.xBestIndex(S,b),L=g.get("sqlite3_index_info").Tf,y=Y(m+L[4],"*"),V=g.get("sqlite3_index_constraint_usage").size,_t=0;_t<b.nConstraint;++_t)H=y+_t*V,X=b.aConstraintUsage[_t],st=g.get("sqlite3_index_constraint_usage").Tf,ut(H+st[0],X.argvIndex,"i32"),ut(H+st[1],X.omit?1:0,"i8");return ut(m+L[5],b.idxNum,"i32"),typeof b.idxStr=="string"&&(y=Ft(b.idxStr),V=ht("sqlite3_malloc","number",["number"],[y+1]),ft(b.idxStr,w,V,y+1),ut(m+L[6],V,"*"),ut(m+L[7],1,"i32")),ut(m+L[8],b.orderByConsumed,"i32"),ut(m+L[9],b.estimatedCost,"double"),ut(m+L[10],b.estimatedRows,"i32"),ut(m+L[11],b.idxFlags,"i32"),S},Xn=function(S){let m=s.get(S);return e?c.add(S):s.delete(S),m.module.xDisconnect(S)},Gn=function(S){let m=s.get(S);return e?c.add(S):s.delete(S),m.module.xDestroy(S)},Zn=function(S,m){let L=s.get(S);if(i.set(m,L),e){E.delete(m);for(let y of E)i.delete(y)}return L.module.xOpen(S,m)},Kn=function(S){let m=i.get(S);return e?E.add(S):i.delete(S),m.module.xClose(S)},jn=function(S){return i.get(S).module.xEof(S)?1:0},Yn=function(S,m,L,y,b){let V=i.get(S);return L=L?L?B(w,L):"":null,b=new Uint32Array(w.buffer,b,y),V.module.xFilter(S,m,L,b)},Jn=function(S){return i.get(S).module.xNext(S)},Hn=function(S,m,L){return i.get(S).module.xColumn(S,m,L)},nr=function(S,m){return i.get(S).module.xRowid(S,t("BigInt64",m))},or=function(S,m,L,y){let b=s.get(S);return L=new Uint32Array(w.buffer,L,m),b.module.xUpdate(S,L,t("BigInt64",y))},Bn=function(S){return s.get(S).module.xBegin(S)},sr=function(S){return s.get(S).module.xSync(S)},Wn=function(S){return s.get(S).module.xCommit(S)},er=function(S){return s.get(S).module.xRollback(S)},tr=function(S,m){let L=s.get(S);return m=m?B(w,m):"",L.module.xRename(S,m)}}(),function(){function t(c,E){let g=`get${c}`,S=`set${c}`;return new Proxy(new DataView(w.buffer,E,c==="Int32"?4:8),{get(m,L){if(L===g)return function(y,b){if(!b)throw Error("must be little endian");return m[L](y,b)};if(L===S)return function(y,b,V){if(!V)throw Error("must be little endian");return m[L](y,b,V)};if(typeof L=="string"&&L.match(/^(get)|(set)/))throw Error("invalid type");return m[L]}})}let e=typeof qr=="object";e&&(n.handleAsync=Ve);let r=new Map,s=new Map;n.registerVFS=function(c,E){if(ht("sqlite3_vfs_find","number",["string"],[c.name]))throw Error(`VFS '${c.name}' already registered`);e&&(c.handleAsync=Ve);var g=c.mxPathName??64;let S=n._malloc(4);return E=ht("register_vfs","number",["string","number","number","number"],[c.name,g,E?1:0,S]),E||(g=Y(S,"*"),r.set(g,c)),n._free(S),E};let i=e?new Set:null;ar=function(c){let E=s.get(c);return e?i.add(c):s.delete(c),E.xClose(c)},hr=function(c,E,g,S,m){return s.get(c).xRead(c,w.subarray(E,E+g),4294967296*m+S+(0>S?4294967296:0))},Ir=function(c,E,g,S,m){return s.get(c).xWrite(c,w.subarray(E,E+g),4294967296*m+S+(0>S?4294967296:0))},Tr=function(c,E,g){return s.get(c).xTruncate(c,4294967296*g+E+(0>E?4294967296:0))},Sr=function(c,E){return s.get(c).xSync(c,E)},fr=function(c,E){let g=s.get(c);return E=t("BigInt64",E),g.xFileSize(c,E)},dr=function(c,E){return s.get(c).xLock(c,E)},mr=function(c,E){return s.get(c).xUnlock(c,E)},_r=function(c,E){let g=s.get(c);return E=t("Int32",E),g.xCheckReservedLock(c,E)},ur=function(c,E,g){let S=s.get(c);return g=new DataView(w.buffer,g),S.xFileControl(c,E,g)},pr=function(c){return s.get(c).xSectorSize(c)},lr=function(c){return s.get(c).xDeviceCharacteristics(c)},Er=function(c,E,g,S,m){if(c=r.get(c),s.set(g,c),e){i.delete(g);for(var L of i)s.delete(L)}if(L=null,S&64){L=1;let y=[];for(;L;){let b=w[E++];if(b)y.push(b);else switch(w[E]||(L=null),L){case 1:y.push(63),L=2;break;case 2:y.push(61),L=3;break;case 3:y.push(38),L=2}}L=new TextDecoder().decode(new Uint8Array(y))}else E&&(L=E?B(w,E):"");return m=t("Int32",m),c.xOpen(L,g,S,m)},cr=function(c,E,g){return r.get(c).xDelete(E?B(w,E):"",g)},ir=function(c,E,g,S){return c=r.get(c),S=t("Int32",S),c.xAccess(E?B(w,E):"",g,S)}}();var Ms={a:(t,e,r,s)=>{lt(`Assertion failed: ${t?B(w,t):""}, at: `+[e?e?B(w,e):"":"unknown filename",r,s?s?B(w,s):"":"unknown function"])},N:function(t,e){try{return t=t?B(w,t):"",Rn(t,e),0}catch(r){if(typeof $>"u"||r.name!=="ErrnoError")throw r;return-r.Df}},Q:function(t,e,r){try{if(e=e?B(w,e):"",e=At(t,e),r&-8)return-28;var s=et(e,{Nf:!0}).node;return s?(t="",r&4&&(t+="r"),r&2&&(t+="w"),r&1&&(t+="x"),t&&Pt(s,t)?-2:0):-44}catch(i){if(typeof $>"u"||i.name!=="ErrnoError")throw i;return-i.Df}},O:function(t,e){try{var r=tt(t);return Rn(r.node,e),0}catch(s){if(typeof $>"u"||s.name!=="ErrnoError")throw s;return-s.Df}},M:function(t){try{var e=tt(t).node,r=typeof e=="string"?et(e,{Nf:!0}).node:e;if(!r.Af.Ff)throw new q(63);return r.Af.Ff(r,{timestamp:Date.now()}),0}catch(s){if(typeof $>"u"||s.name!=="ErrnoError")throw s;return-s.Df}},b:function(t,e,r){se=r;try{var s=tt(t);switch(e){case 0:var i=oe();if(0>i)break;for(;$t[i];)i++;return Ns(s,i).Lf;case 1:case 2:return 0;case 3:return s.flags;case 4:return i=oe(),s.flags|=i,0;case 12:return i=oe(),F[i+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(c){if(typeof $>"u"||c.name!=="ErrnoError")throw c;return-c.Df}},L:function(t,e){try{var r=tt(t);return re(ee,r.path,e)}catch(s){if(typeof $>"u"||s.name!=="ErrnoError")throw s;return-s.Df}},n:function(t,e,r){e=Gt(e,r);try{if(isNaN(e))return 61;var s=tt(t);if(!(s.flags&2097155))throw new q(28);return On(s.node,e),0}catch(i){if(typeof $>"u"||i.name!=="ErrnoError")throw i;return-i.Df}},F:function(t,e){try{if(e===0)return-28;var r=Ft("/")+1;return e<r?-68:(ft("/",w,t,e),r)}catch(s){if(typeof $>"u"||s.name!=="ErrnoError")throw s;return-s.Df}},J:function(t,e){try{return t=t?B(w,t):"",re(An,t,e)}catch(r){if(typeof $>"u"||r.name!=="ErrnoError")throw r;return-r.Df}},C:function(t,e,r){try{return e=e?B(w,e):"",e=At(t,e),e=Dt(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),dt(e,r),0}catch(s){if(typeof $>"u"||s.name!=="ErrnoError")throw s;return-s.Df}},H:function(t,e,r,s){try{e=e?B(w,e):"";var i=s&256;return e=At(t,e,s&4096),re(i?An:ee,e,r)}catch(c){if(typeof $>"u"||c.name!=="ErrnoError")throw c;return-c.Df}},B:function(t,e,r,s){se=s;try{e=e?B(w,e):"",e=At(t,e);var i=s?oe():0;return ne(e,r,i).Lf}catch(c){if(typeof $>"u"||c.name!=="ErrnoError")throw c;return-c.Df}},z:function(t,e,r,s){try{if(e=e?B(w,e):"",e=At(t,e),0>=s)return-28;var i=vn(e),c=Math.min(s,Ft(i)),E=I[r+c];return ft(i,w,r,s+1),I[r+c]=E,c}catch(g){if(typeof $>"u"||g.name!=="ErrnoError")throw g;return-g.Df}},y:function(t){try{return t=t?B(w,t):"",bn(t),0}catch(e){if(typeof $>"u"||e.name!=="ErrnoError")throw e;return-e.Df}},K:function(t,e){try{return t=t?B(w,t):"",re(ee,t,e)}catch(r){if(typeof $>"u"||r.name!=="ErrnoError")throw r;return-r.Df}},u:function(t,e,r){try{if(e=e?B(w,e):"",e=At(t,e),r===0){t=e;var s=et(t,{parent:!0}).node;if(!s)throw new q(44);var i=Jt(t),c=vt(s,i),E=yn(s,i,!1);if(E)throw new q(E);if(!s.Af.cg)throw new q(63);if(c.Pf)throw new q(10);s.Af.cg(s,i),In(c)}else r===512?bn(e):lt("Invalid flags passed to unlinkat");return 0}catch(g){if(typeof $>"u"||g.name!=="ErrnoError")throw g;return-g.Df}},t:function(t,e,r){try{if(e=e?B(w,e):"",e=At(t,e,!0),r){var s=W[r>>2]+4294967296*R[r+4>>2],i=R[r+8>>2];c=1e3*s+i/1e6,r+=16,s=W[r>>2]+4294967296*R[r+4>>2],i=R[r+8>>2],E=1e3*s+i/1e6}else var c=Date.now(),E=c;t=c;var g=et(e,{Nf:!0}).node;return g.Af.Ff(g,{timestamp:Math.max(t,E)}),0}catch(S){if(typeof $>"u"||S.name!=="ErrnoError")throw S;return-S.Df}},k:function(t,e,r){t=new Date(1e3*Gt(t,e)),R[r>>2]=t.getSeconds(),R[r+4>>2]=t.getMinutes(),R[r+8>>2]=t.getHours(),R[r+12>>2]=t.getDate(),R[r+16>>2]=t.getMonth(),R[r+20>>2]=t.getFullYear()-1900,R[r+24>>2]=t.getDay(),e=t.getFullYear(),R[r+28>>2]=(e%4!==0||e%100===0&&e%400!==0?Ds:Qs)[t.getMonth()]+t.getDate()-1|0,R[r+36>>2]=-(60*t.getTimezoneOffset()),e=new Date(t.getFullYear(),6,1).getTimezoneOffset();var s=new Date(t.getFullYear(),0,1).getTimezoneOffset();R[r+32>>2]=(e!=s&&t.getTimezoneOffset()==Math.min(s,e))|0},i:function(t,e,r,s,i,c,E,g){i=Gt(i,c);try{if(isNaN(i))return 61;var S=tt(s);if(e&2&&!(r&2)&&(S.flags&2097155)!==2)throw new q(2);if((S.flags&2097155)===1)throw new q(2);if(!S.Bf.Zf)throw new q(43);var m=S.Bf.Zf(S,t,i,e,r),L=m.Cg;return R[E>>2]=m.qg,W[g>>2]=L,0}catch(y){if(typeof $>"u"||y.name!=="ErrnoError")throw y;return-y.Df}},j:function(t,e,r,s,i,c,E){c=Gt(c,E);try{var g=tt(i);if(r&2){if((g.node.mode&61440)!==32768)throw new q(43);s&2||g.Bf.$f&&g.Bf.$f(g,w.slice(t,t+e),c,e,s)}}catch(S){if(typeof $>"u"||S.name!=="ErrnoError")throw S;return-S.Df}},v:(t,e,r,s)=>{var i=new Date().getFullYear(),c=new Date(i,0,1),E=new Date(i,6,1);i=c.getTimezoneOffset();var g=E.getTimezoneOffset();W[t>>2]=60*Math.max(i,g),R[e>>2]=+(i!=g),t=S=>S.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1],c=t(c),E=t(E),g<i?(ft(c,w,r,17),ft(E,w,s,17)):(ft(c,w,s,17),ft(E,w,r,17))},e:()=>Date.now(),d:()=>performance.now(),r:t=>{var e=w.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var s=e*(1+.2/r);s=Math.min(s,t+100663296);var i=Math;s=Math.max(t,s);t:{i=(i.min.call(i,2147483648,s+(65536-s%65536)%65536)-u.buffer.byteLength+65535)/65536;try{u.grow(i),nt();var c=1;break t}catch{}c=void 0}if(c)return!0}return!1},D:(t,e)=>{var r=0;return Dn().forEach((s,i)=>{var c=e+r;for(i=W[t+4*i>>2]=c,c=0;c<s.length;++c)I[i++]=s.charCodeAt(c);I[i]=0,r+=s.length+1}),0},E:(t,e)=>{var r=Dn();W[t>>2]=r.length;var s=0;return r.forEach(i=>s+=i.length+1),W[e>>2]=s,0},f:function(t){try{var e=tt(t);if(e.Lf===null)throw new q(8);e.dg&&(e.dg=null);try{e.Bf.close&&e.Bf.close(e)}catch(r){throw r}finally{$t[e.Lf]=null}return e.Lf=null,0}catch(r){if(typeof $>"u"||r.name!=="ErrnoError")throw r;return r.Df}},s:function(t,e){try{var r=tt(t);return I[e]=r.Hf?2:rt(r.mode)?3:(r.mode&61440)===40960?7:4,F[e+2>>1]=0,z=[0,(Q=0,1<=+Math.abs(Q)?0<Q?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],R[e+8>>2]=z[0],R[e+12>>2]=z[1],z=[0,(Q=0,1<=+Math.abs(Q)?0<Q?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],R[e+16>>2]=z[0],R[e+20>>2]=z[1],0}catch(s){if(typeof $>"u"||s.name!=="ErrnoError")throw s;return s.Df}},A:function(t,e,r,s){try{t:{var i=tt(t);t=e;for(var c,E=e=0;E<r;E++){var g=W[t>>2],S=W[t+4>>2];t+=8;var m=i,L=c,y=I;if(0>S||0>L)throw new q(28);if(m.Lf===null)throw new q(8);if((m.flags&2097155)===1)throw new q(8);if(rt(m.node.mode))throw new q(31);if(!m.Bf.read)throw new q(28);var b=typeof L<"u";if(!b)L=m.position;else if(!m.seekable)throw new q(70);var V=m.Bf.read(m,y,g,S,L);b||(m.position+=V);var H=V;if(0>H){var J=-1;break t}if(e+=H,H<S)break;typeof c<"u"&&(c+=H)}J=e}return W[s>>2]=J,0}catch(X){if(typeof $>"u"||X.name!=="ErrnoError")throw X;return X.Df}},l:function(t,e,r,s,i){e=Gt(e,r);try{if(isNaN(e))return 61;var c=tt(t);return Nn(c,e,s),z=[c.position>>>0,(Q=c.position,1<=+Math.abs(Q)?0<Q?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],R[i>>2]=z[0],R[i+4>>2]=z[1],c.dg&&e===0&&s===0&&(c.dg=null),0}catch(E){if(typeof $>"u"||E.name!=="ErrnoError")throw E;return E.Df}},G:function(t){try{var e=tt(t);return xr(r=>{var s=e.node.Jf;s.type.Dg?s.type.Dg(s,!1,i=>{r(i?29:0)}):r(0)})}catch(r){if(typeof $>"u"||r.name!=="ErrnoError")throw r;return r.Df}},w:function(t,e,r,s){try{t:{var i=tt(t);t=e;for(var c,E=e=0;E<r;E++){var g=W[t>>2],S=W[t+4>>2];t+=8;var m=i,L=g,y=S,b=c,V=I;if(0>y||0>b)throw new q(28);if(m.Lf===null)throw new q(8);if(!(m.flags&2097155))throw new q(8);if(rt(m.node.mode))throw new q(31);if(!m.Bf.write)throw new q(28);m.seekable&&m.flags&1024&&Nn(m,0,2);var H=typeof b<"u";if(!H)b=m.position;else if(!m.seekable)throw new q(70);var J=m.Bf.write(m,V,L,y,b,void 0);H||(m.position+=J);var X=J;if(0>X){var _t=-1;break t}e+=X,typeof c<"u"&&(c+=X)}_t=e}return W[s>>2]=_t,0}catch(st){if(typeof $>"u"||st.name!=="ErrnoError")throw st;return st.Df}},ta:(t,e)=>(ye(w.subarray(t,t+e)),0),ia:Fn,I:Pn,_:Vn,ca:kn,P:Un,la:Bn,m:Mn,sa:Kn,oa:Hn,ja:Wn,ea:$n,fa:zn,g:Gn,h:Xn,pa:jn,ra:Yn,qa:Jn,da:Zn,ga:tr,ha:er,na:nr,c:rr,ka:sr,ma:or,x:function(t,e,r,s){(0,globalThis.__onTablesChanged)?.(t,e,r,s)},aa:ir,V:_r,$:ar,ba:cr,S:lr,U:ur,Y:fr,X:dr,R:Er,q:hr,T:pr,Z:Sr,o:Tr,W:mr,p:Ir},_=function(){function t(r){return _=r.exports,_=Ps(),u=_.ua,nt(),Rt=_.qf,xt.unshift(_.va),St--,n.monitorRunDependencies?.(St),St==0&&(Ht!==null&&(clearInterval(Ht),Ht=null),Wt&&(r=Wt,Wt=null,r())),_}var e={a:Ms};if(St++,n.monitorRunDependencies?.(St),n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(r){U(`Module.instantiateWasm callback failed with error: ${r}`),d(r)}return gs(e,function(r){t(r.instance)}).catch(d),{}}();n._sqlite3_auto_extension=t=>(n._sqlite3_auto_extension=_.wa)(t),n._sqlite3_free=t=>(n._sqlite3_free=_.xa)(t),n._sqlite3_malloc=t=>(n._sqlite3_malloc=_.ya)(t),n._sqlite3_bind_blob=(t,e,r,s,i)=>(n._sqlite3_bind_blob=_.za)(t,e,r,s,i),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=_.Aa)(),n._sqlite3_bind_int=(t,e,r)=>(n._sqlite3_bind_int=_.Ba)(t,e,r),n._sqlite3_bind_int64=(t,e,r,s)=>(n._sqlite3_bind_int64=_.Ca)(t,e,r,s),n._sqlite3_bind_double=(t,e,r)=>(n._sqlite3_bind_double=_.Da)(t,e,r),n._sqlite3_bind_null=(t,e)=>(n._sqlite3_bind_null=_.Ea)(t,e),n._sqlite3_clear_bindings=t=>(n._sqlite3_clear_bindings=_.Fa)(t),n._sqlite3_bind_text=(t,e,r,s,i)=>(n._sqlite3_bind_text=_.Ga)(t,e,r,s,i),n._sqlite3_bind_pointer=(t,e,r,s,i)=>(n._sqlite3_bind_pointer=_.Ha)(t,e,r,s,i),n._sqlite3_bind_value=(t,e,r)=>(n._sqlite3_bind_value=_.Ia)(t,e,r),n._sqlite3_close=t=>(n._sqlite3_close=_.Ja)(t),n._sqlite3_vtab_config=(t,e,r)=>(n._sqlite3_vtab_config=_.Ka)(t,e,r),n._sqlite3_commit_hook=(t,e,r)=>(n._sqlite3_commit_hook=_.La)(t,e,r),n._sqlite3_column_type=(t,e)=>(n._sqlite3_column_type=_.Ma)(t,e),n._sqlite3_column_count=t=>(n._sqlite3_column_count=_.Na)(t),n._sqlite3_column_text=(t,e)=>(n._sqlite3_column_text=_.Oa)(t,e),n._sqlite3_column_blob=(t,e)=>(n._sqlite3_column_blob=_.Pa)(t,e),n._sqlite3_column_bytes=(t,e)=>(n._sqlite3_column_bytes=_.Qa)(t,e),n._sqlite3_column_value=(t,e)=>(n._sqlite3_column_value=_.Ra)(t,e),n._sqlite3_column_double=(t,e)=>(n._sqlite3_column_double=_.Sa)(t,e),n._sqlite3_column_int=(t,e)=>(n._sqlite3_column_int=_.Ta)(t,e),n._sqlite3_column_int64=(t,e)=>(n._sqlite3_column_int64=_.Ua)(t,e),n._sqlite3_column_name=(t,e)=>(n._sqlite3_column_name=_.Va)(t,e),n._sqlite3_context_db_handle=t=>(n._sqlite3_context_db_handle=_.Wa)(t),n._sqlite3_create_function_v2=(t,e,r,s,i,c,E,g,S)=>(n._sqlite3_create_function_v2=_.Xa)(t,e,r,s,i,c,E,g,S),n._sqlite3_create_module_v2=(t,e,r,s,i)=>(n._sqlite3_create_module_v2=_.Ya)(t,e,r,s,i),n._sqlite3_declare_vtab=(t,e)=>(n._sqlite3_declare_vtab=_.Za)(t,e),n._sqlite3_errcode=t=>(n._sqlite3_errcode=_._a)(t),n._sqlite3_errmsg=t=>(n._sqlite3_errmsg=_.$a)(t),n._sqlite3_exec=(t,e,r,s,i)=>(n._sqlite3_exec=_.ab)(t,e,r,s,i),n._sqlite3_finalize=t=>(n._sqlite3_finalize=_.bb)(t),n._sqlite3_get_auxdata=(t,e)=>(n._sqlite3_get_auxdata=_.cb)(t,e),n._sqlite3_next_stmt=(t,e)=>(n._sqlite3_next_stmt=_.db)(t,e),n._sqlite3_open=(t,e)=>(n._sqlite3_open=_.eb)(t,e),n._sqlite3_prepare_v2=(t,e,r,s,i)=>(n._sqlite3_prepare_v2=_.fb)(t,e,r,s,i),n._sqlite3_prepare_v3=(t,e,r,s,i,c)=>(n._sqlite3_prepare_v3=_.gb)(t,e,r,s,i,c),n._sqlite3_randomness=(t,e)=>(n._sqlite3_randomness=_.hb)(t,e),n._sqlite3_result_int=(t,e)=>(n._sqlite3_result_int=_.ib)(t,e),n._sqlite3_result_blob=(t,e,r,s)=>(n._sqlite3_result_blob=_.jb)(t,e,r,s),n._sqlite3_result_int64=(t,e,r)=>(n._sqlite3_result_int64=_.kb)(t,e,r),n._sqlite3_result_double=(t,e)=>(n._sqlite3_result_double=_.lb)(t,e),n._sqlite3_result_null=t=>(n._sqlite3_result_null=_.mb)(t),n._sqlite3_result_pointer=(t,e,r,s)=>(n._sqlite3_result_pointer=_.nb)(t,e,r,s),n._sqlite3_result_error=(t,e,r)=>(n._sqlite3_result_error=_.ob)(t,e,r),n._sqlite3_result_error_code=(t,e)=>(n._sqlite3_result_error_code=_.pb)(t,e),n._sqlite3_result_value=(t,e)=>(n._sqlite3_result_value=_.qb)(t,e),n._sqlite3_result_text=(t,e,r,s)=>(n._sqlite3_result_text=_.rb)(t,e,r,s),n._sqlite3_result_subtype=(t,e)=>(n._sqlite3_result_subtype=_.sb)(t,e),n._sqlite3_set_authorizer=(t,e,r)=>(n._sqlite3_set_authorizer=_.tb)(t,e,r),n._sqlite3_set_auxdata=(t,e,r,s)=>(n._sqlite3_set_auxdata=_.ub)(t,e,r,s),n._sqlite3_sql=t=>(n._sqlite3_sql=_.vb)(t),n._sqlite3_reset=t=>(n._sqlite3_reset=_.wb)(t),n._sqlite3_value_text=t=>(n._sqlite3_value_text=_.xb)(t),n._sqlite3_value_type=t=>(n._sqlite3_value_type=_.yb)(t),n._sqlite3_value_bytes=t=>(n._sqlite3_value_bytes=_.zb)(t),n._sqlite3_value_blob=t=>(n._sqlite3_value_blob=_.Ab)(t),n._sqlite3_value_int=t=>(n._sqlite3_value_int=_.Bb)(t),n._sqlite3_value_int64=t=>(n._sqlite3_value_int64=_.Cb)(t),n._sqlite3_value_double=t=>(n._sqlite3_value_double=_.Db)(t),n._sqlite3_value_pointer=(t,e)=>(n._sqlite3_value_pointer=_.Eb)(t,e),n._sqlite3_vtab_distinct=t=>(n._sqlite3_vtab_distinct=_.Fb)(t),n._sqlite3_get_autocommit=t=>(n._sqlite3_get_autocommit=_.Gb)(t),n._sqlite3_step=t=>(n._sqlite3_step=_.Hb)(t),n._sqlite3_status64=(t,e,r,s)=>(n._sqlite3_status64=_.Ib)(t,e,r,s),n._sqlite3_status=(t,e,r,s)=>(n._sqlite3_status=_.Jb)(t,e,r,s),n._sqlite3_db_status=(t,e,r,s,i)=>(n._sqlite3_db_status=_.Kb)(t,e,r,s,i),n._sqlite3_msize=t=>(n._sqlite3_msize=_.Lb)(t),n._sqlite3_vfs_find=t=>(n._sqlite3_vfs_find=_.Mb)(t),n._sqlite3_vfs_register=(t,e)=>(n._sqlite3_vfs_register=_.Nb)(t,e),n._sqlite3_vfs_unregister=t=>(n._sqlite3_vfs_unregister=_.Ob)(t),n._sqlite3_release_memory=t=>(n._sqlite3_release_memory=_.Pb)(t),n._sqlite3_soft_heap_limit64=(t,e)=>(n._sqlite3_soft_heap_limit64=_.Qb)(t,e),n._sqlite3_memory_used=()=>(n._sqlite3_memory_used=_.Rb)(),n._sqlite3_hard_heap_limit64=(t,e)=>(n._sqlite3_hard_heap_limit64=_.Sb)(t,e),n._sqlite3_memory_highwater=t=>(n._sqlite3_memory_highwater=_.Tb)(t),n._sqlite3_malloc64=(t,e)=>(n._sqlite3_malloc64=_.Ub)(t,e),n._sqlite3_realloc=(t,e)=>(n._sqlite3_realloc=_.Vb)(t,e),n._sqlite3_realloc64=(t,e,r)=>(n._sqlite3_realloc64=_.Wb)(t,e,r),n._sqlite3_str_vappendf=(t,e,r)=>(n._sqlite3_str_vappendf=_.Xb)(t,e,r),n._sqlite3_str_append=(t,e,r)=>(n._sqlite3_str_append=_.Yb)(t,e,r),n._sqlite3_str_appendchar=(t,e,r)=>(n._sqlite3_str_appendchar=_.Zb)(t,e,r),n._sqlite3_str_appendall=(t,e)=>(n._sqlite3_str_appendall=_._b)(t,e),n._sqlite3_str_appendf=(t,e,r)=>(n._sqlite3_str_appendf=_.$b)(t,e,r),n._sqlite3_str_finish=t=>(n._sqlite3_str_finish=_.ac)(t),n._sqlite3_str_errcode=t=>(n._sqlite3_str_errcode=_.bc)(t),n._sqlite3_str_length=t=>(n._sqlite3_str_length=_.cc)(t),n._sqlite3_str_value=t=>(n._sqlite3_str_value=_.dc)(t),n._sqlite3_str_reset=t=>(n._sqlite3_str_reset=_.ec)(t),n._sqlite3_str_new=t=>(n._sqlite3_str_new=_.fc)(t),n._sqlite3_vmprintf=(t,e)=>(n._sqlite3_vmprintf=_.gc)(t,e),n._sqlite3_mprintf=(t,e)=>(n._sqlite3_mprintf=_.hc)(t,e),n._sqlite3_vsnprintf=(t,e,r,s)=>(n._sqlite3_vsnprintf=_.ic)(t,e,r,s),n._sqlite3_snprintf=(t,e,r,s)=>(n._sqlite3_snprintf=_.jc)(t,e,r,s),n._sqlite3_log=(t,e,r)=>(n._sqlite3_log=_.kc)(t,e,r),n._sqlite3_stricmp=(t,e)=>(n._sqlite3_stricmp=_.lc)(t,e),n._sqlite3_strnicmp=(t,e,r)=>(n._sqlite3_strnicmp=_.mc)(t,e,r),n._sqlite3_os_init=()=>(n._sqlite3_os_init=_.nc)(),n._sqlite3_os_end=()=>(n._sqlite3_os_end=_.oc)(),n._sqlite3_serialize=(t,e,r,s)=>(n._sqlite3_serialize=_.pc)(t,e,r,s),n._sqlite3_deserialize=(t,e,r,s,i,c,E,g)=>(n._sqlite3_deserialize=_.qc)(t,e,r,s,i,c,E,g),n._sqlite3_database_file_object=t=>(n._sqlite3_database_file_object=_.rc)(t),n._sqlite3_backup_init=(t,e,r,s)=>(n._sqlite3_backup_init=_.sc)(t,e,r,s),n._sqlite3_backup_step=(t,e)=>(n._sqlite3_backup_step=_.tc)(t,e),n._sqlite3_backup_finish=t=>(n._sqlite3_backup_finish=_.uc)(t),n._sqlite3_backup_remaining=t=>(n._sqlite3_backup_remaining=_.vc)(t),n._sqlite3_backup_pagecount=t=>(n._sqlite3_backup_pagecount=_.wc)(t),n._sqlite3_value_bytes16=t=>(n._sqlite3_value_bytes16=_.xc)(t),n._sqlite3_value_subtype=t=>(n._sqlite3_value_subtype=_.yc)(t),n._sqlite3_value_text16=t=>(n._sqlite3_value_text16=_.zc)(t),n._sqlite3_value_text16be=t=>(n._sqlite3_value_text16be=_.Ac)(t),n._sqlite3_value_text16le=t=>(n._sqlite3_value_text16le=_.Bc)(t),n._sqlite3_value_encoding=t=>(n._sqlite3_value_encoding=_.Cc)(t),n._sqlite3_value_nochange=t=>(n._sqlite3_value_nochange=_.Dc)(t),n._sqlite3_value_frombind=t=>(n._sqlite3_value_frombind=_.Ec)(t),n._sqlite3_value_dup=t=>(n._sqlite3_value_dup=_.Fc)(t),n._sqlite3_value_free=t=>(n._sqlite3_value_free=_.Gc)(t),n._sqlite3_result_blob64=(t,e,r,s,i)=>(n._sqlite3_result_blob64=_.Hc)(t,e,r,s,i),n._sqlite3_result_error16=(t,e,r)=>(n._sqlite3_result_error16=_.Ic)(t,e,r),n._sqlite3_result_text64=(t,e,r,s,i,c)=>(n._sqlite3_result_text64=_.Jc)(t,e,r,s,i,c),n._sqlite3_result_text16=(t,e,r,s)=>(n._sqlite3_result_text16=_.Kc)(t,e,r,s),n._sqlite3_result_text16be=(t,e,r,s)=>(n._sqlite3_result_text16be=_.Lc)(t,e,r,s),n._sqlite3_result_text16le=(t,e,r,s)=>(n._sqlite3_result_text16le=_.Mc)(t,e,r,s),n._sqlite3_result_error_toobig=t=>(n._sqlite3_result_error_toobig=_.Nc)(t),n._sqlite3_result_zeroblob=(t,e)=>(n._sqlite3_result_zeroblob=_.Oc)(t,e),n._sqlite3_result_zeroblob64=(t,e,r)=>(n._sqlite3_result_zeroblob64=_.Pc)(t,e,r),n._sqlite3_result_error_nomem=t=>(n._sqlite3_result_error_nomem=_.Qc)(t),n._sqlite3_user_data=t=>(n._sqlite3_user_data=_.Rc)(t),n._sqlite3_vtab_nochange=t=>(n._sqlite3_vtab_nochange=_.Sc)(t),n._sqlite3_vtab_in_first=(t,e)=>(n._sqlite3_vtab_in_first=_.Tc)(t,e),n._sqlite3_vtab_in_next=(t,e)=>(n._sqlite3_vtab_in_next=_.Uc)(t,e),n._sqlite3_aggregate_context=(t,e)=>(n._sqlite3_aggregate_context=_.Vc)(t,e),n._sqlite3_data_count=t=>(n._sqlite3_data_count=_.Wc)(t),n._sqlite3_column_bytes16=(t,e)=>(n._sqlite3_column_bytes16=_.Xc)(t,e),n._sqlite3_column_text16=(t,e)=>(n._sqlite3_column_text16=_.Yc)(t,e),n._sqlite3_column_name16=(t,e)=>(n._sqlite3_column_name16=_.Zc)(t,e),n._sqlite3_bind_blob64=(t,e,r,s,i,c)=>(n._sqlite3_bind_blob64=_._c)(t,e,r,s,i,c),n._sqlite3_bind_text64=(t,e,r,s,i,c,E)=>(n._sqlite3_bind_text64=_.$c)(t,e,r,s,i,c,E),n._sqlite3_bind_text16=(t,e,r,s,i)=>(n._sqlite3_bind_text16=_.ad)(t,e,r,s,i),n._sqlite3_bind_zeroblob=(t,e,r)=>(n._sqlite3_bind_zeroblob=_.bd)(t,e,r),n._sqlite3_bind_zeroblob64=(t,e,r,s)=>(n._sqlite3_bind_zeroblob64=_.cd)(t,e,r,s),n._sqlite3_bind_parameter_count=t=>(n._sqlite3_bind_parameter_count=_.dd)(t),n._sqlite3_bind_parameter_name=(t,e)=>(n._sqlite3_bind_parameter_name=_.ed)(t,e),n._sqlite3_bind_parameter_index=(t,e)=>(n._sqlite3_bind_parameter_index=_.fd)(t,e),n._sqlite3_db_handle=t=>(n._sqlite3_db_handle=_.gd)(t),n._sqlite3_stmt_readonly=t=>(n._sqlite3_stmt_readonly=_.hd)(t),n._sqlite3_stmt_isexplain=t=>(n._sqlite3_stmt_isexplain=_.id)(t),n._sqlite3_stmt_explain=(t,e)=>(n._sqlite3_stmt_explain=_.jd)(t,e),n._sqlite3_stmt_busy=t=>(n._sqlite3_stmt_busy=_.kd)(t),n._sqlite3_stmt_status=(t,e,r)=>(n._sqlite3_stmt_status=_.ld)(t,e,r),n._sqlite3_expanded_sql=t=>(n._sqlite3_expanded_sql=_.md)(t),n._sqlite3_value_numeric_type=t=>(n._sqlite3_value_numeric_type=_.nd)(t),n._sqlite3_blob_open=(t,e,r,s,i,c,E,g)=>(n._sqlite3_blob_open=_.od)(t,e,r,s,i,c,E,g),n._sqlite3_blob_close=t=>(n._sqlite3_blob_close=_.pd)(t),n._sqlite3_blob_read=(t,e,r,s)=>(n._sqlite3_blob_read=_.qd)(t,e,r,s),n._sqlite3_blob_write=(t,e,r,s)=>(n._sqlite3_blob_write=_.rd)(t,e,r,s),n._sqlite3_blob_bytes=t=>(n._sqlite3_blob_bytes=_.sd)(t),n._sqlite3_blob_reopen=(t,e,r)=>(n._sqlite3_blob_reopen=_.td)(t,e,r),n._sqlite3_strglob=(t,e)=>(n._sqlite3_strglob=_.ud)(t,e),n._sqlite3_strlike=(t,e,r)=>(n._sqlite3_strlike=_.vd)(t,e,r),n._sqlite3_cancel_auto_extension=t=>(n._sqlite3_cancel_auto_extension=_.wd)(t),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=_.xd)(),n._sqlite3_prepare=(t,e,r,s,i)=>(n._sqlite3_prepare=_.yd)(t,e,r,s,i),n._sqlite3_prepare16=(t,e,r,s,i)=>(n._sqlite3_prepare16=_.zd)(t,e,r,s,i),n._sqlite3_prepare16_v2=(t,e,r,s,i)=>(n._sqlite3_prepare16_v2=_.Ad)(t,e,r,s,i),n._sqlite3_prepare16_v3=(t,e,r,s,i,c)=>(n._sqlite3_prepare16_v3=_.Bd)(t,e,r,s,i,c),n._sqlite3_get_table=(t,e,r,s,i,c)=>(n._sqlite3_get_table=_.Cd)(t,e,r,s,i,c),n._sqlite3_free_table=t=>(n._sqlite3_free_table=_.Dd)(t),n._sqlite3_create_module=(t,e,r,s)=>(n._sqlite3_create_module=_.Ed)(t,e,r,s),n._sqlite3_drop_modules=(t,e)=>(n._sqlite3_drop_modules=_.Fd)(t,e),n._sqlite3_vtab_on_conflict=t=>(n._sqlite3_vtab_on_conflict=_.Gd)(t),n._sqlite3_vtab_collation=(t,e)=>(n._sqlite3_vtab_collation=_.Hd)(t,e),n._sqlite3_vtab_in=(t,e,r)=>(n._sqlite3_vtab_in=_.Id)(t,e,r),n._sqlite3_vtab_rhs_value=(t,e,r)=>(n._sqlite3_vtab_rhs_value=_.Jd)(t,e,r),n._sqlite3_keyword_name=(t,e,r)=>(n._sqlite3_keyword_name=_.Kd)(t,e,r),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=_.Ld)(),n._sqlite3_keyword_check=(t,e)=>(n._sqlite3_keyword_check=_.Md)(t,e),n._sqlite3_complete=t=>(n._sqlite3_complete=_.Nd)(t),n._sqlite3_complete16=t=>(n._sqlite3_complete16=_.Od)(t),n._sqlite3_libversion=()=>(n._sqlite3_libversion=_.Pd)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=_.Qd)(),n._sqlite3_threadsafe=()=>(n._sqlite3_threadsafe=_.Rd)(),n._sqlite3_initialize=()=>(n._sqlite3_initialize=_.Sd)(),n._sqlite3_config=(t,e)=>(n._sqlite3_config=_.Td)(t,e),n._sqlite3_db_mutex=t=>(n._sqlite3_db_mutex=_.Ud)(t),n._sqlite3_db_release_memory=t=>(n._sqlite3_db_release_memory=_.Vd)(t),n._sqlite3_db_cacheflush=t=>(n._sqlite3_db_cacheflush=_.Wd)(t),n._sqlite3_db_config=(t,e,r)=>(n._sqlite3_db_config=_.Xd)(t,e,r),n._sqlite3_last_insert_rowid=t=>(n._sqlite3_last_insert_rowid=_.Yd)(t),n._sqlite3_set_last_insert_rowid=(t,e,r)=>(n._sqlite3_set_last_insert_rowid=_.Zd)(t,e,r),n._sqlite3_changes64=t=>(n._sqlite3_changes64=_._d)(t),n._sqlite3_changes=t=>(n._sqlite3_changes=_.$d)(t),n._sqlite3_total_changes64=t=>(n._sqlite3_total_changes64=_.ae)(t),n._sqlite3_total_changes=t=>(n._sqlite3_total_changes=_.be)(t),n._sqlite3_txn_state=(t,e)=>(n._sqlite3_txn_state=_.ce)(t,e),n._sqlite3_close_v2=t=>(n._sqlite3_close_v2=_.de)(t),n._sqlite3_busy_handler=(t,e,r)=>(n._sqlite3_busy_handler=_.ee)(t,e,r),n._sqlite3_progress_handler=(t,e,r,s)=>(n._sqlite3_progress_handler=_.fe)(t,e,r,s),n._sqlite3_busy_timeout=(t,e)=>(n._sqlite3_busy_timeout=_.ge)(t,e),n._sqlite3_interrupt=t=>(n._sqlite3_interrupt=_.he)(t),n._sqlite3_is_interrupted=t=>(n._sqlite3_is_interrupted=_.ie)(t),n._sqlite3_create_function=(t,e,r,s,i,c,E,g)=>(n._sqlite3_create_function=_.je)(t,e,r,s,i,c,E,g),n._sqlite3_create_window_function=(t,e,r,s,i,c,E,g,S,m)=>(n._sqlite3_create_window_function=_.ke)(t,e,r,s,i,c,E,g,S,m),n._sqlite3_create_function16=(t,e,r,s,i,c,E,g)=>(n._sqlite3_create_function16=_.le)(t,e,r,s,i,c,E,g),n._sqlite3_overload_function=(t,e,r)=>(n._sqlite3_overload_function=_.me)(t,e,r),n._sqlite3_trace_v2=(t,e,r,s)=>(n._sqlite3_trace_v2=_.ne)(t,e,r,s),n._sqlite3_update_hook=(t,e,r)=>(n._sqlite3_update_hook=_.oe)(t,e,r),n._sqlite3_rollback_hook=(t,e,r)=>(n._sqlite3_rollback_hook=_.pe)(t,e,r),n._sqlite3_autovacuum_pages=(t,e,r,s)=>(n._sqlite3_autovacuum_pages=_.qe)(t,e,r,s),n._sqlite3_wal_autocheckpoint=(t,e)=>(n._sqlite3_wal_autocheckpoint=_.re)(t,e),n._sqlite3_wal_hook=(t,e,r)=>(n._sqlite3_wal_hook=_.se)(t,e,r),n._sqlite3_wal_checkpoint_v2=(t,e,r,s,i)=>(n._sqlite3_wal_checkpoint_v2=_.te)(t,e,r,s,i),n._sqlite3_wal_checkpoint=(t,e)=>(n._sqlite3_wal_checkpoint=_.ue)(t,e),n._sqlite3_error_offset=t=>(n._sqlite3_error_offset=_.ve)(t),n._sqlite3_errmsg16=t=>(n._sqlite3_errmsg16=_.we)(t),n._sqlite3_extended_errcode=t=>(n._sqlite3_extended_errcode=_.xe)(t),n._sqlite3_system_errno=t=>(n._sqlite3_system_errno=_.ye)(t),n._sqlite3_errstr=t=>(n._sqlite3_errstr=_.ze)(t),n._sqlite3_limit=(t,e,r)=>(n._sqlite3_limit=_.Ae)(t,e,r),n._sqlite3_open_v2=(t,e,r,s)=>(n._sqlite3_open_v2=_.Be)(t,e,r,s),n._sqlite3_open16=(t,e)=>(n._sqlite3_open16=_.Ce)(t,e),n._sqlite3_create_collation=(t,e,r,s,i)=>(n._sqlite3_create_collation=_.De)(t,e,r,s,i),n._sqlite3_create_collation_v2=(t,e,r,s,i,c)=>(n._sqlite3_create_collation_v2=_.Ee)(t,e,r,s,i,c),n._sqlite3_create_collation16=(t,e,r,s,i)=>(n._sqlite3_create_collation16=_.Fe)(t,e,r,s,i),n._sqlite3_collation_needed=(t,e,r)=>(n._sqlite3_collation_needed=_.Ge)(t,e,r),n._sqlite3_collation_needed16=(t,e,r)=>(n._sqlite3_collation_needed16=_.He)(t,e,r),n._sqlite3_get_clientdata=(t,e)=>(n._sqlite3_get_clientdata=_.Ie)(t,e),n._sqlite3_set_clientdata=(t,e,r,s)=>(n._sqlite3_set_clientdata=_.Je)(t,e,r,s),n._sqlite3_table_column_metadata=(t,e,r,s,i,c,E,g,S)=>(n._sqlite3_table_column_metadata=_.Ke)(t,e,r,s,i,c,E,g,S),n._sqlite3_sleep=t=>(n._sqlite3_sleep=_.Le)(t),n._sqlite3_extended_result_codes=(t,e)=>(n._sqlite3_extended_result_codes=_.Me)(t,e),n._sqlite3_file_control=(t,e,r,s)=>(n._sqlite3_file_control=_.Ne)(t,e,r,s),n._sqlite3_test_control=(t,e)=>(n._sqlite3_test_control=_.Oe)(t,e),n._sqlite3_create_filename=(t,e,r,s,i)=>(n._sqlite3_create_filename=_.Pe)(t,e,r,s,i),n._sqlite3_free_filename=t=>(n._sqlite3_free_filename=_.Qe)(t),n._sqlite3_uri_parameter=(t,e)=>(n._sqlite3_uri_parameter=_.Re)(t,e),n._sqlite3_uri_key=(t,e)=>(n._sqlite3_uri_key=_.Se)(t,e),n._sqlite3_uri_boolean=(t,e,r)=>(n._sqlite3_uri_boolean=_.Te)(t,e,r),n._sqlite3_uri_int64=(t,e,r,s)=>(n._sqlite3_uri_int64=_.Ue)(t,e,r,s),n._sqlite3_filename_database=t=>(n._sqlite3_filename_database=_.Ve)(t),n._sqlite3_filename_journal=t=>(n._sqlite3_filename_journal=_.We)(t),n._sqlite3_filename_wal=t=>(n._sqlite3_filename_wal=_.Xe)(t),n._sqlite3_db_name=(t,e)=>(n._sqlite3_db_name=_.Ye)(t,e),n._sqlite3_db_filename=(t,e)=>(n._sqlite3_db_filename=_.Ze)(t,e),n._sqlite3_db_readonly=(t,e)=>(n._sqlite3_db_readonly=_._e)(t,e),n._sqlite3_compileoption_used=t=>(n._sqlite3_compileoption_used=_.$e)(t),n._sqlite3_compileoption_get=t=>(n._sqlite3_compileoption_get=_.af)(t),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=_.bf)();var Ar=n._malloc=t=>(Ar=n._malloc=_.cf)(t),Rr=n._free=t=>(Rr=n._free=_.df)(t);n._RegisterExtensionFunctions=t=>(n._RegisterExtensionFunctions=_.ef)(t),n._set_authorizer=t=>(n._set_authorizer=_.ff)(t),n._create_function=(t,e,r,s,i,c)=>(n._create_function=_.gf)(t,e,r,s,i,c),n._on_tables_changed=(t,e,r,s,i,c)=>(n._on_tables_changed=_.hf)(t,e,r,s,i,c),n._register_table_update_hook=t=>(n._register_table_update_hook=_.jf)(t),n._create_module=(t,e,r,s)=>(n._create_module=_.kf)(t,e,r,s),n._progress_handler=(t,e)=>(n._progress_handler=_.lf)(t,e),n._register_vfs=(t,e,r,s)=>(n._register_vfs=_.mf)(t,e,r,s),n._getSqliteFree=()=>(n._getSqliteFree=_.nf)();var Or=n._main=(t,e)=>(Or=n._main=_.of)(t,e);n._setup_powersync=()=>(n._setup_powersync=_.pf)();var Nr=(t,e)=>(Nr=_.rf)(t,e),Cr=()=>(Cr=_.sf)(),Qr=t=>(Qr=_.tf)(t),ke=t=>(ke=_.uf)(t),Dr=()=>(Dr=_.vf)(),Fr=t=>(Fr=_.wf)(t),Pr=()=>(Pr=_.xf)(),Vr=t=>(Vr=_.yf)(t),kr=()=>(kr=_.zf)();n._sqlite3_version=44971,n.getTempRet0=()=>Cr(),n.ccall=ht,n.cwrap=(t,e,r,s)=>{var i=!r||r.every(c=>c==="number"||c==="boolean");return e!=="string"&&i&&!s?n["_"+t]:(...c)=>ht(t,e,r,c,s)},n.addFunction=(t,e)=>{if(!Vt){Vt=new WeakMap;var r=Rt.length;if(Vt)for(var s=0;s<0+r;s++){var i=Rt.get(s);i&&Vt.set(i,s)}}if(r=Vt.get(t)||0)return r;if(br.length)r=br.pop();else{try{Rt.grow(1)}catch(g){throw g instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":g}r=Rt.length-1}try{Rt.set(r,t)}catch(g){if(!(g instanceof TypeError))throw g;if(typeof WebAssembly.Function=="function"){s=WebAssembly.Function,i={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var c={parameters:[],results:e[0]=="v"?[]:[i[e[0]]]},E=1;E<e.length;++E)c.parameters.push(i[e[E]]);e=new s(c,t)}else{for(s=[1],i=e.slice(0,1),e=e.slice(1),c={i:127,p:127,j:126,f:125,d:124,e:111},s.push(96),E=e.length,128>E?s.push(E):s.push(E%128|128,E>>7),E=0;E<e.length;++E)s.push(c[e[E]]);i=="v"?s.push(0):s.push(1,c[i]),e=[0,97,115,109,1,0,0,0,1],i=s.length,128>i?e.push(i):e.push(i%128|128,i>>7),e.push(...s),e.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),e=new WebAssembly.Module(new Uint8Array(e)),e=new WebAssembly.Instance(e,{e:{f:t}}).exports.f}Rt.set(r,e)}return Vt.set(t,r),r},n.setValue=ut,n.getValue=Y,n.UTF8ToString=(t,e)=>t?B(w,t,e):"",n.stringToUTF8=(t,e,r)=>ft(t,w,e,r),n.lengthBytesUTF8=Ft,n.intArrayFromString=En,n.intArrayToString=function(t){for(var e=[],r=0;r<t.length;r++){var s=t[r];255<s&&(s&=255),e.push(String.fromCharCode(s))}return e.join("")},n.AsciiToString=t=>{for(var e="";;){var r=w[t++];if(!r)return e;e+=String.fromCharCode(r)}},n.UTF16ToString=(t,e)=>{for(var r=t>>1,s=r+e/2;!(r>=s)&&j[r];)++r;if(r<<=1,32<r-t&&vr)return vr.decode(w.subarray(t,r));for(r="",s=0;!(s>=e/2);++s){var i=F[t+2*s>>1];if(i==0)break;r+=String.fromCharCode(i)}return r},n.stringToUTF16=(t,e,r)=>{if(r??=2147483647,2>r)return 0;r-=2;var s=e;r=r<2*t.length?r/2:t.length;for(var i=0;i<r;++i)F[e>>1]=t.charCodeAt(i),e+=2;return F[e>>1]=0,e-s},n.UTF32ToString=(t,e)=>{for(var r=0,s="";!(r>=e/4);){var i=R[t+4*r>>2];if(i==0)break;++r,65536<=i?(i-=65536,s+=String.fromCharCode(55296|i>>10,56320|i&1023)):s+=String.fromCharCode(i)}return s},n.stringToUTF32=(t,e,r)=>{if(r??=2147483647,4>r)return 0;var s=e;r=s+r-4;for(var i=0;i<t.length;++i){var c=t.charCodeAt(i);if(55296<=c&&57343>=c){var E=t.charCodeAt(++i);c=65536+((c&1023)<<10)|E&1023}if(R[e>>2]=c,e+=4,e+4>r)break}return R[e>>2]=0,e-s},n.writeArrayToMemory=(t,e)=>{I.set(t,e)};var ce;Wt=function t(){ce||Ur(),ce||(Wt=t)};function Ur(){function t(){if(!ce&&(ce=!0,n.calledRun=!0,!l)){if(n.noFSInit||Cn||(Cn=!0,n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?zt("stdin",n.stdin):Ne("/dev/tty","/dev/stdin"),n.stdout?zt("stdout",null,n.stdout):Ne("/dev/tty","/dev/stdout"),n.stderr?zt("stderr",null,n.stderr):Ne("/dev/tty1","/dev/stderr"),ne("/dev/stdin",0),ne("/dev/stdout",1),ne("/dev/stderr",1)),mn=!1,Yt(xt),Yt(Ct),h(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),Br){var e=Or;try{var r=e(0,0);p=r,wr(r)}catch(s){Fe(s)}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),qt.unshift(e);Yt(qt)}}if(!(0<St)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Qt();Yt(it),0<St||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var Br=!0;return n.noInitialRun&&(Br=!1),Ur(),T}})(),fo=uo});var Te,Ho,Ye=Tt(()=>{Xt();Xt();Te=class{mxPathName=64;xClose(o){return 10}xRead(o,n,h){return 10}xWrite(o,n,h){return 10}xTruncate(o,n){return 10}xSync(o,n){return 0}xFileSize(o,n){return 10}xLock(o,n){return 0}xUnlock(o,n){return 0}xCheckReservedLock(o,n){return n.setInt32(0,0,!0),0}xFileControl(o,n,h){return 12}xSectorSize(o){return 512}xDeviceCharacteristics(o){return 0}xOpen(o,n,h,d){return 14}xDelete(o,n){return 10}xAccess(o,n,h){return 10}handleAsync(o){return o()}},Ho=[256,2048,512,4096,1024,8192,16384].reduce((a,o)=>a|o)});var yo,Je,we,ls=Tt(()=>{Ye();yo=7,Je=class{get state(){return this.#t}#t=0;timeoutMillis=0;#r=new Map;#e=Promise.resolve(0);async lock(o){return this.#n(this.#i,o)}async unlock(o){return this.#n(this.#o,o)}async isSomewhereReserved(){throw new Error("unimplemented")}async#n(o,n){let h=n&yo;try{let d=()=>o.call(this,h);return await(this.#e=this.#e.then(d,d)),this.#t=h,0}catch(d){return d.name==="AbortError"?5:(console.error(d),3850)}}async#i(o){if(o===this.#t)return 0;switch(this.#t){case 0:switch(o){case 1:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}case 1:switch(o){case 2:return this._SHAREDtoRESERVED();case 4:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}case 2:switch(o){case 4:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}}async#o(o){if(o===this.#t)return 0;switch(this.#t){case 4:switch(o){case 1:return this._EXCLUSIVEtoSHARED();case 0:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}case 2:switch(o){case 1:return this._RESERVEDtoSHARED();case 0:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}case 1:switch(o){case 0:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(o,n){return new Promise(async(h,d)=>{try{await navigator.locks.request(o,n,T=>{if(h(T),T)return new Promise(x=>this.#r.set(o,x))})}catch(T){d(T)}})}_releaseWebLock(o){this.#r.get(o)?.(),this.#r.delete(o)}async _pollWebLock(o){return(await navigator.locks.query()).held.find(({name:h})=>h===o)?.mode}_getTimeoutSignal(){if(this.timeoutMillis){let o=new AbortController;return setTimeout(()=>o.abort(),this.timeoutMillis),o.signal}}},we=class extends Je{constructor(o){super(),this._lockName=o+"-outer",this._reservedName=o+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}});function ct(...a){}function Lt(a){return new Promise((o,n)=>{a.addEventListener("success",()=>o(a.result)),a.addEventListener("error",()=>n(a.error))})}var us,Ze,ge,tn,en,fs=Tt(()=>{us=0,Ze=new WeakMap;ge=class{#t;#r;#e;#n=null;#i=0;#o=Promise.resolve();#s=Promise.resolve();constructor(o,n={durability:"default"}){this.#r=Promise.resolve(o).then(h=>this.#t=h),this.#e=n}async close(){let o=this.#t??await this.#r;await this.#o,await this.sync(),o.close()}async run(o,n){let h=this.#o.then(()=>this.#a(o,n));return this.#o=h.catch(()=>{}),h}async#a(o,n){let h=this.#t??await this.#r;if(o==="readwrite"&&this.#n?.mode==="readonly")this.#n=null;else if(performance.now()-this.#i>5e3){try{this.#n?.commit()}catch(d){if(d.name!=="InvalidStateError")throw d}await new Promise(d=>setTimeout(d)),this.#n=null}for(let d=0;d<2;++d){if(!this.#n){this.#n=h.transaction(h.objectStoreNames,o,this.#e);let T=this.#i=performance.now();this.#s=this.#s.then(()=>new Promise((x,A)=>{this.#n.addEventListener("complete",N=>{x(),this.#n===N.target&&(this.#n=null),ct(`transaction ${Ze.get(N.target)} complete`)}),this.#n.addEventListener("abort",N=>{console.warn("tx abort",(performance.now()-T)/1e3);let C=N.target.error;A(C),this.#n===N.target&&(this.#n=null),ct(`transaction ${Ze.get(N.target)} aborted`,C)})})),ct(`new transaction ${us} ${o}`),Ze.set(this.#n,us++)}try{let T=Object.fromEntries(Array.from(h.objectStoreNames,x=>[x,new tn(this.#n.objectStore(x))]));return await n(T)}catch(T){if(this.#n=null,d)throw T}}}async sync(){await this.#o,await this.#s,this.#s=Promise.resolve()}};tn=class{#t;constructor(o){this.#t=o}get(o){ct(`get ${this.#t.name}`,o);let n=this.#t.get(o);return Lt(n)}getAll(o,n){ct(`getAll ${this.#t.name}`,o,n);let h=this.#t.getAll(o,n);return Lt(h)}getKey(o){ct(`getKey ${this.#t.name}`,o);let n=this.#t.getKey(o);return Lt(n)}getAllKeys(o,n){ct(`getAllKeys ${this.#t.name}`,o,n);let h=this.#t.getAllKeys(o,n);return Lt(h)}put(o,n){ct(`put ${this.#t.name}`,o,n);let h=this.#t.put(o,n);return Lt(h)}delete(o){ct(`delete ${this.#t.name}`,o);let n=this.#t.delete(o);return Lt(n)}clear(){ct(`clear ${this.#t.name}`);let o=this.#t.clear();return Lt(o)}index(o){return new en(this.#t.index(o))}},en=class{#t;constructor(o){this.#t=o}getAllKeys(o,n){ct(`IDBIndex.getAllKeys ${this.#t.objectStore.name}<${this.#t.name}>`,o,n);let h=this.#t.getAllKeys(o,n);return Lt(h)}}});var hs={};Mr(hs,{IDBBatchAtomicVFS:()=>nn});function Z(...a){}function Co(a){return new Promise((o,n)=>{let h=globalThis.indexedDB.open(a,5);h.addEventListener("upgradeneeded",function(){h.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),h.addEventListener("success",()=>{o(h.result)}),h.addEventListener("error",()=>{n(h.error)})})}var No,ds,Es,nn,ps=Tt(()=>{Ye();ls();fs();No=512,ds=3e3,Es={durability:"default",purge:"deferred",purgeAtLeast:16};nn=class extends Te{#t;#r=new Map;#e;#n=new Set;#i=performance.now();#o=new Set;#s=null;constructor(o="wa-sqlite",n=Es){super(),this.name=o,this.#t=Object.assign({},Es,n),this.#e=new ge(Co(o),{durability:this.#t.durability})}async close(){for(let o of this.#r.keys())await this.xClose(o);await this.#e?.close(),this.#e=null}xOpen(o,n,h,d){let T=this.handleAsync(async()=>{o===null&&(o=`null_${n}`),Z(`xOpen ${o} 0x${n.toString(16)} 0x${h.toString(16)}`);try{let x=new URL(o,"http://localhost/"),A={path:x.pathname,flags:h,block0:null,isMetadataChanged:!0,locks:new we(x.pathname)};return this.#r.set(n,A),await this.#e.run("readwrite",async({blocks:N})=>{if(A.block0=await N.get(this.#_(A,0)),!A.block0)if(h&4)A.block0={path:A.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},N.put(A.block0);else throw new Error(`file not found: ${A.path}`)}),(d.buffer.detached||!d.buffer.byteLength)&&(d=new DataView(new ArrayBuffer(4)),this.#s=N=>{N.setInt32(0,d.getInt32(0,!0),!0)}),d.setInt32(0,h&1,!0),0}catch(x){return console.error(x),14}});return this.#s?.(d),this.#s=null,T}xClose(o){return this.handleAsync(async()=>{try{let n=this.#r.get(o);return n&&(Z(`xClose ${n.path}`),this.#r.delete(o),n.flags&8&&this.#e.run("readwrite",({blocks:h})=>{h.delete(IDBKeyRange.bound([n.path],[n.path,[]]))})),0}catch(n){return console.error(n),10}})}xRead(o,n,h){let d=n.byteLength,T=this.handleAsync(async()=>{let x=this.#r.get(o);Z(`xRead ${x.path} ${n.byteLength} ${h}`);try{return await this.#e.run("readonly",async({blocks:N})=>{(n.buffer.detached||!n.buffer.byteLength)&&(n=new Uint8Array(d),this.#s=O=>O.set(n));let C=0;for(;C<n.byteLength;){let O=h+C,v=O<x.block0.data.byteLength?x.block0:await N.get(this.#_(x,-O));if(!v||v.data.byteLength-v.offset<=O)return n.fill(0,C),522;let K=n.subarray(C),k=O+v.offset,U=Math.min(Math.max(v.data.byteLength-k,0),K.byteLength);K.set(v.data.subarray(k,k+U)),C+=U}return 0})}catch(A){return console.error(A),10}});return this.#s?.(n),this.#s=null,T}xWrite(o,n,h){let d=this.#o.has(o);if(d||performance.now()-this.#i>ds){let T=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&this.#o.add(o),await new Promise(A=>setTimeout(A));let x=this.#a(o,n.slice(),h);return this.#i=performance.now(),x});return d&&this.#o.delete(o),T}return this.#a(o,n,h)}#a(o,n,h){let d=this.#r.get(o);Z(`xWrite ${d.path} ${n.byteLength} ${h}`);try{let T=d.block0.fileSize;d.block0.fileSize<h+n.byteLength&&(d.block0.fileSize=h+n.byteLength,d.isMetadataChanged=!0);let x=h===0?d.block0:{path:d.path,offset:-h,version:d.block0.version,data:null};return x.data=n.slice(),d.changedPages?(T===d.block0.fileSize&&d.changedPages.add(-h),h!==0&&this.#e.run("readwrite",({blocks:A})=>A.put(x))):this.#e.run("readwrite",({blocks:A})=>A.put(x)),d.isMetadataChanged=h===0?!1:d.isMetadataChanged,0}catch(T){return console.error(T),10}}xTruncate(o,n){let h=this.#r.get(o);Z(`xTruncate ${h.path} ${n}`);try{Object.assign(h.block0,{fileSize:n,data:h.block0.data.slice(0,n)});let d=Object.assign({},h.block0);return this.#e.run("readwrite",({blocks:T})=>{T.delete(this.#_(h,-1/0,-n)),T.put(d)}),0}catch(d){return console.error(d),10}}xSync(o,n){let h=this.#o.has(o);if(h||this.#t.durability!=="relaxed"||performance.now()-this.#i>ds){let T=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&this.#o.add(o);let x=await this.#c(o,n);return this.#i=performance.now(),x});return h&&this.#o.delete(o),T}let d=this.#r.get(o);return Z(`xSync ${d.path} ${n}`),0}async#c(o,n){let h=this.#r.get(o);Z(`xSync ${h.path} ${n}`);try{h.isMetadataChanged&&(this.#e.run("readwrite",async({blocks:d})=>{await d.put(h.block0)}),h.isMetadataChanged=!1),await this.#e.sync()}catch(d){return console.error(d),10}return 0}xFileSize(o,n){let h=this.#r.get(o);return Z(`xFileSize ${h.path}`),n.setBigInt64(0,BigInt(h.block0.fileSize),!0),0}xLock(o,n){return this.handleAsync(async()=>{let h=this.#r.get(o);Z(`xLock ${h.path} ${n}`);try{let d=await h.locks.lock(n);return d===0&&h.locks.state===1&&(h.block0=await this.#e.run("readonly",({blocks:T})=>T.get(this.#_(h,0)))),d}catch(d){return console.error(d),10}})}xUnlock(o,n){return this.handleAsync(async()=>{let h=this.#r.get(o);Z(`xUnlock ${h.path} ${n}`);try{return h.locks.unlock(n)}catch(d){return console.error(d),10}})}xCheckReservedLock(o,n){let h=this.handleAsync(async()=>{let d=this.#r.get(o);Z(`xCheckReservedLock ${d.path}`);let T=await d.locks.isSomewhereReserved();function x(A){}return(n.buffer.detached||!n.buffer.byteLength)&&(n=new DataView(new ArrayBuffer(4)),this.#s=A=>{A.setInt32(0,n.getInt32(0,!0),!0)}),n.setInt32(0,T?1:0,!0),0});return this.#s?.(n),this.#s=null,h}xSectorSize(o){return Z("xSectorSize"),No}xDeviceCharacteristics(o){return Z("xDeviceCharacteristics"),19968}xFileControl(o,n,h){let d=this.#r.get(o);switch(Z(`xFileControl ${d.path} ${n}`),n){case 11:return d.overwrite=!0,0;case 21:if(d.overwrite)try{return this.handleAsync(async()=>(await this.#u(d),0))}catch(T){return console.error(T),10}if(d.isMetadataChanged)try{this.#e.run("readwrite",async({blocks:T})=>{await T.put(d.block0)}),d.isMetadataChanged=!1}catch(T){return console.error(T),10}return 0;case 22:return d.overwrite=!1,0;case 31:return this.handleAsync(async()=>{try{return d.block0.version--,d.changedPages=new Set,this.#e.run("readwrite",async({blocks:T})=>{let x=await T.index("version").getAllKeys(IDBKeyRange.bound([d.path],[d.path,d.block0.version]));for(let A of x)T.delete(A)}),0}catch(T){return console.error(T),10}});case 32:try{let T=Object.assign({},d.block0);T.data=T.data.slice();let x=d.changedPages;return d.changedPages=null,d.isMetadataChanged=!1,this.#e.run("readwrite",async({blocks:A})=>{A.put(T);let N=await A.get([d.path,"purge",0])??{path:d.path,offset:"purge",version:0,data:new Map,count:0};N.count+=x.size;for(let C of x)N.data.set(C,T.version);A.put(N),this.#l(d.path,N.count)}),0}catch(T){return console.error(T),10}case 33:return this.handleAsync(async()=>{try{return d.changedPages=null,d.isMetadataChanged=!1,d.block0=await this.#e.run("readonly",({blocks:T})=>T.get([d.path,0,d.block0.version+1])),0}catch(T){return console.error(T),10}});default:return 12}}xAccess(o,n,h){let d=this.handleAsync(async()=>{try{let T=new URL(o,"file://localhost/").pathname;Z(`xAccess ${T} ${n}`);let x=await this.#e.run("readonly",({blocks:A})=>A.getKey(this.#_({path:T},0)));return(h.buffer.detached||!h.buffer.byteLength)&&(h=new DataView(new ArrayBuffer(4)),this.#s=A=>{A.setInt32(0,h.getInt32(0,!0),!0)}),h.setInt32(0,x?1:0,!0),0}catch(T){return console.error(T),10}});return this.#s?.(h),this.#s=null,d}xDelete(o,n){return this.handleAsync(async()=>{let h=new URL(o,"file://localhost/").pathname;Z(`xDelete ${h} ${n}`);try{return this.#e.run("readwrite",({blocks:d})=>d.delete(IDBKeyRange.bound([h],[h,[]]))),n&&await this.#e.sync(),0}catch(d){return console.error(d),10}})}async purge(o){let n=Date.now();await this.#e.run("readwrite",async({blocks:h})=>{let d=await h.get([o,"purge",0]);if(d){for(let[T,x]of d.data)h.delete(IDBKeyRange.bound([o,T,x],[o,T,1/0],!0,!1));await h.delete([o,"purge",0])}Z(`purge ${o} ${d?.data.size??0} pages in ${Date.now()-n} ms`)})}#l(o,n){this.#t.purge==="manual"||this.#n.has(o)||n<this.#t.purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(o),this.#n.delete(o)}):setTimeout(()=>{this.purge(o),this.#n.delete(o)}),this.#n.add(o))}#_(o,n,h=0){let d=!n||-n<o.block0.data.length?-1/0:o.block0.version;return IDBKeyRange.bound([o.path,n,d],[o.path,h,1/0])}async#u(o){let n=o.block0.data.length;if(n<18)return;let h=new DataView(o.block0.data.buffer,o.block0.data.byteOffset),d=h.getUint16(16);if(d===1&&(d=65536),d===n)return;let T=Math.max(n,d),x=T/n,A=T/d,C=h.getUint32(28)*d,O=o.block0.version;await this.#e.run("readwrite",async({blocks:v})=>{let K=await v.index("version").getAllKeys(IDBKeyRange.bound([o.path,O+1],[o.path,1/0]));for(let k of K)v.delete(k);v.delete([o.path,"purge",0]);for(let k=0;k<C;k+=T){let U=await v.getAll(IDBKeyRange.lowerBound([o.path,-(k+T),1/0]),x);for(let f of U)v.delete([f.path,f.offset,f.version]);if(A===1){let f=new Uint8Array(d);for(let l of U)f.set(l.data,-(k+l.offset));let u={path:o.path,offset:-k,version:O,data:f};u.offset===0&&(u.fileSize=C,o.block0=u),v.put(u)}else{let f=U[0];for(let u=0;u<A;++u){let l=-(k+u*d);if(-l>=C)break;let p={path:f.path,offset:l,version:O,data:f.data.subarray(u*d,(u+1)*d)};p.offset===0&&(p.fileSize=C,o.block0=p),v.put(p)}}}})}}});function Ts(a){return Kt(this,arguments,void 0,function*(o,n={useWebWorker:!0}){let{default:h}=yield Promise.resolve().then(()=>(as(),_s)),d=yield h(),T=Jr(d),{IDBBatchAtomicVFS:x}=yield Promise.resolve().then(()=>(ps(),hs)),A=new x(o);T.vfs_register(A,!0);let N=yield T.open_v2(o),C=new Map;T.register_table_onchange_hook(N,(f,u,l)=>{Array.from(C.values()).forEach(p=>p(f,u,l))});let O=(f,u)=>Kt(this,void 0,void 0,function*(){return v(()=>Kt(this,void 0,void 0,function*(){return K(f,u)}))}),v=f=>navigator.locks.request(`db-execute-${o}`,f),K=(f,u)=>Kt(this,void 0,void 0,function*(){var l,p,I,w;let F=[];try{for(var j=!0,R=Qo(T.statements(N,f)),W;W=yield R.next(),l=W.done,!l;j=!0){w=W.value,j=!1;let nt=w,it,xt=u?[u]:[[]];for(let Ct of xt){Ct.forEach((Qt,St,Ht)=>{typeof Qt=="boolean"&&(Ht[St]=Qt?1:0)}),T.reset(nt),u&&T.bind_collection(nt,Ct);let qt=[];for(;(yield T.step(nt))===100;){let Qt=T.row(nt);qt.push(Qt)}it=it??T.column_names(nt),it.length&&F.push({columns:it,rows:qt})}if(u)break}}catch(nt){p={error:nt}}finally{try{!j&&!l&&(I=R.return)&&(yield I.call(R))}finally{if(p)throw p.error}}let ot=[];for(let nt of F)for(let it of nt.rows){let xt={};nt.columns.forEach((Ct,qt)=>{xt[Ct]=it[qt]}),ot.push(xt)}return{insertId:T.last_insert_id(N),rowsAffected:T.changes(N),rows:{_array:ot,length:ot.length}}}),k=(f,u)=>Kt(this,void 0,void 0,function*(){return v(()=>Kt(this,void 0,void 0,function*(){let l=0,p=T.str_new(N,f),I=T.str_value(p);try{yield K("BEGIN TRANSACTION");let F=yield T.prepare_v2(N,I);if(F===null)return{rowsAffected:0};let j=u||[];for(let R of j){for(let ot=0;ot<R.length;ot++){let yt=R[ot];typeof yt=="boolean"&&(R[ot]=yt?1:0)}T.reset(F.stmt),u&&T.bind_collection(F.stmt,R),(yield T.step(F.stmt))===101&&(l+=T.changes(N))}yield T.finalize(F.stmt),yield K("COMMIT")}catch{return yield K("ROLLBACK"),{rowsAffected:0}}finally{T.str_finish(p)}return{rowsAffected:l}}))});if(n.useWebWorker){let f=u=>{let l=Ss++;return C.set(l,u),pt(()=>{C.delete(l)})};return{execute:pt(O),executeBatch:pt(k),registerOnTableChange:pt(f),close:pt(()=>{T.close(N)})}}return{execute:O,executeBatch:k,registerOnTableChange:f=>{let u=Ss++;return C.set(u,f),()=>{C.delete(u)}},close:()=>T.close(N)}})}var Kt,Qo,Ss,ms=Tt(()=>{ue();ue();Ge();Kt=function(a,o,n,h){function d(T){return T instanceof n?T:new n(function(x){x(T)})}return new(n||(n=Promise))(function(T,x){function A(O){try{C(h.next(O))}catch(v){x(v)}}function N(O){try{C(h.throw(O))}catch(v){x(v)}}function C(O){O.done?T(O.value):d(O.value).then(A,N)}C((h=h.apply(a,o||[])).next())})},Qo=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a[Symbol.asyncIterator],n;return o?o.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),n={},h("next"),h("throw"),h("return"),n[Symbol.asyncIterator]=function(){return this},n);function h(T){n[T]=a[T]&&function(x){return new Promise(function(A,N){x=a[T](x),d(A,N,x.done,x.value)})}}function d(T,x,A,N){Promise.resolve(N).then(function(C){T({value:C,done:A})},x)}},Ss=1});var Is=Gs(sn=>{ue();Ge();ms();var rn=sn&&sn.__awaiter||function(a,o,n,h){function d(T){return T instanceof n?T:new n(function(x){x(T)})}return new(n||(n=Promise))(function(T,x){function A(O){try{C(h.next(O))}catch(v){x(v)}}function N(O){try{C(h.throw(O))}catch(v){x(v)}}function C(O){O.done?T(O.value):d(O.value).then(A,N)}C((h=h.apply(a,o||[])).next())})},Do=self,jt=new Map,Fo="open-wasqlite-db",Po=1,Vo=a=>rn(void 0,void 0,void 0,function*(){return navigator.locks.request(Fo,()=>rn(void 0,void 0,void 0,function*(){let o=Po++;if(!jt.has(a)){let T=new Set,x=yield Ts(a);jt.set(a,{clientIds:T,db:x})}let n=jt.get(a);n.clientIds.add(o);let{db:h}=n,d=Object.assign(Object.assign({},h),{close:pt(()=>{var T;let{clientIds:x}=n;if(x.delete(o),x.size==0)return console.debug(`Closing connection to ${a}.`),jt.delete(a),(T=h.close)===null||T===void 0?void 0:T.call(h);console.debug(`Connection to ${a} not closed yet due to active clients.`)})});return pt(d)}))});Do.onconnect=function(a){let o=a.ports[0];console.debug("Exposing db on port",o),Se(Vo,o)};addEventListener("unload",()=>{Array.from(jt.values()).forEach(a=>rn(void 0,void 0,void 0,function*(){var o;let n=yield a.db;(o=n.close)===null||o===void 0||o.call(n)}))})});var Le={};Me(Le,Xs(Is()));
