var ts=Object.create;var He=Object.defineProperty;var es=Object.getOwnPropertyDescriptor;var ns=Object.getOwnPropertyNames;var rs=Object.getPrototypeOf,os=Object.prototype.hasOwnProperty;var ot=(_,s)=>()=>(_&&(s=_(_=0)),s);var ss=(_,s)=>()=>(s||_((s={exports:{}}).exports,s),s.exports),Gr=(_,s)=>{for(var n in s)He(_,n,{get:s[n],enumerable:!0})},Ke=(_,s,n,d)=>{if(s&&typeof s=="object"||typeof s=="function")for(let E of ns(s))!os.call(_,E)&&E!==n&&He(_,E,{get:()=>s[E],enumerable:!(d=es(s,E))||d.enumerable});return _},$e=(_,s,n)=>(Ke(_,s,"default"),n&&Ke(n,s,"default")),is=(_,s,n)=>(n=_!=null?ts(rs(_)):{},Ke(s||!_||!_.__esModule?He(n,"default",{value:_,enumerable:!0}):n,_));var Wt=ot(()=>{});function oo(_){let s={},n=_._getSqliteFree(),d=_._malloc(8),E=[d,d+4];function g(f){if(typeof f!="string")return 0;let u=_.lengthBytesUTF8(f),l=_._sqlite3_malloc(u+1);return _.stringToUTF8(f,l,u+1),l}function x(f,u){return BigInt(u)<<32n|BigInt(f)&0xffffffffn}let A=function(){let f=BigInt(Number.MAX_SAFE_INTEGER)>>32n,u=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(l,p){return p>f||p<u?x(l,p):p*4294967296+(l&2147483647)-(l&2147483648)}}(),C=new Set;function N(f){if(!C.has(f))throw new ct("not a database",21)}let O=new Map;function v(f){if(!O.has(f))throw new ct("not a statement",21)}s.bind_collection=function(f,u){v(f);let l=Array.isArray(u),p=s.bind_parameter_count(f);for(let T=1;T<=p;++T){let I=l?T-1:s.bind_parameter_name(f,T),V=u[I];V!==void 0&&s.bind(f,T,V)}return 0},s.bind=function(f,u,l){switch(v(f),typeof l){case"number":return l===(l|0)?s.bind_int(f,u,l):s.bind_double(f,u,l);case"string":return s.bind_text(f,u,l);default:return l instanceof Uint8Array||Array.isArray(l)?s.bind_blob(f,u,l):l===null?s.bind_null(f,u):typeof l=="bigint"?s.bind_int64(f,u,l):l===void 0?27:(console.warn("unknown binding converted to null",l),s.bind_null(f,u))}},s.bind_blob=function(){let f="sqlite3_bind_blob",u=_.cwrap(f,...F("nnnnn:n"));return function(l,p,T){v(l);let I=T.byteLength??T.length,V=_._sqlite3_malloc(I);_.HEAPU8.subarray(V).set(T);let J=u(l,p,V,I,n);return Q(f,J,O.get(l))}}(),s.bind_parameter_count=function(){let u=_.cwrap("sqlite3_bind_parameter_count",...F("n:n"));return function(l){return v(l),u(l)}}(),s.bind_double=function(){let f="sqlite3_bind_double",u=_.cwrap(f,...F("nnn:n"));return function(l,p,T){v(l);let I=u(l,p,T);return Q(f,I,O.get(l))}}(),s.bind_int=function(){let f="sqlite3_bind_int",u=_.cwrap(f,...F("nnn:n"));return function(l,p,T){if(v(l),T>2147483647||T<-2147483648)return 25;let I=u(l,p,T);return Q(f,I,O.get(l))}}(),s.bind_int64=function(){let f="sqlite3_bind_int64",u=_.cwrap(f,...F("nnnn:n"));return function(l,p,T){if(v(l),T>eo||T<no)return 25;let I=T&0xffffffffn,V=T>>32n,J=u(l,p,Number(I),Number(V));return Q(f,J,O.get(l))}}(),s.bind_null=function(){let f="sqlite3_bind_null",u=_.cwrap(f,...F("nn:n"));return function(l,p){v(l);let T=u(l,p);return Q(f,T,O.get(l))}}(),s.bind_parameter_name=function(){let u=_.cwrap("sqlite3_bind_parameter_name",...F("n:s"));return function(l,p){return v(l),u(l,p)}}(),s.bind_text=function(){let f="sqlite3_bind_text",u=_.cwrap(f,...F("nnnnn:n"));return function(l,p,T){v(l);let I=g(T),V=u(l,p,I,-1,n);return Q(f,V,O.get(l))}}(),s.changes=function(){let u=_.cwrap("sqlite3_changes",...F("n:n"));return function(l){return N(l),u(l)}}(),s.last_insert_id=function(){let u=_.cwrap("sqlite3_last_insert_rowid",...F("n:n"));return function(l){return N(l),u(l)}}(),s.close=function(){let f="sqlite3_close",u=_.cwrap(f,...F("n:n"),{async:Ut});return async function(l){N(l);let p=await u(l);return C.delete(l),Q(f,p,l)}}(),s.column=function(f,u){v(f);let l=s.column_type(f,u);switch(l){case 4:return s.column_blob(f,u);case 2:return s.column_double(f,u);case 1:let p=s.column_int(f,u),T=_.getTempRet0();return A(p,T);case 5:return null;case 3:return s.column_text(f,u);default:throw new ct("unknown type",l)}},s.column_blob=function(){let u=_.cwrap("sqlite3_column_blob",...F("nn:n"));return function(l,p){v(l);let T=s.column_bytes(l,p),I=u(l,p);return _.HEAPU8.subarray(I,I+T)}}(),s.column_bytes=function(){let u=_.cwrap("sqlite3_column_bytes",...F("nn:n"));return function(l,p){return v(l),u(l,p)}}(),s.column_count=function(){let u=_.cwrap("sqlite3_column_count",...F("n:n"));return function(l){return v(l),u(l)}}(),s.column_double=function(){let u=_.cwrap("sqlite3_column_double",...F("nn:n"));return function(l,p){return v(l),u(l,p)}}(),s.column_int=function(){let u=_.cwrap("sqlite3_column_int64",...F("nn:n"));return function(l,p){return v(l),u(l,p)}}(),s.column_int64=function(){let u=_.cwrap("sqlite3_column_int64",...F("nn:n"));return function(l,p){v(l);let T=u(l,p),I=_.getTempRet0();return x(T,I)}}(),s.column_name=function(){let u=_.cwrap("sqlite3_column_name",...F("nn:s"));return function(l,p){return v(l),u(l,p)}}(),s.column_names=function(f){let u=[],l=s.column_count(f);for(let p=0;p<l;++p)u.push(s.column_name(f,p));return u},s.column_text=function(){let u=_.cwrap("sqlite3_column_text",...F("nn:s"));return function(l,p){return v(l),u(l,p)}}(),s.column_type=function(){let u=_.cwrap("sqlite3_column_type",...F("nn:n"));return function(l,p){return v(l),u(l,p)}}(),s.create_function=function(f,u,l,p,T,I,V,J){if(N(f),I&&!V&&!J){let R=_.createFunction(f,u,l,p,T,I);return Q("sqlite3_create_function",R,f)}if(!I&&V&&J){let R=_.createAggregate(f,u,l,p,T,V,J);return Q("sqlite3_create_function",R,f)}throw new ct("invalid function combination",21)},s.create_module=function(f,u,l,p){N(f);let T=_.createModule(f,u,l,p);return Q("sqlite3_create_module",T,f)},s.data_count=function(){let u=_.cwrap("sqlite3_data_count",...F("n:n"));return function(l){return v(l),u(l)}}(),s.declare_vtab=function(){let u=_.cwrap("sqlite3_declare_vtab",...F("ns:n"));return function(l,p){let T=u(l,p);return Q("sqlite3_declare_vtab",T)}}(),s.exec=async function(f,u,l){for await(let p of s.statements(f,u)){let T;for(;await s.step(p)===100;)if(l){T=T??s.column_names(p);let I=s.row(p);await l(I,T)}}return 0},s.finalize=function(){let u=_.cwrap("sqlite3_finalize",...F("n:n"),{async:Ut});return async function(l){if(!O.has(l))return 21;let p=await u(l),T=O.get(l);return O.delete(l),p}}(),s.get_autocommit=function(){let u=_.cwrap("sqlite3_get_autocommit",...F("n:n"));return function(l){return u(l)}}(),s.libversion=function(){let u=_.cwrap("sqlite3_libversion",...F(":s"));return function(){return u()}}(),s.libversion_number=function(){let u=_.cwrap("sqlite3_libversion_number",...F(":n"));return function(){return u()}}(),s.limit=function(){let u=_.cwrap("sqlite3_limit",...F("nnn:n"));return function(l,p,T){return u(l,p,T)}}(),s.open_v2=function(){let f="sqlite3_open_v2",u=_.cwrap(f,...F("snnn:n"),{async:Ut});return async function(l,p,T){p=p||6,T=g(T),_.ccall("setup_powersync","int",[]);let I=await u(l,E[0],p,T),V=_.getValue(E[0],"*");return C.add(V),_._sqlite3_free(T),_.ccall("RegisterExtensionFunctions","void",["number"],[V]),Q(f,I),V}}(),s.register_table_onchange_hook=function(f,u){_.ccall("register_table_update_hook","int",["number"],[f]),ro[f]=function(l,p,T){let I=new DataView(_.HEAPU8.buffer),V=0;for(;I.getUint8(p+V)!==0;)V++;let J=new Uint8Array(_.HEAPU8.buffer,p,V),R=new TextDecoder().decode(J);return u(l,R,T)}},s.prepare_v2=function(){let f="sqlite3_prepare_v2",u=_.cwrap(f,...F("nnnnn:n"),{async:Ut});return async function(l,p){let T=await u(l,p,-1,E[0],E[1]);Q(f,T,l);let I=_.getValue(E[0],"*");return I?(O.set(I,l),{stmt:I,sql:_.getValue(E[1],"*")}):null}}(),s.progress_handler=function(f,u,l,p){N(f),_.progressHandler(f,u,l,p)},s.reset=function(){let f="sqlite3_reset",u=_.cwrap(f,...F("n:n"),{async:Ut});return async function(l){v(l);let p=await u(l);return Q(f,p,O.get(l))}}(),s.result=function(f,u){switch(typeof u){case"number":u===(u|0)?s.result_int(f,u):s.result_double(f,u);break;case"string":s.result_text(f,u);break;default:if(u instanceof Uint8Array||Array.isArray(u))s.result_blob(f,u);else if(u===null)s.result_null(f);else{if(typeof u=="bigint")return s.result_int64(f,u);console.warn("unknown result converted to null",u),s.result_null(f)}break}},s.result_blob=function(){let u=_.cwrap("sqlite3_result_blob",...F("nnnn:n"));return function(l,p){let T=p.byteLength??p.length,I=_._sqlite3_malloc(T);_.HEAPU8.subarray(I).set(p),u(l,I,T,n)}}(),s.result_double=function(){let u=_.cwrap("sqlite3_result_double",...F("nn:n"));return function(l,p){u(l,p)}}(),s.result_int=function(){let u=_.cwrap("sqlite3_result_int",...F("nn:n"));return function(l,p){u(l,p)}}(),s.result_int64=function(){let u=_.cwrap("sqlite3_result_int64",...F("nnn:n"));return function(l,p){if(p>eo||p<no)return 25;let T=p&0xffffffffn,I=p>>32n;u(l,Number(T),Number(I))}}(),s.result_null=function(){let u=_.cwrap("sqlite3_result_null",...F("n:n"));return function(l){u(l)}}(),s.result_text=function(){let u=_.cwrap("sqlite3_result_text",...F("nnnn:n"));return function(l,p){let T=g(p);u(l,T,-1,n)}}(),s.row=function(f){let u=[],l=s.data_count(f);for(let p=0;p<l;++p){let T=s.column(f,p);u.push(T?.buffer===_.HEAPU8.buffer?T.slice():T)}return u},s.set_authorizer=function(f,u,l){N(f);let p=_.setAuthorizer(f,u,l);return Q("sqlite3_set_authorizer",p,f)},s.sql=function(){let u=_.cwrap("sqlite3_sql",...F("n:s"));return function(l){return v(l),u(l)}}(),s.statements=function(f,u){return async function*(){let l=s.str_new(f,u),p={stmt:null,sql:s.str_value(l)};try{for(;p=await s.prepare_v2(f,p.sql);)yield p.stmt,s.finalize(p.stmt),p.stmt=null}finally{p?.stmt&&s.finalize(p.stmt),s.str_finish(l)}}()},s.step=function(){let f="sqlite3_step",u=_.cwrap(f,...F("n:n"),{async:Ut});return async function(l){v(l);let p=await u(l);return Q(f,p,O.get(l),[100,101])}}();let $=0,P=new Map;s.str_new=function(f,u=""){let l=_.lengthBytesUTF8(u),p=$++&4294967295,T={offset:_._sqlite3_malloc(l+1),bytes:l};return P.set(p,T),_.stringToUTF8(u,T.offset,T.bytes+1),p},s.str_appendall=function(f,u){if(!P.has(f))throw new ct("not a string",21);let l=P.get(f),p=_.lengthBytesUTF8(u),T=l.bytes+p,I=_._sqlite3_malloc(T+1);_.HEAPU8.subarray(I,I+T+1).set(_.HEAPU8.subarray(l.offset,l.offset+l.bytes)),_.stringToUTF8(u,I+l.bytes,p+1),_._sqlite3_free(l.offset),l.offset=I,l.bytes=T,P.set(f,l)},s.str_finish=function(f){if(!P.has(f))throw new ct("not a string",21);let u=P.get(f);P.delete(f),_._sqlite3_free(u.offset)},s.str_value=function(f){if(!P.has(f))throw new ct("not a string",21);return P.get(f).offset},s.user_data=function(f){return _.getFunctionUserData(f)},s.value=function(f){let u=s.value_type(f);switch(u){case 4:return s.value_blob(f);case 2:return s.value_double(f);case 1:let l=s.value_int(f),p=_.getTempRet0();return A(l,p);case 5:return null;case 3:return s.value_text(f);default:throw new ct("unknown type",u)}},s.value_blob=function(){let u=_.cwrap("sqlite3_value_blob",...F("n:n"));return function(l){let p=s.value_bytes(l),T=u(l);return _.HEAPU8.subarray(T,T+p)}}(),s.value_bytes=function(){let u=_.cwrap("sqlite3_value_bytes",...F("n:n"));return function(l){return u(l)}}(),s.value_double=function(){let u=_.cwrap("sqlite3_value_double",...F("n:n"));return function(l){return u(l)}}(),s.value_int=function(){let u=_.cwrap("sqlite3_value_int64",...F("n:n"));return function(l){return u(l)}}(),s.value_int64=function(){let u=_.cwrap("sqlite3_value_int64",...F("n:n"));return function(l){let p=u(l),T=_.getTempRet0();return x(p,T)}}(),s.value_text=function(){let u=_.cwrap("sqlite3_value_text",...F("n:s"));return function(l){return u(l)}}(),s.value_type=function(){let u=_.cwrap("sqlite3_value_type",...F("n:n"));return function(l){return u(l)}}(),s.vfs_register=function(f,u){let l=_.registerVFS(f,u);return Q("sqlite3_vfs_register",l)};function Q(f,u,l=null,p=[0]){if(p.includes(u))return u;let T=l?_.ccall("sqlite3_errmsg","string",["number"],[l]):f;throw new ct(T,u)}return s}function F(_){let s=[],n=_.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":s.push("number");break;case"s":s.push("string");break;case"v":s.push(null);break}let d=[];for(let E of n[1])switch(E){case"n":d.push("number");break;case"s":d.push("string");break}return s.push(d),s}var eo,no,ct,Ut,ro,ue=ot(()=>{Wt();Wt();typeof BigInt.prototype.toJSON>"u"&&(BigInt.prototype.toJSON=function(){return this.toString()});eo=0x7fffffffffffffffn,no=-0x8000000000000000n,ct=class extends Error{constructor(s,n){super(s),this.code=n}},Ut=!0,ro={};globalThis.__onTablesChanged=function(_,s,n,d){setTimeout(()=>ro[_]?.(s,n,d),0)}});function Es(_,s){for(let n of _)if(s===n||n==="*"||n instanceof RegExp&&n.test(s))return!0;return!1}function Se(_,s=globalThis,n=["*"]){s.addEventListener("message",function d(E){if(!E||!E.data)return;if(!Es(n,E.origin)){console.warn(`Invalid origin '${E.origin}' for comlink proxy`);return}let{id:g,type:x,path:A}=Object.assign({path:[]},E.data),C=(E.data.argumentList||[]).map(Nt),N;try{let O=A.slice(0,-1).reduce(($,P)=>$[P],_),v=A.reduce(($,P)=>$[P],_);switch(x){case"GET":N=v;break;case"SET":O[A.slice(-1)[0]]=Nt(E.data.value),N=!0;break;case"APPLY":N=v.apply(O,C);break;case"CONSTRUCT":{let $=new v(...C);N=St($)}break;case"ENDPOINT":{let{port1:$,port2:P}=new MessageChannel;Se(_,P),N=Is($,[$])}break;case"RELEASE":N=void 0;break;default:return}}catch(O){N={value:O,[de]:0}}Promise.resolve(N).catch(O=>({value:O,[de]:0})).then(O=>{let[v,$]=pe(O);s.postMessage(Object.assign(Object.assign({},v),{id:g}),$),x==="RELEASE"&&(s.removeEventListener("message",d),co(s),Xe in _&&typeof _[Xe]=="function"&&_[Xe]())}).catch(O=>{let[v,$]=pe({value:new TypeError("Unserializable return value"),[de]:0});s.postMessage(Object.assign(Object.assign({},v),{id:g}),$)})}),s.start&&s.start()}function hs(_){return _.constructor.name==="MessagePort"}function co(_){hs(_)&&_.close()}function ps(_,s){return je(_,[],s)}function fe(_){if(_)throw new Error("Proxy has been released and is not useable")}function lo(_){return kt(_,{type:"RELEASE"}).then(()=>{co(_)})}function Ss(_,s){let n=(Ee.get(s)||0)+1;Ee.set(s,n),he&&he.register(_,s,_)}function ms(_){he&&he.unregister(_)}function je(_,s=[],n=function(){}){let d=!1,E=new Proxy(n,{get(g,x){if(fe(d),x===us)return()=>{ms(E),lo(_),d=!0};if(x==="then"){if(s.length===0)return{then:()=>E};let A=kt(_,{type:"GET",path:s.map(C=>C.toString())}).then(Nt);return A.then.bind(A)}return je(_,[...s,x])},set(g,x,A){fe(d);let[C,N]=pe(A);return kt(_,{type:"SET",path:[...s,x].map(O=>O.toString()),value:C},N).then(Nt)},apply(g,x,A){fe(d);let C=s[s.length-1];if(C===ls)return kt(_,{type:"ENDPOINT"}).then(Nt);if(C==="bind")return je(_,s.slice(0,-1));let[N,O]=so(A);return kt(_,{type:"APPLY",path:s.map(v=>v.toString()),argumentList:N},O).then(Nt)},construct(g,x){fe(d);let[A,C]=so(x);return kt(_,{type:"CONSTRUCT",path:s.map(N=>N.toString()),argumentList:A},C).then(Nt)}});return Ss(E,_),E}function Ts(_){return Array.prototype.concat.apply([],_)}function so(_){let s=_.map(pe);return[s.map(n=>n[0]),Ts(s.map(n=>n[1]))]}function Is(_,s){return uo.set(_,s),_}function St(_){return Object.assign(_,{[io]:!0})}function pe(_){for(let[s,n]of ao)if(n.canHandle(_)){let[d,E]=n.serialize(_);return[{type:"HANDLER",name:s,value:d},E]}return[{type:"RAW",value:_},uo.get(_)||[]]}function Nt(_){switch(_.type){case"HANDLER":return ao.get(_.name).deserialize(_.value);case"RAW":return _.value}}function kt(_,s,n){return new Promise(d=>{let E=gs();_.addEventListener("message",function g(x){!x.data||!x.data.id||x.data.id!==E||(_.removeEventListener("message",g),d(x.data))}),_.start&&_.start(),_.postMessage(Object.assign({id:E},s),n)})}function gs(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var io,ls,us,Xe,de,_o,fs,ds,ao,Ee,he,uo,Ye=ot(()=>{io=Symbol("Comlink.proxy"),ls=Symbol("Comlink.endpoint"),us=Symbol("Comlink.releaseProxy"),Xe=Symbol("Comlink.finalizer"),de=Symbol("Comlink.thrown"),_o=_=>typeof _=="object"&&_!==null||typeof _=="function",fs={canHandle:_=>_o(_)&&_[io],serialize(_){let{port1:s,port2:n}=new MessageChannel;return Se(_,s),[n,[n]]},deserialize(_){return _.start(),ps(_)}},ds={canHandle:_=>_o(_)&&de in _,serialize({value:_}){let s;return _ instanceof Error?s={isError:!0,value:{message:_.message,name:_.name,stack:_.stack}}:s={isError:!1,value:_},[s,[]]},deserialize(_){throw _.isError?Object.assign(new Error(_.value.message),_.value):_.value}},ao=new Map([["proxy",fs],["throw",ds]]);Ee=new WeakMap,he="FinalizationRegistry"in globalThis&&new FinalizationRegistry(_=>{let s=(Ee.get(_)||0)-1;Ee.set(_,s),s===0&&lo(_)});uo=new WeakMap});function Je(){if(!me&&(me=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!me))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return me(ws)}var me,ws,Eo=ot(()=>{ws=new Uint8Array(16)});function ho(_,s=0){return Z[_[s+0]]+Z[_[s+1]]+Z[_[s+2]]+Z[_[s+3]]+"-"+Z[_[s+4]]+Z[_[s+5]]+"-"+Z[_[s+6]]+Z[_[s+7]]+"-"+Z[_[s+8]]+Z[_[s+9]]+"-"+Z[_[s+10]]+Z[_[s+11]]+Z[_[s+12]]+Z[_[s+13]]+Z[_[s+14]]+Z[_[s+15]]}var Z,po=ot(()=>{Z=[];for(let _=0;_<256;++_)Z.push((_+256).toString(16).slice(1))});var Ls,Ze,So=ot(()=>{Ls=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ze={randomUUID:Ls}});function ys(_,s,n){if(Ze.randomUUID&&!s&&!_)return Ze.randomUUID();_=_||{};let d=_.random||(_.rng||Je)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,s){n=n||0;for(let E=0;E<16;++E)s[n+E]=d[E];return s}return ho(d)}var Gt,mo=ot(()=>{So();Eo();po();Gt=ys});var tn=ot(()=>{mo()});var To={};Gr(To,{default:()=>qs});var xs,qs,Io=ot(()=>{xs=(()=>{var _=import.meta.url;return function(s={}){var n=s,d,E,g=new Promise((t,e)=>{d=t,E=e}),x=Object.assign({},n),A="./this.program",C=(t,e)=>{throw e},N=typeof window=="object",O=typeof importScripts=="function",v="",$;(N||O)&&(O?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),_&&(v=_),v.startsWith("blob:")?v="":v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1),O&&($=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}));var P=n.print||console.log.bind(console),Q=n.printErr||console.error.bind(console);Object.assign(n,x),x=null,n.thisProgram&&(A=n.thisProgram),n.quit&&(C=n.quit);var f;n.wasmBinary&&(f=n.wasmBinary);var u,l=!1,p,T,I,V,J,R,H,nt,_t;function Lt(){var t=u.buffer;n.HEAP8=T=new Int8Array(t),n.HEAP16=V=new Int16Array(t),n.HEAPU8=I=new Uint8Array(t),n.HEAPU16=J=new Uint16Array(t),n.HEAP32=R=new Int32Array(t),n.HEAPU32=H=new Uint32Array(t),n.HEAPF32=nt=new Float32Array(t),n.HEAPF64=_t=new Float64Array(t)}var yt=[],xt=[],Ct=[],jt=[];function xe(){var t=n.preRun.shift();yt.unshift(t)}var qt=0,qe=null,Kt=null;function ut(t){throw n.onAbort?.(t),t="Aborted("+t+")",Q(t),l=!0,p=1,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),E(t),t}var fn=t=>t.startsWith("data:application/octet-stream;base64,"),bt;if(n.locateFile){if(bt="wa-sqlite-async.wasm",!fn(bt)){var dn=bt;bt=n.locateFile?n.locateFile(dn,v):v+dn}}else bt=new URL("wa-sqlite-async.wasm",import.meta.url).href;function En(t){if(t==bt&&f)return new Uint8Array(f);if($)return $(t);throw"both async and sync fetching of the wasm failed"}function No(t){return f||!N&&!O||typeof fetch!="function"?Promise.resolve().then(()=>En(t)):fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw`failed to load wasm binary file at '${t}'`;return e.arrayBuffer()}).catch(()=>En(t))}function hn(t,e,r){return No(t).then(o=>WebAssembly.instantiate(o,e)).then(r,o=>{Q(`failed to asynchronously prepare wasm: ${o}`),ut(o)})}function Co(t,e){var r=bt;return f||typeof WebAssembly.instantiateStreaming!="function"||fn(r)||typeof fetch!="function"?hn(r,t,e):fetch(r,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,t).then(e,function(i){return Q(`wasm streaming compile failed: ${i}`),Q("falling back to ArrayBuffer instantiation"),hn(r,t,e)}))}var D,W;function pn(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var Yt=t=>{for(;0<t.length;)t.shift()(n)};function j(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return T[t];case"i8":return T[t];case"i16":return V[t>>1];case"i32":return R[t>>2];case"i64":ut("to do getValue(i64) use WASM_BIGINT");case"float":return nt[t>>2];case"double":return _t[t>>3];case"*":return H[t>>2];default:ut(`invalid type for getValue: ${e}`)}}var Sn=n.noExitRuntime||!0;function ft(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":T[t]=e;break;case"i8":T[t]=e;break;case"i16":V[t>>1]=e;break;case"i32":R[t>>2]=e;break;case"i64":ut("to do setValue(i64) use WASM_BIGINT");case"float":nt[t>>2]=e;break;case"double":_t[t>>3]=e;break;case"*":H[t>>2]=e;break;default:ut(`invalid type for setValue: ${r}`)}}var mn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,B=(t,e,r)=>{var o=e+r;for(r=e;t[r]&&!(r>=o);)++r;if(16<r-e&&t.buffer&&mn)return mn.decode(t.subarray(e,r));for(o="";e<r;){var i=t[e++];if(i&128){var c=t[e++]&63;if((i&224)==192)o+=String.fromCharCode((i&31)<<6|c);else{var h=t[e++]&63;i=(i&240)==224?(i&15)<<12|c<<6|h:(i&7)<<18|c<<12|h<<6|t[e++]&63,65536>i?o+=String.fromCharCode(i):(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023))}}else o+=String.fromCharCode(i)}return o},Tn=(t,e)=>{for(var r=0,o=t.length-1;0<=o;o--){var i=t[o];i==="."?t.splice(o,1):i===".."?(t.splice(o,1),r++):r&&(t.splice(o,1),r--)}if(e)for(;r;r--)t.unshift("..");return t},Qt=t=>{var e=t.charAt(0)==="/",r=t.substr(-1)==="/";return(t=Tn(t.split("/").filter(o=>!!o),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},Qo=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],!t&&!e?".":(e&&=e.substr(0,e.length-1),t+e)},Jt=t=>{if(t==="/")return"/";t=Qt(t),t=t.replace(/\/$/,"");var e=t.lastIndexOf("/");return e===-1?t:t.substr(e+1)},Do=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);ut("initRandomDevice")},be=t=>(be=Do())(t),Zt=(...t)=>{for(var e="",r=!1,o=t.length-1;-1<=o&&!r;o--){if(r=0<=o?t[o]:"/",typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,r=r.charAt(0)==="/"}return e=Tn(e.split("/").filter(i=>!!i),!r).join("/"),(r?"/":"")+e||"."},ve=[],Dt=t=>{for(var e=0,r=0;r<t.length;++r){var o=t.charCodeAt(r);127>=o?e++:2047>=o?e+=2:55296<=o&&57343>=o?(e+=4,++r):e+=3}return e},dt=(t,e,r,o)=>{if(!(0<o))return 0;var i=r;o=r+o-1;for(var c=0;c<t.length;++c){var h=t.charCodeAt(c);if(55296<=h&&57343>=h){var w=t.charCodeAt(++c);h=65536+((h&1023)<<10)|w&1023}if(127>=h){if(r>=o)break;e[r++]=h}else{if(2047>=h){if(r+1>=o)break;e[r++]=192|h>>6}else{if(65535>=h){if(r+2>=o)break;e[r++]=224|h>>12}else{if(r+3>=o)break;e[r++]=240|h>>18,e[r++]=128|h>>12&63}e[r++]=128|h>>6&63}e[r++]=128|h&63}}return e[r]=0,r-i};function In(t,e,r){return r=Array(0<r?r:Dt(t)+1),t=dt(t,r,0,r.length),e&&(r.length=t),r}var gn=[];function wn(t,e){gn[t]={input:[],Gf:[],Rf:e},Ce(t,Fo)}var Fo={open(t){var e=gn[t.node.Uf];if(!e)throw new q(43);t.Hf=e,t.seekable=!1},close(t){t.Hf.Rf.Xf(t.Hf)},Xf(t){t.Hf.Rf.Xf(t.Hf)},read(t,e,r,o){if(!t.Hf||!t.Hf.Rf.lg)throw new q(60);for(var i=0,c=0;c<o;c++){try{var h=t.Hf.Rf.lg(t.Hf)}catch{throw new q(29)}if(h===void 0&&i===0)throw new q(6);if(h==null)break;i++,e[r+c]=h}return i&&(t.node.timestamp=Date.now()),i},write(t,e,r,o){if(!t.Hf||!t.Hf.Rf.fg)throw new q(60);try{for(var i=0;i<o;i++)t.Hf.Rf.fg(t.Hf,e[r+i])}catch{throw new q(29)}return o&&(t.node.timestamp=Date.now()),i}},Po={lg(){t:{if(!ve.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t){t=null;break t}ve=In(t,!0)}t=ve.shift()}return t},fg(t,e){e===null||e===10?(P(B(t.Gf,0)),t.Gf=[]):e!=0&&t.Gf.push(e)},Xf(t){t.Gf&&0<t.Gf.length&&(P(B(t.Gf,0)),t.Gf=[])},Mg(){return{Hg:25856,Jg:5,Gg:191,Ig:35387,Fg:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ng(){return 0},Og(){return[24,80]}},Vo={fg(t,e){e===null||e===10?(Q(B(t.Gf,0)),t.Gf=[]):e!=0&&t.Gf.push(e)},Xf(t){t.Gf&&0<t.Gf.length&&(Q(B(t.Gf,0)),t.Gf=[])}};function Ln(t,e){var r=t.Cf?t.Cf.length:0;r>=e||(e=Math.max(e,r*(1048576>r?2:1.125)>>>0),r!=0&&(e=Math.max(e,256)),r=t.Cf,t.Cf=new Uint8Array(e),0<t.Ef&&t.Cf.set(r.subarray(0,t.Ef),0))}var U={Kf:null,Jf(){return U.createNode(null,"/",16895,0)},createNode(t,e,r,o){if((r&61440)===24576||(r&61440)===4096)throw new q(63);return U.Kf||(U.Kf={dir:{node:{If:U.Af.If,Ff:U.Af.Ff,Sf:U.Af.Sf,Yf:U.Af.Yf,pg:U.Af.pg,cg:U.Af.cg,ag:U.Af.ag,og:U.Af.og,bg:U.Af.bg},stream:{Of:U.Bf.Of}},file:{node:{If:U.Af.If,Ff:U.Af.Ff},stream:{Of:U.Bf.Of,read:U.Bf.read,write:U.Bf.write,ig:U.Bf.ig,Zf:U.Bf.Zf,$f:U.Bf.$f}},link:{node:{If:U.Af.If,Ff:U.Af.Ff,Vf:U.Af.Vf},stream:{}},jg:{node:{If:U.Af.If,Ff:U.Af.Ff},stream:Ho}}),r=bn(t,e,r,o),st(r.mode)?(r.Af=U.Kf.dir.node,r.Bf=U.Kf.dir.stream,r.Cf={}):(r.mode&61440)===32768?(r.Af=U.Kf.file.node,r.Bf=U.Kf.file.stream,r.Ef=0,r.Cf=null):(r.mode&61440)===40960?(r.Af=U.Kf.link.node,r.Bf=U.Kf.link.stream):(r.mode&61440)===8192&&(r.Af=U.Kf.jg.node,r.Bf=U.Kf.jg.stream),r.timestamp=Date.now(),t&&(t.Cf[e]=r,t.timestamp=r.timestamp),r},Lg(t){return t.Cf?t.Cf.subarray?t.Cf.subarray(0,t.Ef):new Uint8Array(t.Cf):new Uint8Array(0)},Af:{If(t){var e={};return e.vg=(t.mode&61440)===8192?t.id:1,e.mg=t.id,e.mode=t.mode,e.Bg=1,e.uid=0,e.yg=0,e.Uf=t.Uf,st(t.mode)?e.size=4096:(t.mode&61440)===32768?e.size=t.Ef:(t.mode&61440)===40960?e.size=t.link.length:e.size=0,e.rg=new Date(t.timestamp),e.Ag=new Date(t.timestamp),e.ug=new Date(t.timestamp),e.sg=4096,e.tg=Math.ceil(e.size/e.sg),e},Ff(t,e){if(e.mode!==void 0&&(t.mode=e.mode),e.timestamp!==void 0&&(t.timestamp=e.timestamp),e.size!==void 0&&(e=e.size,t.Ef!=e))if(e==0)t.Cf=null,t.Ef=0;else{var r=t.Cf;t.Cf=new Uint8Array(e),r&&t.Cf.set(r.subarray(0,Math.min(e,t.Ef))),t.Ef=e}},Sf(){throw Re[44]},Yf(t,e,r,o){return U.createNode(t,e,r,o)},pg(t,e,r){if(st(t.mode)){try{var o=vt(e,r)}catch{}if(o)for(var i in o.Cf)throw new q(55)}delete t.parent.Cf[t.name],t.parent.timestamp=Date.now(),t.name=r,e.Cf[r]=t,e.timestamp=t.parent.timestamp,t.parent=e},cg(t,e){delete t.Cf[e],t.timestamp=Date.now()},ag(t,e){var r=vt(t,e),o;for(o in r.Cf)throw new q(55);delete t.Cf[e],t.timestamp=Date.now()},og(t){var e=[".",".."],r;for(r of Object.keys(t.Cf))e.push(r);return e},bg(t,e,r){return t=U.createNode(t,e,41471,0),t.link=r,t},Vf(t){if((t.mode&61440)!==40960)throw new q(28);return t.link}},Bf:{read(t,e,r,o,i){var c=t.node.Cf;if(i>=t.node.Ef)return 0;if(t=Math.min(t.node.Ef-i,o),8<t&&c.subarray)e.set(c.subarray(i,i+t),r);else for(o=0;o<t;o++)e[r+o]=c[i+o];return t},write(t,e,r,o,i,c){if(e.buffer===T.buffer&&(c=!1),!o)return 0;if(t=t.node,t.timestamp=Date.now(),e.subarray&&(!t.Cf||t.Cf.subarray)){if(c)return t.Cf=e.subarray(r,r+o),t.Ef=o;if(t.Ef===0&&i===0)return t.Cf=e.slice(r,r+o),t.Ef=o;if(i+o<=t.Ef)return t.Cf.set(e.subarray(r,r+o),i),o}if(Ln(t,i+o),t.Cf.subarray&&e.subarray)t.Cf.set(e.subarray(r,r+o),i);else for(c=0;c<o;c++)t.Cf[i+c]=e[r+c];return t.Ef=Math.max(t.Ef,i+o),o},Of(t,e,r){if(r===1?e+=t.position:r===2&&(t.node.mode&61440)===32768&&(e+=t.node.Ef),0>e)throw new q(28);return e},ig(t,e,r){Ln(t.node,e+r),t.node.Ef=Math.max(t.node.Ef,e+r)},Zf(t,e,r,o,i){if((t.node.mode&61440)!==32768)throw new q(43);if(t=t.node.Cf,i&2||t.buffer!==T.buffer){if((0<r||r+e<t.length)&&(t.subarray?t=t.subarray(r,r+e):t=Array.prototype.slice.call(t,r,r+e)),r=!0,e=65536*Math.ceil(e/65536),(i=Vr(65536,e))?(I.fill(0,i,i+e),e=i):e=0,!e)throw new q(48);T.set(t,e)}else r=!1,e=t.byteOffset;return{Cg:e,qg:r}},$f(t,e,r,o){return U.Bf.write(t,e,0,o,r,!1),0}}},Uo=(t,e)=>{var r=0;return t&&(r|=365),e&&(r|=146),r},Ae=null,yn={},Ht=[],ko=1,mt=null,xn=!0,q=class{constructor(t){this.name="ErrnoError",this.Df=t}},Re={},Bo=class{constructor(){this.Wf={},this.node=null}get flags(){return this.Wf.flags}set flags(t){this.Wf.flags=t}get position(){return this.Wf.position}set position(t){this.Wf.position=t}},Mo=class{constructor(t,e,r,o){t||=this,this.parent=t,this.Jf=t.Jf,this.Pf=null,this.id=ko++,this.name=e,this.mode=r,this.Af={},this.Bf={},this.Uf=o}get read(){return(this.mode&365)===365}set read(t){t?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(t){t?this.mode|=146:this.mode&=-147}};function rt(t,e={}){if(t=Zt(t),!t)return{path:"",node:null};if(e=Object.assign({kg:!0,gg:0},e),8<e.gg)throw new q(32);t=t.split("/").filter(h=>!!h);for(var r=Ae,o="/",i=0;i<t.length;i++){var c=i===t.length-1;if(c&&e.parent)break;if(r=vt(r,t[i]),o=Qt(o+"/"+t[i]),r.Pf&&(!c||c&&e.kg)&&(r=r.Pf.root),!c||e.Nf){for(c=0;(r.mode&61440)===40960;)if(r=Qn(o),o=Zt(Qo(o),r),r=rt(o,{gg:e.gg+1}).node,40<c++)throw new q(32)}}return{path:o,node:r}}function Oe(t){for(var e;;){if(t===t.parent)return t=t.Jf.ng,e?t[t.length-1]!=="/"?`${t}/${e}`:t+e:t;e=e?`${t.name}/${e}`:t.name,t=t.parent}}function Ne(t,e){for(var r=0,o=0;o<e.length;o++)r=(r<<5)-r+e.charCodeAt(o)|0;return(t+r>>>0)%mt.length}function qn(t){var e=Ne(t.parent.id,t.name);if(mt[e]===t)mt[e]=t.Qf;else for(e=mt[e];e;){if(e.Qf===t){e.Qf=t.Qf;break}e=e.Qf}}function vt(t,e){var r=st(t.mode)?(r=Ft(t,"x"))?r:t.Af.Sf?0:2:54;if(r)throw new q(r);for(r=mt[Ne(t.id,e)];r;r=r.Qf){var o=r.name;if(r.parent.id===t.id&&o===e)return r}return t.Af.Sf(t,e)}function bn(t,e,r,o){return t=new Mo(t,e,r,o),e=Ne(t.parent.id,t.name),t.Qf=mt[e],mt[e]=t}function st(t){return(t&61440)===16384}function vn(t){var e=["r","w","rw"][t&3];return t&512&&(e+="w"),e}function Ft(t,e){if(xn)return 0;if(!e.includes("r")||t.mode&292){if(e.includes("w")&&!(t.mode&146)||e.includes("x")&&!(t.mode&73))return 2}else return 2;return 0}function An(t,e){try{return vt(t,e),20}catch{}return Ft(t,"wx")}function Rn(t,e,r){try{var o=vt(t,e)}catch(i){return i.Df}if(t=Ft(t,"wx"))return t;if(r){if(!st(o.mode))return 54;if(o===o.parent||Oe(o)==="/")return 10}else if(st(o.mode))return 31;return 0}function et(t){if(t=Ht[t],!t)throw new q(8);return t}function On(t,e=-1){if(t=Object.assign(new Bo,t),e==-1)t:{for(e=0;4096>=e;e++)if(!Ht[e])break t;throw new q(33)}return t.Lf=e,Ht[e]=t}function Ko(t,e=-1){return t=On(t,e),t.Bf?.Kg?.(t),t}var Ho={open(t){t.Bf=yn[t.node.Uf].Bf,t.Bf.open?.(t)},Of(){throw new q(70)}};function Ce(t,e){yn[t]={Bf:e}}function Nn(t,e){var r=e==="/";if(r&&Ae)throw new q(10);if(!r&&e){var o=rt(e,{kg:!1});if(e=o.path,o=o.node,o.Pf)throw new q(10);if(!st(o.mode))throw new q(54)}e={type:t,Pg:{},ng:e,zg:[]},t=t.Jf(e),t.Jf=e,e.root=t,r?Ae=t:o&&(o.Pf=e,o.Jf&&o.Jf.zg.push(e))}function Qe(t,e,r){var o=rt(t,{parent:!0}).node;if(t=Jt(t),!t||t==="."||t==="..")throw new q(28);var i=An(o,t);if(i)throw new q(i);if(!o.Af.Yf)throw new q(63);return o.Af.Yf(o,t,e,r)}function Et(t,e){return Qe(t,(e!==void 0?e:511)&1023|16384,0)}function te(t,e,r){typeof r>"u"&&(r=e,e=438),Qe(t,e|8192,r)}function De(t,e){if(!Zt(t))throw new q(44);var r=rt(e,{parent:!0}).node;if(!r)throw new q(44);e=Jt(e);var o=An(r,e);if(o)throw new q(o);if(!r.Af.bg)throw new q(63);r.Af.bg(r,e,t)}function Cn(t){var e=rt(t,{parent:!0}).node;t=Jt(t);var r=vt(e,t),o=Rn(e,t,!0);if(o)throw new q(o);if(!e.Af.ag)throw new q(63);if(r.Pf)throw new q(10);e.Af.ag(e,t),qn(r)}function Qn(t){if(t=rt(t).node,!t)throw new q(44);if(!t.Af.Vf)throw new q(28);return Zt(Oe(t.parent),t.Af.Vf(t))}function ee(t,e){if(t=rt(t,{Nf:!e}).node,!t)throw new q(44);if(!t.Af.If)throw new q(63);return t.Af.If(t)}function Dn(t){return ee(t,!0)}function Fn(t,e){if(t=typeof t=="string"?rt(t,{Nf:!0}).node:t,!t.Af.Ff)throw new q(63);t.Af.Ff(t,{mode:e&4095|t.mode&-4096,timestamp:Date.now()})}function Pn(t,e){if(0>e)throw new q(28);if(t=typeof t=="string"?rt(t,{Nf:!0}).node:t,!t.Af.Ff)throw new q(63);if(st(t.mode))throw new q(31);if((t.mode&61440)!==32768)throw new q(28);var r=Ft(t,"w");if(r)throw new q(r);t.Af.Ff(t,{size:e,timestamp:Date.now()})}function ne(t,e,r){if(t==="")throw new q(44);if(typeof e=="string"){var o={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof o>"u")throw Error(`Unknown file open mode: ${e}`);e=o}if(r=e&64?(typeof r>"u"?438:r)&4095|32768:0,typeof t=="object")var i=t;else{t=Qt(t);try{i=rt(t,{Nf:!(e&131072)}).node}catch{}}if(o=!1,e&64)if(i){if(e&128)throw new q(20)}else i=Qe(t,r,0),o=!0;if(!i)throw new q(44);if((i.mode&61440)===8192&&(e&=-513),e&65536&&!st(i.mode))throw new q(54);if(!o&&(r=i?(i.mode&61440)===40960?32:st(i.mode)&&(vn(e)!=="r"||e&512)?31:Ft(i,vn(e)):44))throw new q(r);return e&512&&!o&&Pn(i,0),e&=-131713,i=On({node:i,path:Oe(i),flags:e,seekable:!0,position:0,Bf:i.Bf,Eg:[],error:!1}),i.Bf.open&&i.Bf.open(i),!n.logReadFiles||e&1||(Fe||={},t in Fe||(Fe[t]=1)),i}function Vn(t,e,r){if(t.Lf===null)throw new q(8);if(!t.seekable||!t.Bf.Of)throw new q(70);if(r!=0&&r!=1&&r!=2)throw new q(28);t.position=t.Bf.Of(t,e,r),t.Eg=[]}var Un;function $t(t,e,r){t=Qt("/dev/"+t);var o=Uo(!!e,!!r);kn||=64;var i=kn++<<8|0;Ce(i,{open(c){c.seekable=!1},close(){r?.buffer?.length&&r(10)},read(c,h,w,S){for(var m=0,L=0;L<S;L++){try{var y=e()}catch{throw new q(29)}if(y===void 0&&m===0)throw new q(6);if(y==null)break;m++,h[w+L]=y}return m&&(c.node.timestamp=Date.now()),m},write(c,h,w,S){for(var m=0;m<S;m++)try{r(h[w+m])}catch{throw new q(29)}return S&&(c.node.timestamp=Date.now()),m}}),te(t,o,i)}var kn,z={},Fe;function At(t,e,r){if(e.charAt(0)==="/")return e;if(t=t===-100?"/":et(t).path,e.length==0){if(!r)throw new q(44);return t}return Qt(t+"/"+e)}function re(t,e,r){t=t(e),R[r>>2]=t.vg,R[r+4>>2]=t.mode,H[r+8>>2]=t.Bg,R[r+12>>2]=t.uid,R[r+16>>2]=t.yg,R[r+20>>2]=t.Uf,W=[t.size>>>0,(D=t.size,1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[r+24>>2]=W[0],R[r+28>>2]=W[1],R[r+32>>2]=4096,R[r+36>>2]=t.tg,e=t.rg.getTime();var o=t.Ag.getTime(),i=t.ug.getTime();return W=[Math.floor(e/1e3)>>>0,(D=Math.floor(e/1e3),1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[r+40>>2]=W[0],R[r+44>>2]=W[1],H[r+48>>2]=e%1e3*1e3,W=[Math.floor(o/1e3)>>>0,(D=Math.floor(o/1e3),1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[r+56>>2]=W[0],R[r+60>>2]=W[1],H[r+64>>2]=o%1e3*1e3,W=[Math.floor(i/1e3)>>>0,(D=Math.floor(i/1e3),1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[r+72>>2]=W[0],R[r+76>>2]=W[1],H[r+80>>2]=i%1e3*1e3,W=[t.mg>>>0,(D=t.mg,1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[r+88>>2]=W[0],R[r+92>>2]=W[1],0}var oe=void 0;function se(){var t=R[+oe>>2];return oe+=4,t}var zt=(t,e)=>e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN,$o=[0,31,60,91,121,152,182,213,244,274,305,335],zo=[0,31,59,90,120,151,181,212,243,273,304,334],Pe={},Bn=()=>{if(!Ve){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"},e;for(e in Pe)Pe[e]===void 0?delete t[e]:t[e]=Pe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ve=r}return Ve},Ve;function Mn(){}function Kn(){}function Hn(){}function $n(){}function zn(){}function Wn(){}function Gn(){}function Xn(){}function jn(){}function Yn(){}function Jn(){}function Zn(){}function tr(){}function er(){}function nr(){}function rr(){}function or(){}function sr(){}function ir(){}function _r(){}function ar(){}function cr(){}function lr(){}function ur(){}function fr(){}function dr(){}function Er(){}function hr(){}function pr(){}function Sr(){}function mr(){}function Tr(){}function Ir(){}function gr(){}function wr(){}function Lr(){}function yr(){}function xr(){}function qr(){}var ie=0,br=t=>{p=t,Sn||0<ie||(n.onExit?.(t),l=!0),C(t,new pn(t))},Ue=t=>{t instanceof pn||t=="unwind"||C(1,t)},_e=t=>{try{t()}catch(e){ut(e)}},Wo=t=>{if(!l)try{if(t(),!(Sn||0<ie))try{p=t=p,br(t)}catch(e){Ue(e)}}catch(e){Ue(e)}};function Go(){var t=a,e={};for(let[r,o]of Object.entries(t))e[r]=typeof o=="function"?(...i)=>{ae.push(r);try{return o(...i)}finally{l||(ae.pop(),ht&&Tt===1&&ae.length===0&&(Tt=0,_e(Kr),typeof Fibers<"u"&&Fibers.Qg()))}}:o;return e}var Tt=0,ht=null,vr=0,ae=[],Ar={},Rr={},Xo=0,ke=null,jo=[];function Yo(){return new Promise((t,e)=>{ke={resolve:t,reject:e}})}function Jo(){var t=Dr(16396),e=t+12;H[t>>2]=e,H[t+4>>2]=e+16384,e=ae[0];var r=Ar[e];return r===void 0&&(r=Xo++,Ar[e]=r,Rr[r]=e),R[t+8>>2]=r,t}function Or(t){if(!l){if(Tt===0){var e=!1,r=!1;t((o=0)=>{if(!l&&(vr=o,e=!0,r)){Tt=2,_e(()=>Hr(ht)),typeof Browser<"u"&&Browser.eg.xg&&Browser.eg.resume(),o=!1;try{var i=(0,a[Rr[R[ht+8>>2]]])()}catch(w){i=w,o=!0}var c=!1;if(!ht){var h=ke;h&&(ke=null,(o?h.reject:h.resolve)(i),c=!0)}if(o&&!c)throw i}}),r=!0,e||(Tt=1,ht=Jo(),typeof Browser<"u"&&Browser.eg.xg&&Browser.eg.pause(),_e(()=>Mr(ht)))}else Tt===2?(Tt=0,_e($r),Fr(ht),ht=null,jo.forEach(Wo)):ut(`invalid state: ${Tt}`);return vr}}function Be(t){return Or(e=>{t().then(e)})}var Nr={},Rt,Pt,Cr=[],pt=(t,e,r,o,i)=>{function c(y){return--ie,S!==0&&kr(S),e==="string"?y?B(I,y):"":e==="boolean"?!!y:y}var h={string:y=>{var b=0;if(y!=null&&y!==0){b=Dt(y)+1;var k=Me(b);dt(y,I,k,b),b=k}return b},array:y=>{var b=Me(y.length);return T.set(y,b),b}};t=n["_"+t];var w=[],S=0;if(o)for(var m=0;m<o.length;m++){var L=h[r[m]];L?(S===0&&(S=Br()),w[m]=L(o[m])):w[m]=o[m]}return r=ht,o=t(...w),i=i?.async,ie+=1,ht!=r?Yo().then(c):(o=c(o),i?Promise.resolve(o):o)},Qr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;[44].forEach(t=>{Re[t]=new q(t),Re[t].stack="<generic error, no stack>"}),mt=Array(4096),Nn(U,"/"),Et("/tmp"),Et("/home"),Et("/home/web_user"),function(){Et("/dev"),Ce(259,{read:()=>0,write:(o,i,c,h)=>h}),te("/dev/null",259),wn(1280,Po),wn(1536,Vo),te("/dev/tty",1280),te("/dev/tty1",1536);var t=new Uint8Array(1024),e=0,r=()=>(e===0&&(e=be(t).byteLength),t[--e]);$t("random",r),$t("urandom",r),Et("/dev/shm"),Et("/dev/shm/tmp")}(),function(){Et("/proc");var t=Et("/proc/self");Et("/proc/self/fd"),Nn({Jf(){var e=bn(t,"fd",16895,73);return e.Af={Sf(r,o){var i=et(+o);return r={parent:null,Jf:{ng:"fake"},Af:{Vf:()=>i.path}},r.parent=r}},e}},"/proc/self/fd")}(),function(){let t=new Map;n.setAuthorizer=function(e,r,o){return r?t.set(e,{f:r,hg:o}):t.delete(e),pt("set_authorizer","number",["number"],[e])},Mn=function(e,r,o,i,c,h){if(t.has(e)){let{f:w,hg:S}=t.get(e);return w(S,r,o?o?B(I,o):"":null,i?i?B(I,i):"":null,c?c?B(I,c):"":null,h?h?B(I,h):"":null)}return 0}}(),function(){let t=new Map,e=new Map;n.createFunction=function(r,o,i,c,h,w){let S=t.size;return t.set(S,{f:w,Mf:h}),pt("create_function","number","number string number number number number".split(" "),[r,o,i,c,S,0])},n.createAggregate=function(r,o,i,c,h,w,S){let m=t.size;return t.set(m,{step:w,wg:S,Mf:h}),pt("create_function","number","number string number number number number".split(" "),[r,o,i,c,m,1])},n.getFunctionUserData=function(r){return e.get(r)},Hn=function(r,o,i,c){r=t.get(r),e.set(o,r.Mf),r.f(o,new Uint32Array(I.buffer,c,i)),e.delete(o)},zn=function(r,o,i,c){r=t.get(r),e.set(o,r.Mf),r.step(o,new Uint32Array(I.buffer,c,i)),e.delete(o)},Kn=function(r,o){r=t.get(r),e.set(o,r.Mf),r.wg(o),e.delete(o)}}(),function(){let t=new Map;n.progressHandler=function(e,r,o,i){return o?t.set(e,{f:o,hg:i}):t.delete(e),pt("progress_handler",null,["number","number"],[e,r])},$n=function(e){if(t.has(e)){let{f:r,hg:o}=t.get(e);return r(o)}return 0}}(),function(){function t(S,m){let L=`get${S}`,y=`set${S}`;return new Proxy(new DataView(I.buffer,m,S==="Int32"?4:8),{get(b,k){if(k===L)return function(K,Y){if(!Y)throw Error("must be little endian");return b[k](K,Y)};if(k===y)return function(K,Y,X){if(!X)throw Error("must be little endian");return b[k](K,Y,X)};if(typeof k=="string"&&k.match(/^(get)|(set)/))throw Error("invalid type");return b[k]}})}let e=typeof Nr=="object",r=new Map,o=new Map,i=new Map,c=e?new Set:null,h=e?new Set:null,w=new Map;cr=function(S,m,L,y){w.set(S?B(I,S):"",{size:m,Tf:Array.from(new Uint32Array(I.buffer,y,L))})},n.createModule=function(S,m,L,y){e&&(L.handleAsync=Be);let b=r.size;return r.set(b,{module:L,Mf:y}),y=0,L.xCreate&&(y|=1),L.xConnect&&(y|=2),L.xBestIndex&&(y|=4),L.xDisconnect&&(y|=8),L.xDestroy&&(y|=16),L.xOpen&&(y|=32),L.xClose&&(y|=64),L.xFilter&&(y|=128),L.xNext&&(y|=256),L.xEof&&(y|=512),L.xColumn&&(y|=1024),L.xRowid&&(y|=2048),L.xUpdate&&(y|=4096),L.xBegin&&(y|=8192),L.xSync&&(y|=16384),L.xCommit&&(y|=32768),L.xRollback&&(y|=65536),L.xFindFunction&&(y|=131072),L.xRename&&(y|=262144),pt("create_module","number",["number","string","number","number"],[S,m,b,y])},Zn=function(S,m,L,y,b,k){if(m=r.get(m),o.set(b,m),e){c.delete(b);for(let K of c)o.delete(K)}return y=Array.from(new Uint32Array(I.buffer,y,L)).map(K=>K?B(I,K):""),m.module.xCreate(S,m.Mf,y,b,t("Int32",k))},Jn=function(S,m,L,y,b,k){if(m=r.get(m),o.set(b,m),e){c.delete(b);for(let K of c)o.delete(K)}return y=Array.from(new Uint32Array(I.buffer,y,L)).map(K=>K?B(I,K):""),m.module.xConnect(S,m.Mf,y,b,t("Int32",k))},Gn=function(S,m){var L=o.get(S),y=w.get("sqlite3_index_info").Tf;let b={};b.nConstraint=j(m+y[0],"i32"),b.aConstraint=[];for(var k=j(m+y[1],"*"),K=w.get("sqlite3_index_constraint").size,Y=0;Y<b.nConstraint;++Y){var X=b.aConstraint,at=X.push,it=k+Y*K,Vt=w.get("sqlite3_index_constraint").Tf,It={};It.iColumn=j(it+Vt[0],"i32"),It.op=j(it+Vt[1],"i8"),It.usable=!!j(it+Vt[2],"i8"),at.call(X,It)}for(b.nOrderBy=j(m+y[2],"i32"),b.aOrderBy=[],k=j(m+y[3],"*"),K=w.get("sqlite3_index_orderby").size,Y=0;Y<b.nOrderBy;++Y)X=b.aOrderBy,at=X.push,it=k+Y*K,Vt=w.get("sqlite3_index_orderby").Tf,It={},It.iColumn=j(it+Vt[0],"i32"),It.desc=!!j(it+Vt[1],"i8"),at.call(X,It);for(b.aConstraintUsage=[],k=0;k<b.nConstraint;++k)b.aConstraintUsage.push({argvIndex:0,omit:!1});for(b.idxNum=j(m+y[5],"i32"),b.idxStr=null,b.orderByConsumed=!!j(m+y[8],"i8"),b.estimatedCost=j(m+y[9],"double"),b.estimatedRows=j(m+y[10],"i32"),b.idxFlags=j(m+y[11],"i32"),b.colUsed=j(m+y[12],"i32"),S=L.module.xBestIndex(S,b),L=w.get("sqlite3_index_info").Tf,y=j(m+L[4],"*"),k=w.get("sqlite3_index_constraint_usage").size,at=0;at<b.nConstraint;++at)K=y+at*k,X=b.aConstraintUsage[at],it=w.get("sqlite3_index_constraint_usage").Tf,ft(K+it[0],X.argvIndex,"i32"),ft(K+it[1],X.omit?1:0,"i8");return ft(m+L[5],b.idxNum,"i32"),typeof b.idxStr=="string"&&(y=Dt(b.idxStr),k=pt("sqlite3_malloc","number",["number"],[y+1]),dt(b.idxStr,I,k,y+1),ft(m+L[6],k,"*"),ft(m+L[7],1,"i32")),ft(m+L[8],b.orderByConsumed,"i32"),ft(m+L[9],b.estimatedCost,"double"),ft(m+L[10],b.estimatedRows,"i32"),ft(m+L[11],b.idxFlags,"i32"),S},er=function(S){let m=o.get(S);return e?c.add(S):o.delete(S),m.module.xDisconnect(S)},tr=function(S){let m=o.get(S);return e?c.add(S):o.delete(S),m.module.xDestroy(S)},sr=function(S,m){let L=o.get(S);if(i.set(m,L),e){h.delete(m);for(let y of h)i.delete(y)}return L.module.xOpen(S,m)},Xn=function(S){let m=i.get(S);return e?h.add(S):i.delete(S),m.module.xClose(S)},nr=function(S){return i.get(S).module.xEof(S)?1:0},rr=function(S,m,L,y,b){let k=i.get(S);return L=L?L?B(I,L):"":null,b=new Uint32Array(I.buffer,b,y),k.module.xFilter(S,m,L,b)},or=function(S){return i.get(S).module.xNext(S)},jn=function(S,m,L){return i.get(S).module.xColumn(S,m,L)},ar=function(S,m){return i.get(S).module.xRowid(S,t("BigInt64",m))},ur=function(S,m,L,y){let b=o.get(S);return L=new Uint32Array(I.buffer,L,m),b.module.xUpdate(S,L,t("BigInt64",y))},Wn=function(S){return o.get(S).module.xBegin(S)},lr=function(S){return o.get(S).module.xSync(S)},Yn=function(S){return o.get(S).module.xCommit(S)},_r=function(S){return o.get(S).module.xRollback(S)},ir=function(S,m){let L=o.get(S);return m=m?B(I,m):"",L.module.xRename(S,m)}}(),function(){function t(c,h){let w=`get${c}`,S=`set${c}`;return new Proxy(new DataView(I.buffer,h,c==="Int32"?4:8),{get(m,L){if(L===w)return function(y,b){if(!b)throw Error("must be little endian");return m[L](y,b)};if(L===S)return function(y,b,k){if(!k)throw Error("must be little endian");return m[L](y,b,k)};if(typeof L=="string"&&L.match(/^(get)|(set)/))throw Error("invalid type");return m[L]}})}let e=typeof Nr=="object";e&&(n.handleAsync=Be);let r=new Map,o=new Map;n.registerVFS=function(c,h){if(pt("sqlite3_vfs_find","number",["string"],[c.name]))throw Error(`VFS '${c.name}' already registered`);e&&(c.handleAsync=Be);var w=c.mxPathName??64;let S=n._malloc(4);return h=pt("register_vfs","number",["string","number","number","number"],[c.name,w,h?1:0,S]),h||(w=j(S,"*"),r.set(w,c)),n._free(S),h};let i=e?new Set:null;Er=function(c){let h=o.get(c);return e?i.add(c):o.delete(c),h.xClose(c)},gr=function(c,h,w,S,m){return o.get(c).xRead(c,I.subarray(h,h+w),4294967296*m+S+(0>S?4294967296:0))},qr=function(c,h,w,S,m){return o.get(c).xWrite(c,I.subarray(h,h+w),4294967296*m+S+(0>S?4294967296:0))},yr=function(c,h,w){return o.get(c).xTruncate(c,4294967296*w+h+(0>h?4294967296:0))},Lr=function(c,h){return o.get(c).xSync(c,h)},mr=function(c,h){let w=o.get(c);return h=t("BigInt64",h),w.xFileSize(c,h)},Tr=function(c,h){return o.get(c).xLock(c,h)},xr=function(c,h){return o.get(c).xUnlock(c,h)},dr=function(c,h){let w=o.get(c);return h=t("Int32",h),w.xCheckReservedLock(c,h)},Sr=function(c,h,w){let S=o.get(c);return w=new DataView(I.buffer,w),S.xFileControl(c,h,w)},wr=function(c){return o.get(c).xSectorSize(c)},pr=function(c){return o.get(c).xDeviceCharacteristics(c)},Ir=function(c,h,w,S,m){if(c=r.get(c),o.set(w,c),e){i.delete(w);for(var L of i)o.delete(L)}if(L=null,S&64){L=1;let y=[];for(;L;){let b=I[h++];if(b)y.push(b);else switch(I[h]||(L=null),L){case 1:y.push(63),L=2;break;case 2:y.push(61),L=3;break;case 3:y.push(38),L=2}}L=new TextDecoder().decode(new Uint8Array(y))}else h&&(L=h?B(I,h):"");return m=t("Int32",m),c.xOpen(L,w,S,m)},hr=function(c,h,w){return r.get(c).xDelete(h?B(I,h):"",w)},fr=function(c,h,w,S){return c=r.get(c),S=t("Int32",S),c.xAccess(h?B(I,h):"",w,S)}}();var Zo={a:(t,e,r,o)=>{ut(`Assertion failed: ${t?B(I,t):""}, at: `+[e?e?B(I,e):"":"unknown filename",r,o?o?B(I,o):"":"unknown function"])},N:function(t,e){try{return t=t?B(I,t):"",Fn(t,e),0}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return-r.Df}},Q:function(t,e,r){try{if(e=e?B(I,e):"",e=At(t,e),r&-8)return-28;var o=rt(e,{Nf:!0}).node;return o?(t="",r&4&&(t+="r"),r&2&&(t+="w"),r&1&&(t+="x"),t&&Ft(o,t)?-2:0):-44}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.Df}},O:function(t,e){try{var r=et(t);return Fn(r.node,e),0}catch(o){if(typeof z>"u"||o.name!=="ErrnoError")throw o;return-o.Df}},M:function(t){try{var e=et(t).node,r=typeof e=="string"?rt(e,{Nf:!0}).node:e;if(!r.Af.Ff)throw new q(63);return r.Af.Ff(r,{timestamp:Date.now()}),0}catch(o){if(typeof z>"u"||o.name!=="ErrnoError")throw o;return-o.Df}},b:function(t,e,r){oe=r;try{var o=et(t);switch(e){case 0:var i=se();if(0>i)break;for(;Ht[i];)i++;return Ko(o,i).Lf;case 1:case 2:return 0;case 3:return o.flags;case 4:return i=se(),o.flags|=i,0;case 12:return i=se(),V[i+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(c){if(typeof z>"u"||c.name!=="ErrnoError")throw c;return-c.Df}},L:function(t,e){try{var r=et(t);return re(ee,r.path,e)}catch(o){if(typeof z>"u"||o.name!=="ErrnoError")throw o;return-o.Df}},n:function(t,e,r){e=zt(e,r);try{if(isNaN(e))return 61;var o=et(t);if(!(o.flags&2097155))throw new q(28);return Pn(o.node,e),0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.Df}},F:function(t,e){try{if(e===0)return-28;var r=Dt("/")+1;return e<r?-68:(dt("/",I,t,e),r)}catch(o){if(typeof z>"u"||o.name!=="ErrnoError")throw o;return-o.Df}},J:function(t,e){try{return t=t?B(I,t):"",re(Dn,t,e)}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return-r.Df}},C:function(t,e,r){try{return e=e?B(I,e):"",e=At(t,e),e=Qt(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),Et(e,r),0}catch(o){if(typeof z>"u"||o.name!=="ErrnoError")throw o;return-o.Df}},H:function(t,e,r,o){try{e=e?B(I,e):"";var i=o&256;return e=At(t,e,o&4096),re(i?Dn:ee,e,r)}catch(c){if(typeof z>"u"||c.name!=="ErrnoError")throw c;return-c.Df}},B:function(t,e,r,o){oe=o;try{e=e?B(I,e):"",e=At(t,e);var i=o?se():0;return ne(e,r,i).Lf}catch(c){if(typeof z>"u"||c.name!=="ErrnoError")throw c;return-c.Df}},z:function(t,e,r,o){try{if(e=e?B(I,e):"",e=At(t,e),0>=o)return-28;var i=Qn(e),c=Math.min(o,Dt(i)),h=T[r+c];return dt(i,I,r,o+1),T[r+c]=h,c}catch(w){if(typeof z>"u"||w.name!=="ErrnoError")throw w;return-w.Df}},y:function(t){try{return t=t?B(I,t):"",Cn(t),0}catch(e){if(typeof z>"u"||e.name!=="ErrnoError")throw e;return-e.Df}},K:function(t,e){try{return t=t?B(I,t):"",re(ee,t,e)}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return-r.Df}},u:function(t,e,r){try{if(e=e?B(I,e):"",e=At(t,e),r===0){t=e;var o=rt(t,{parent:!0}).node;if(!o)throw new q(44);var i=Jt(t),c=vt(o,i),h=Rn(o,i,!1);if(h)throw new q(h);if(!o.Af.cg)throw new q(63);if(c.Pf)throw new q(10);o.Af.cg(o,i),qn(c)}else r===512?Cn(e):ut("Invalid flags passed to unlinkat");return 0}catch(w){if(typeof z>"u"||w.name!=="ErrnoError")throw w;return-w.Df}},t:function(t,e,r){try{if(e=e?B(I,e):"",e=At(t,e,!0),r){var o=H[r>>2]+4294967296*R[r+4>>2],i=R[r+8>>2];c=1e3*o+i/1e6,r+=16,o=H[r>>2]+4294967296*R[r+4>>2],i=R[r+8>>2],h=1e3*o+i/1e6}else var c=Date.now(),h=c;t=c;var w=rt(e,{Nf:!0}).node;return w.Af.Ff(w,{timestamp:Math.max(t,h)}),0}catch(S){if(typeof z>"u"||S.name!=="ErrnoError")throw S;return-S.Df}},k:function(t,e,r){t=new Date(1e3*zt(t,e)),R[r>>2]=t.getSeconds(),R[r+4>>2]=t.getMinutes(),R[r+8>>2]=t.getHours(),R[r+12>>2]=t.getDate(),R[r+16>>2]=t.getMonth(),R[r+20>>2]=t.getFullYear()-1900,R[r+24>>2]=t.getDay(),e=t.getFullYear(),R[r+28>>2]=(e%4!==0||e%100===0&&e%400!==0?zo:$o)[t.getMonth()]+t.getDate()-1|0,R[r+36>>2]=-(60*t.getTimezoneOffset()),e=new Date(t.getFullYear(),6,1).getTimezoneOffset();var o=new Date(t.getFullYear(),0,1).getTimezoneOffset();R[r+32>>2]=(e!=o&&t.getTimezoneOffset()==Math.min(o,e))|0},i:function(t,e,r,o,i,c,h,w){i=zt(i,c);try{if(isNaN(i))return 61;var S=et(o);if(e&2&&!(r&2)&&(S.flags&2097155)!==2)throw new q(2);if((S.flags&2097155)===1)throw new q(2);if(!S.Bf.Zf)throw new q(43);var m=S.Bf.Zf(S,t,i,e,r),L=m.Cg;return R[h>>2]=m.qg,H[w>>2]=L,0}catch(y){if(typeof z>"u"||y.name!=="ErrnoError")throw y;return-y.Df}},j:function(t,e,r,o,i,c,h){c=zt(c,h);try{var w=et(i);if(r&2){if((w.node.mode&61440)!==32768)throw new q(43);o&2||w.Bf.$f&&w.Bf.$f(w,I.slice(t,t+e),c,e,o)}}catch(S){if(typeof z>"u"||S.name!=="ErrnoError")throw S;return-S.Df}},v:(t,e,r,o)=>{var i=new Date().getFullYear(),c=new Date(i,0,1),h=new Date(i,6,1);i=c.getTimezoneOffset();var w=h.getTimezoneOffset();H[t>>2]=60*Math.max(i,w),R[e>>2]=+(i!=w),t=S=>S.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1],c=t(c),h=t(h),w<i?(dt(c,I,r,17),dt(h,I,o,17)):(dt(c,I,o,17),dt(h,I,r,17))},e:()=>Date.now(),d:()=>performance.now(),r:t=>{var e=I.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var o=e*(1+.2/r);o=Math.min(o,t+100663296);var i=Math;o=Math.max(t,o);t:{i=(i.min.call(i,2147483648,o+(65536-o%65536)%65536)-u.buffer.byteLength+65535)/65536;try{u.grow(i),Lt();var c=1;break t}catch{}c=void 0}if(c)return!0}return!1},D:(t,e)=>{var r=0;return Bn().forEach((o,i)=>{var c=e+r;for(i=H[t+4*i>>2]=c,c=0;c<o.length;++c)T[i++]=o.charCodeAt(c);T[i]=0,r+=o.length+1}),0},E:(t,e)=>{var r=Bn();H[t>>2]=r.length;var o=0;return r.forEach(i=>o+=i.length+1),H[e>>2]=o,0},f:function(t){try{var e=et(t);if(e.Lf===null)throw new q(8);e.dg&&(e.dg=null);try{e.Bf.close&&e.Bf.close(e)}catch(r){throw r}finally{Ht[e.Lf]=null}return e.Lf=null,0}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return r.Df}},s:function(t,e){try{var r=et(t);return T[e]=r.Hf?2:st(r.mode)?3:(r.mode&61440)===40960?7:4,V[e+2>>1]=0,W=[0,(D=0,1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[e+8>>2]=W[0],R[e+12>>2]=W[1],W=[0,(D=0,1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[e+16>>2]=W[0],R[e+20>>2]=W[1],0}catch(o){if(typeof z>"u"||o.name!=="ErrnoError")throw o;return o.Df}},A:function(t,e,r,o){try{t:{var i=et(t);t=e;for(var c,h=e=0;h<r;h++){var w=H[t>>2],S=H[t+4>>2];t+=8;var m=i,L=c,y=T;if(0>S||0>L)throw new q(28);if(m.Lf===null)throw new q(8);if((m.flags&2097155)===1)throw new q(8);if(st(m.node.mode))throw new q(31);if(!m.Bf.read)throw new q(28);var b=typeof L<"u";if(!b)L=m.position;else if(!m.seekable)throw new q(70);var k=m.Bf.read(m,y,w,S,L);b||(m.position+=k);var K=k;if(0>K){var Y=-1;break t}if(e+=K,K<S)break;typeof c<"u"&&(c+=K)}Y=e}return H[o>>2]=Y,0}catch(X){if(typeof z>"u"||X.name!=="ErrnoError")throw X;return X.Df}},l:function(t,e,r,o,i){e=zt(e,r);try{if(isNaN(e))return 61;var c=et(t);return Vn(c,e,o),W=[c.position>>>0,(D=c.position,1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[i>>2]=W[0],R[i+4>>2]=W[1],c.dg&&e===0&&o===0&&(c.dg=null),0}catch(h){if(typeof z>"u"||h.name!=="ErrnoError")throw h;return h.Df}},G:function(t){try{var e=et(t);return Or(r=>{var o=e.node.Jf;o.type.Dg?o.type.Dg(o,!1,i=>{r(i?29:0)}):r(0)})}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return r.Df}},w:function(t,e,r,o){try{t:{var i=et(t);t=e;for(var c,h=e=0;h<r;h++){var w=H[t>>2],S=H[t+4>>2];t+=8;var m=i,L=w,y=S,b=c,k=T;if(0>y||0>b)throw new q(28);if(m.Lf===null)throw new q(8);if(!(m.flags&2097155))throw new q(8);if(st(m.node.mode))throw new q(31);if(!m.Bf.write)throw new q(28);m.seekable&&m.flags&1024&&Vn(m,0,2);var K=typeof b<"u";if(!K)b=m.position;else if(!m.seekable)throw new q(70);var Y=m.Bf.write(m,k,L,y,b,void 0);K||(m.position+=Y);var X=Y;if(0>X){var at=-1;break t}e+=X,typeof c<"u"&&(c+=X)}at=e}return H[o>>2]=at,0}catch(it){if(typeof z>"u"||it.name!=="ErrnoError")throw it;return it.Df}},ta:(t,e)=>(be(I.subarray(t,t+e)),0),ia:Mn,I:Kn,_:Hn,ca:$n,P:zn,la:Wn,m:Gn,sa:Xn,oa:jn,ja:Yn,ea:Jn,fa:Zn,g:tr,h:er,pa:nr,ra:rr,qa:or,da:sr,ga:ir,ha:_r,na:ar,c:cr,ka:lr,ma:ur,x:function(t,e,r,o){(0,globalThis.__onTablesChanged)?.(t,e,r,o)},aa:fr,V:dr,$:Er,ba:hr,S:pr,U:Sr,Y:mr,X:Tr,R:Ir,q:gr,T:wr,Z:Lr,o:yr,W:xr,p:qr},a=function(){function t(r){return a=r.exports,a=Go(),u=a.ua,Lt(),Rt=a.qf,xt.unshift(a.va),qt--,n.monitorRunDependencies?.(qt),qt==0&&(qe!==null&&(clearInterval(qe),qe=null),Kt&&(r=Kt,Kt=null,r())),a}var e={a:Zo};if(qt++,n.monitorRunDependencies?.(qt),n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(r){Q(`Module.instantiateWasm callback failed with error: ${r}`),E(r)}return Co(e,function(r){t(r.instance)}).catch(E),{}}();n._sqlite3_auto_extension=t=>(n._sqlite3_auto_extension=a.wa)(t),n._sqlite3_free=t=>(n._sqlite3_free=a.xa)(t),n._sqlite3_malloc=t=>(n._sqlite3_malloc=a.ya)(t),n._sqlite3_bind_blob=(t,e,r,o,i)=>(n._sqlite3_bind_blob=a.za)(t,e,r,o,i),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=a.Aa)(),n._sqlite3_bind_int=(t,e,r)=>(n._sqlite3_bind_int=a.Ba)(t,e,r),n._sqlite3_bind_int64=(t,e,r,o)=>(n._sqlite3_bind_int64=a.Ca)(t,e,r,o),n._sqlite3_bind_double=(t,e,r)=>(n._sqlite3_bind_double=a.Da)(t,e,r),n._sqlite3_bind_null=(t,e)=>(n._sqlite3_bind_null=a.Ea)(t,e),n._sqlite3_clear_bindings=t=>(n._sqlite3_clear_bindings=a.Fa)(t),n._sqlite3_bind_text=(t,e,r,o,i)=>(n._sqlite3_bind_text=a.Ga)(t,e,r,o,i),n._sqlite3_bind_pointer=(t,e,r,o,i)=>(n._sqlite3_bind_pointer=a.Ha)(t,e,r,o,i),n._sqlite3_bind_value=(t,e,r)=>(n._sqlite3_bind_value=a.Ia)(t,e,r),n._sqlite3_close=t=>(n._sqlite3_close=a.Ja)(t),n._sqlite3_vtab_config=(t,e,r)=>(n._sqlite3_vtab_config=a.Ka)(t,e,r),n._sqlite3_commit_hook=(t,e,r)=>(n._sqlite3_commit_hook=a.La)(t,e,r),n._sqlite3_column_type=(t,e)=>(n._sqlite3_column_type=a.Ma)(t,e),n._sqlite3_column_count=t=>(n._sqlite3_column_count=a.Na)(t),n._sqlite3_column_text=(t,e)=>(n._sqlite3_column_text=a.Oa)(t,e),n._sqlite3_column_blob=(t,e)=>(n._sqlite3_column_blob=a.Pa)(t,e),n._sqlite3_column_bytes=(t,e)=>(n._sqlite3_column_bytes=a.Qa)(t,e),n._sqlite3_column_value=(t,e)=>(n._sqlite3_column_value=a.Ra)(t,e),n._sqlite3_column_double=(t,e)=>(n._sqlite3_column_double=a.Sa)(t,e),n._sqlite3_column_int=(t,e)=>(n._sqlite3_column_int=a.Ta)(t,e),n._sqlite3_column_int64=(t,e)=>(n._sqlite3_column_int64=a.Ua)(t,e),n._sqlite3_column_name=(t,e)=>(n._sqlite3_column_name=a.Va)(t,e),n._sqlite3_context_db_handle=t=>(n._sqlite3_context_db_handle=a.Wa)(t),n._sqlite3_create_function_v2=(t,e,r,o,i,c,h,w,S)=>(n._sqlite3_create_function_v2=a.Xa)(t,e,r,o,i,c,h,w,S),n._sqlite3_create_module_v2=(t,e,r,o,i)=>(n._sqlite3_create_module_v2=a.Ya)(t,e,r,o,i),n._sqlite3_declare_vtab=(t,e)=>(n._sqlite3_declare_vtab=a.Za)(t,e),n._sqlite3_errcode=t=>(n._sqlite3_errcode=a._a)(t),n._sqlite3_errmsg=t=>(n._sqlite3_errmsg=a.$a)(t),n._sqlite3_exec=(t,e,r,o,i)=>(n._sqlite3_exec=a.ab)(t,e,r,o,i),n._sqlite3_finalize=t=>(n._sqlite3_finalize=a.bb)(t),n._sqlite3_get_auxdata=(t,e)=>(n._sqlite3_get_auxdata=a.cb)(t,e),n._sqlite3_next_stmt=(t,e)=>(n._sqlite3_next_stmt=a.db)(t,e),n._sqlite3_open=(t,e)=>(n._sqlite3_open=a.eb)(t,e),n._sqlite3_prepare_v2=(t,e,r,o,i)=>(n._sqlite3_prepare_v2=a.fb)(t,e,r,o,i),n._sqlite3_prepare_v3=(t,e,r,o,i,c)=>(n._sqlite3_prepare_v3=a.gb)(t,e,r,o,i,c),n._sqlite3_randomness=(t,e)=>(n._sqlite3_randomness=a.hb)(t,e),n._sqlite3_result_int=(t,e)=>(n._sqlite3_result_int=a.ib)(t,e),n._sqlite3_result_blob=(t,e,r,o)=>(n._sqlite3_result_blob=a.jb)(t,e,r,o),n._sqlite3_result_int64=(t,e,r)=>(n._sqlite3_result_int64=a.kb)(t,e,r),n._sqlite3_result_double=(t,e)=>(n._sqlite3_result_double=a.lb)(t,e),n._sqlite3_result_null=t=>(n._sqlite3_result_null=a.mb)(t),n._sqlite3_result_pointer=(t,e,r,o)=>(n._sqlite3_result_pointer=a.nb)(t,e,r,o),n._sqlite3_result_error=(t,e,r)=>(n._sqlite3_result_error=a.ob)(t,e,r),n._sqlite3_result_error_code=(t,e)=>(n._sqlite3_result_error_code=a.pb)(t,e),n._sqlite3_result_value=(t,e)=>(n._sqlite3_result_value=a.qb)(t,e),n._sqlite3_result_text=(t,e,r,o)=>(n._sqlite3_result_text=a.rb)(t,e,r,o),n._sqlite3_result_subtype=(t,e)=>(n._sqlite3_result_subtype=a.sb)(t,e),n._sqlite3_set_authorizer=(t,e,r)=>(n._sqlite3_set_authorizer=a.tb)(t,e,r),n._sqlite3_set_auxdata=(t,e,r,o)=>(n._sqlite3_set_auxdata=a.ub)(t,e,r,o),n._sqlite3_sql=t=>(n._sqlite3_sql=a.vb)(t),n._sqlite3_reset=t=>(n._sqlite3_reset=a.wb)(t),n._sqlite3_value_text=t=>(n._sqlite3_value_text=a.xb)(t),n._sqlite3_value_type=t=>(n._sqlite3_value_type=a.yb)(t),n._sqlite3_value_bytes=t=>(n._sqlite3_value_bytes=a.zb)(t),n._sqlite3_value_blob=t=>(n._sqlite3_value_blob=a.Ab)(t),n._sqlite3_value_int=t=>(n._sqlite3_value_int=a.Bb)(t),n._sqlite3_value_int64=t=>(n._sqlite3_value_int64=a.Cb)(t),n._sqlite3_value_double=t=>(n._sqlite3_value_double=a.Db)(t),n._sqlite3_value_pointer=(t,e)=>(n._sqlite3_value_pointer=a.Eb)(t,e),n._sqlite3_vtab_distinct=t=>(n._sqlite3_vtab_distinct=a.Fb)(t),n._sqlite3_get_autocommit=t=>(n._sqlite3_get_autocommit=a.Gb)(t),n._sqlite3_step=t=>(n._sqlite3_step=a.Hb)(t),n._sqlite3_status64=(t,e,r,o)=>(n._sqlite3_status64=a.Ib)(t,e,r,o),n._sqlite3_status=(t,e,r,o)=>(n._sqlite3_status=a.Jb)(t,e,r,o),n._sqlite3_db_status=(t,e,r,o,i)=>(n._sqlite3_db_status=a.Kb)(t,e,r,o,i),n._sqlite3_msize=t=>(n._sqlite3_msize=a.Lb)(t),n._sqlite3_vfs_find=t=>(n._sqlite3_vfs_find=a.Mb)(t),n._sqlite3_vfs_register=(t,e)=>(n._sqlite3_vfs_register=a.Nb)(t,e),n._sqlite3_vfs_unregister=t=>(n._sqlite3_vfs_unregister=a.Ob)(t),n._sqlite3_release_memory=t=>(n._sqlite3_release_memory=a.Pb)(t),n._sqlite3_soft_heap_limit64=(t,e)=>(n._sqlite3_soft_heap_limit64=a.Qb)(t,e),n._sqlite3_memory_used=()=>(n._sqlite3_memory_used=a.Rb)(),n._sqlite3_hard_heap_limit64=(t,e)=>(n._sqlite3_hard_heap_limit64=a.Sb)(t,e),n._sqlite3_memory_highwater=t=>(n._sqlite3_memory_highwater=a.Tb)(t),n._sqlite3_malloc64=(t,e)=>(n._sqlite3_malloc64=a.Ub)(t,e),n._sqlite3_realloc=(t,e)=>(n._sqlite3_realloc=a.Vb)(t,e),n._sqlite3_realloc64=(t,e,r)=>(n._sqlite3_realloc64=a.Wb)(t,e,r),n._sqlite3_str_vappendf=(t,e,r)=>(n._sqlite3_str_vappendf=a.Xb)(t,e,r),n._sqlite3_str_append=(t,e,r)=>(n._sqlite3_str_append=a.Yb)(t,e,r),n._sqlite3_str_appendchar=(t,e,r)=>(n._sqlite3_str_appendchar=a.Zb)(t,e,r),n._sqlite3_str_appendall=(t,e)=>(n._sqlite3_str_appendall=a._b)(t,e),n._sqlite3_str_appendf=(t,e,r)=>(n._sqlite3_str_appendf=a.$b)(t,e,r),n._sqlite3_str_finish=t=>(n._sqlite3_str_finish=a.ac)(t),n._sqlite3_str_errcode=t=>(n._sqlite3_str_errcode=a.bc)(t),n._sqlite3_str_length=t=>(n._sqlite3_str_length=a.cc)(t),n._sqlite3_str_value=t=>(n._sqlite3_str_value=a.dc)(t),n._sqlite3_str_reset=t=>(n._sqlite3_str_reset=a.ec)(t),n._sqlite3_str_new=t=>(n._sqlite3_str_new=a.fc)(t),n._sqlite3_vmprintf=(t,e)=>(n._sqlite3_vmprintf=a.gc)(t,e),n._sqlite3_mprintf=(t,e)=>(n._sqlite3_mprintf=a.hc)(t,e),n._sqlite3_vsnprintf=(t,e,r,o)=>(n._sqlite3_vsnprintf=a.ic)(t,e,r,o),n._sqlite3_snprintf=(t,e,r,o)=>(n._sqlite3_snprintf=a.jc)(t,e,r,o),n._sqlite3_log=(t,e,r)=>(n._sqlite3_log=a.kc)(t,e,r),n._sqlite3_stricmp=(t,e)=>(n._sqlite3_stricmp=a.lc)(t,e),n._sqlite3_strnicmp=(t,e,r)=>(n._sqlite3_strnicmp=a.mc)(t,e,r),n._sqlite3_os_init=()=>(n._sqlite3_os_init=a.nc)(),n._sqlite3_os_end=()=>(n._sqlite3_os_end=a.oc)(),n._sqlite3_serialize=(t,e,r,o)=>(n._sqlite3_serialize=a.pc)(t,e,r,o),n._sqlite3_deserialize=(t,e,r,o,i,c,h,w)=>(n._sqlite3_deserialize=a.qc)(t,e,r,o,i,c,h,w),n._sqlite3_database_file_object=t=>(n._sqlite3_database_file_object=a.rc)(t),n._sqlite3_backup_init=(t,e,r,o)=>(n._sqlite3_backup_init=a.sc)(t,e,r,o),n._sqlite3_backup_step=(t,e)=>(n._sqlite3_backup_step=a.tc)(t,e),n._sqlite3_backup_finish=t=>(n._sqlite3_backup_finish=a.uc)(t),n._sqlite3_backup_remaining=t=>(n._sqlite3_backup_remaining=a.vc)(t),n._sqlite3_backup_pagecount=t=>(n._sqlite3_backup_pagecount=a.wc)(t),n._sqlite3_value_bytes16=t=>(n._sqlite3_value_bytes16=a.xc)(t),n._sqlite3_value_subtype=t=>(n._sqlite3_value_subtype=a.yc)(t),n._sqlite3_value_text16=t=>(n._sqlite3_value_text16=a.zc)(t),n._sqlite3_value_text16be=t=>(n._sqlite3_value_text16be=a.Ac)(t),n._sqlite3_value_text16le=t=>(n._sqlite3_value_text16le=a.Bc)(t),n._sqlite3_value_encoding=t=>(n._sqlite3_value_encoding=a.Cc)(t),n._sqlite3_value_nochange=t=>(n._sqlite3_value_nochange=a.Dc)(t),n._sqlite3_value_frombind=t=>(n._sqlite3_value_frombind=a.Ec)(t),n._sqlite3_value_dup=t=>(n._sqlite3_value_dup=a.Fc)(t),n._sqlite3_value_free=t=>(n._sqlite3_value_free=a.Gc)(t),n._sqlite3_result_blob64=(t,e,r,o,i)=>(n._sqlite3_result_blob64=a.Hc)(t,e,r,o,i),n._sqlite3_result_error16=(t,e,r)=>(n._sqlite3_result_error16=a.Ic)(t,e,r),n._sqlite3_result_text64=(t,e,r,o,i,c)=>(n._sqlite3_result_text64=a.Jc)(t,e,r,o,i,c),n._sqlite3_result_text16=(t,e,r,o)=>(n._sqlite3_result_text16=a.Kc)(t,e,r,o),n._sqlite3_result_text16be=(t,e,r,o)=>(n._sqlite3_result_text16be=a.Lc)(t,e,r,o),n._sqlite3_result_text16le=(t,e,r,o)=>(n._sqlite3_result_text16le=a.Mc)(t,e,r,o),n._sqlite3_result_error_toobig=t=>(n._sqlite3_result_error_toobig=a.Nc)(t),n._sqlite3_result_zeroblob=(t,e)=>(n._sqlite3_result_zeroblob=a.Oc)(t,e),n._sqlite3_result_zeroblob64=(t,e,r)=>(n._sqlite3_result_zeroblob64=a.Pc)(t,e,r),n._sqlite3_result_error_nomem=t=>(n._sqlite3_result_error_nomem=a.Qc)(t),n._sqlite3_user_data=t=>(n._sqlite3_user_data=a.Rc)(t),n._sqlite3_vtab_nochange=t=>(n._sqlite3_vtab_nochange=a.Sc)(t),n._sqlite3_vtab_in_first=(t,e)=>(n._sqlite3_vtab_in_first=a.Tc)(t,e),n._sqlite3_vtab_in_next=(t,e)=>(n._sqlite3_vtab_in_next=a.Uc)(t,e),n._sqlite3_aggregate_context=(t,e)=>(n._sqlite3_aggregate_context=a.Vc)(t,e),n._sqlite3_data_count=t=>(n._sqlite3_data_count=a.Wc)(t),n._sqlite3_column_bytes16=(t,e)=>(n._sqlite3_column_bytes16=a.Xc)(t,e),n._sqlite3_column_text16=(t,e)=>(n._sqlite3_column_text16=a.Yc)(t,e),n._sqlite3_column_name16=(t,e)=>(n._sqlite3_column_name16=a.Zc)(t,e),n._sqlite3_bind_blob64=(t,e,r,o,i,c)=>(n._sqlite3_bind_blob64=a._c)(t,e,r,o,i,c),n._sqlite3_bind_text64=(t,e,r,o,i,c,h)=>(n._sqlite3_bind_text64=a.$c)(t,e,r,o,i,c,h),n._sqlite3_bind_text16=(t,e,r,o,i)=>(n._sqlite3_bind_text16=a.ad)(t,e,r,o,i),n._sqlite3_bind_zeroblob=(t,e,r)=>(n._sqlite3_bind_zeroblob=a.bd)(t,e,r),n._sqlite3_bind_zeroblob64=(t,e,r,o)=>(n._sqlite3_bind_zeroblob64=a.cd)(t,e,r,o),n._sqlite3_bind_parameter_count=t=>(n._sqlite3_bind_parameter_count=a.dd)(t),n._sqlite3_bind_parameter_name=(t,e)=>(n._sqlite3_bind_parameter_name=a.ed)(t,e),n._sqlite3_bind_parameter_index=(t,e)=>(n._sqlite3_bind_parameter_index=a.fd)(t,e),n._sqlite3_db_handle=t=>(n._sqlite3_db_handle=a.gd)(t),n._sqlite3_stmt_readonly=t=>(n._sqlite3_stmt_readonly=a.hd)(t),n._sqlite3_stmt_isexplain=t=>(n._sqlite3_stmt_isexplain=a.id)(t),n._sqlite3_stmt_explain=(t,e)=>(n._sqlite3_stmt_explain=a.jd)(t,e),n._sqlite3_stmt_busy=t=>(n._sqlite3_stmt_busy=a.kd)(t),n._sqlite3_stmt_status=(t,e,r)=>(n._sqlite3_stmt_status=a.ld)(t,e,r),n._sqlite3_expanded_sql=t=>(n._sqlite3_expanded_sql=a.md)(t),n._sqlite3_value_numeric_type=t=>(n._sqlite3_value_numeric_type=a.nd)(t),n._sqlite3_blob_open=(t,e,r,o,i,c,h,w)=>(n._sqlite3_blob_open=a.od)(t,e,r,o,i,c,h,w),n._sqlite3_blob_close=t=>(n._sqlite3_blob_close=a.pd)(t),n._sqlite3_blob_read=(t,e,r,o)=>(n._sqlite3_blob_read=a.qd)(t,e,r,o),n._sqlite3_blob_write=(t,e,r,o)=>(n._sqlite3_blob_write=a.rd)(t,e,r,o),n._sqlite3_blob_bytes=t=>(n._sqlite3_blob_bytes=a.sd)(t),n._sqlite3_blob_reopen=(t,e,r)=>(n._sqlite3_blob_reopen=a.td)(t,e,r),n._sqlite3_strglob=(t,e)=>(n._sqlite3_strglob=a.ud)(t,e),n._sqlite3_strlike=(t,e,r)=>(n._sqlite3_strlike=a.vd)(t,e,r),n._sqlite3_cancel_auto_extension=t=>(n._sqlite3_cancel_auto_extension=a.wd)(t),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=a.xd)(),n._sqlite3_prepare=(t,e,r,o,i)=>(n._sqlite3_prepare=a.yd)(t,e,r,o,i),n._sqlite3_prepare16=(t,e,r,o,i)=>(n._sqlite3_prepare16=a.zd)(t,e,r,o,i),n._sqlite3_prepare16_v2=(t,e,r,o,i)=>(n._sqlite3_prepare16_v2=a.Ad)(t,e,r,o,i),n._sqlite3_prepare16_v3=(t,e,r,o,i,c)=>(n._sqlite3_prepare16_v3=a.Bd)(t,e,r,o,i,c),n._sqlite3_get_table=(t,e,r,o,i,c)=>(n._sqlite3_get_table=a.Cd)(t,e,r,o,i,c),n._sqlite3_free_table=t=>(n._sqlite3_free_table=a.Dd)(t),n._sqlite3_create_module=(t,e,r,o)=>(n._sqlite3_create_module=a.Ed)(t,e,r,o),n._sqlite3_drop_modules=(t,e)=>(n._sqlite3_drop_modules=a.Fd)(t,e),n._sqlite3_vtab_on_conflict=t=>(n._sqlite3_vtab_on_conflict=a.Gd)(t),n._sqlite3_vtab_collation=(t,e)=>(n._sqlite3_vtab_collation=a.Hd)(t,e),n._sqlite3_vtab_in=(t,e,r)=>(n._sqlite3_vtab_in=a.Id)(t,e,r),n._sqlite3_vtab_rhs_value=(t,e,r)=>(n._sqlite3_vtab_rhs_value=a.Jd)(t,e,r),n._sqlite3_keyword_name=(t,e,r)=>(n._sqlite3_keyword_name=a.Kd)(t,e,r),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=a.Ld)(),n._sqlite3_keyword_check=(t,e)=>(n._sqlite3_keyword_check=a.Md)(t,e),n._sqlite3_complete=t=>(n._sqlite3_complete=a.Nd)(t),n._sqlite3_complete16=t=>(n._sqlite3_complete16=a.Od)(t),n._sqlite3_libversion=()=>(n._sqlite3_libversion=a.Pd)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=a.Qd)(),n._sqlite3_threadsafe=()=>(n._sqlite3_threadsafe=a.Rd)(),n._sqlite3_initialize=()=>(n._sqlite3_initialize=a.Sd)(),n._sqlite3_config=(t,e)=>(n._sqlite3_config=a.Td)(t,e),n._sqlite3_db_mutex=t=>(n._sqlite3_db_mutex=a.Ud)(t),n._sqlite3_db_release_memory=t=>(n._sqlite3_db_release_memory=a.Vd)(t),n._sqlite3_db_cacheflush=t=>(n._sqlite3_db_cacheflush=a.Wd)(t),n._sqlite3_db_config=(t,e,r)=>(n._sqlite3_db_config=a.Xd)(t,e,r),n._sqlite3_last_insert_rowid=t=>(n._sqlite3_last_insert_rowid=a.Yd)(t),n._sqlite3_set_last_insert_rowid=(t,e,r)=>(n._sqlite3_set_last_insert_rowid=a.Zd)(t,e,r),n._sqlite3_changes64=t=>(n._sqlite3_changes64=a._d)(t),n._sqlite3_changes=t=>(n._sqlite3_changes=a.$d)(t),n._sqlite3_total_changes64=t=>(n._sqlite3_total_changes64=a.ae)(t),n._sqlite3_total_changes=t=>(n._sqlite3_total_changes=a.be)(t),n._sqlite3_txn_state=(t,e)=>(n._sqlite3_txn_state=a.ce)(t,e),n._sqlite3_close_v2=t=>(n._sqlite3_close_v2=a.de)(t),n._sqlite3_busy_handler=(t,e,r)=>(n._sqlite3_busy_handler=a.ee)(t,e,r),n._sqlite3_progress_handler=(t,e,r,o)=>(n._sqlite3_progress_handler=a.fe)(t,e,r,o),n._sqlite3_busy_timeout=(t,e)=>(n._sqlite3_busy_timeout=a.ge)(t,e),n._sqlite3_interrupt=t=>(n._sqlite3_interrupt=a.he)(t),n._sqlite3_is_interrupted=t=>(n._sqlite3_is_interrupted=a.ie)(t),n._sqlite3_create_function=(t,e,r,o,i,c,h,w)=>(n._sqlite3_create_function=a.je)(t,e,r,o,i,c,h,w),n._sqlite3_create_window_function=(t,e,r,o,i,c,h,w,S,m)=>(n._sqlite3_create_window_function=a.ke)(t,e,r,o,i,c,h,w,S,m),n._sqlite3_create_function16=(t,e,r,o,i,c,h,w)=>(n._sqlite3_create_function16=a.le)(t,e,r,o,i,c,h,w),n._sqlite3_overload_function=(t,e,r)=>(n._sqlite3_overload_function=a.me)(t,e,r),n._sqlite3_trace_v2=(t,e,r,o)=>(n._sqlite3_trace_v2=a.ne)(t,e,r,o),n._sqlite3_update_hook=(t,e,r)=>(n._sqlite3_update_hook=a.oe)(t,e,r),n._sqlite3_rollback_hook=(t,e,r)=>(n._sqlite3_rollback_hook=a.pe)(t,e,r),n._sqlite3_autovacuum_pages=(t,e,r,o)=>(n._sqlite3_autovacuum_pages=a.qe)(t,e,r,o),n._sqlite3_wal_autocheckpoint=(t,e)=>(n._sqlite3_wal_autocheckpoint=a.re)(t,e),n._sqlite3_wal_hook=(t,e,r)=>(n._sqlite3_wal_hook=a.se)(t,e,r),n._sqlite3_wal_checkpoint_v2=(t,e,r,o,i)=>(n._sqlite3_wal_checkpoint_v2=a.te)(t,e,r,o,i),n._sqlite3_wal_checkpoint=(t,e)=>(n._sqlite3_wal_checkpoint=a.ue)(t,e),n._sqlite3_error_offset=t=>(n._sqlite3_error_offset=a.ve)(t),n._sqlite3_errmsg16=t=>(n._sqlite3_errmsg16=a.we)(t),n._sqlite3_extended_errcode=t=>(n._sqlite3_extended_errcode=a.xe)(t),n._sqlite3_system_errno=t=>(n._sqlite3_system_errno=a.ye)(t),n._sqlite3_errstr=t=>(n._sqlite3_errstr=a.ze)(t),n._sqlite3_limit=(t,e,r)=>(n._sqlite3_limit=a.Ae)(t,e,r),n._sqlite3_open_v2=(t,e,r,o)=>(n._sqlite3_open_v2=a.Be)(t,e,r,o),n._sqlite3_open16=(t,e)=>(n._sqlite3_open16=a.Ce)(t,e),n._sqlite3_create_collation=(t,e,r,o,i)=>(n._sqlite3_create_collation=a.De)(t,e,r,o,i),n._sqlite3_create_collation_v2=(t,e,r,o,i,c)=>(n._sqlite3_create_collation_v2=a.Ee)(t,e,r,o,i,c),n._sqlite3_create_collation16=(t,e,r,o,i)=>(n._sqlite3_create_collation16=a.Fe)(t,e,r,o,i),n._sqlite3_collation_needed=(t,e,r)=>(n._sqlite3_collation_needed=a.Ge)(t,e,r),n._sqlite3_collation_needed16=(t,e,r)=>(n._sqlite3_collation_needed16=a.He)(t,e,r),n._sqlite3_get_clientdata=(t,e)=>(n._sqlite3_get_clientdata=a.Ie)(t,e),n._sqlite3_set_clientdata=(t,e,r,o)=>(n._sqlite3_set_clientdata=a.Je)(t,e,r,o),n._sqlite3_table_column_metadata=(t,e,r,o,i,c,h,w,S)=>(n._sqlite3_table_column_metadata=a.Ke)(t,e,r,o,i,c,h,w,S),n._sqlite3_sleep=t=>(n._sqlite3_sleep=a.Le)(t),n._sqlite3_extended_result_codes=(t,e)=>(n._sqlite3_extended_result_codes=a.Me)(t,e),n._sqlite3_file_control=(t,e,r,o)=>(n._sqlite3_file_control=a.Ne)(t,e,r,o),n._sqlite3_test_control=(t,e)=>(n._sqlite3_test_control=a.Oe)(t,e),n._sqlite3_create_filename=(t,e,r,o,i)=>(n._sqlite3_create_filename=a.Pe)(t,e,r,o,i),n._sqlite3_free_filename=t=>(n._sqlite3_free_filename=a.Qe)(t),n._sqlite3_uri_parameter=(t,e)=>(n._sqlite3_uri_parameter=a.Re)(t,e),n._sqlite3_uri_key=(t,e)=>(n._sqlite3_uri_key=a.Se)(t,e),n._sqlite3_uri_boolean=(t,e,r)=>(n._sqlite3_uri_boolean=a.Te)(t,e,r),n._sqlite3_uri_int64=(t,e,r,o)=>(n._sqlite3_uri_int64=a.Ue)(t,e,r,o),n._sqlite3_filename_database=t=>(n._sqlite3_filename_database=a.Ve)(t),n._sqlite3_filename_journal=t=>(n._sqlite3_filename_journal=a.We)(t),n._sqlite3_filename_wal=t=>(n._sqlite3_filename_wal=a.Xe)(t),n._sqlite3_db_name=(t,e)=>(n._sqlite3_db_name=a.Ye)(t,e),n._sqlite3_db_filename=(t,e)=>(n._sqlite3_db_filename=a.Ze)(t,e),n._sqlite3_db_readonly=(t,e)=>(n._sqlite3_db_readonly=a._e)(t,e),n._sqlite3_compileoption_used=t=>(n._sqlite3_compileoption_used=a.$e)(t),n._sqlite3_compileoption_get=t=>(n._sqlite3_compileoption_get=a.af)(t),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=a.bf)();var Dr=n._malloc=t=>(Dr=n._malloc=a.cf)(t),Fr=n._free=t=>(Fr=n._free=a.df)(t);n._RegisterExtensionFunctions=t=>(n._RegisterExtensionFunctions=a.ef)(t),n._set_authorizer=t=>(n._set_authorizer=a.ff)(t),n._create_function=(t,e,r,o,i,c)=>(n._create_function=a.gf)(t,e,r,o,i,c),n._on_tables_changed=(t,e,r,o,i,c)=>(n._on_tables_changed=a.hf)(t,e,r,o,i,c),n._register_table_update_hook=t=>(n._register_table_update_hook=a.jf)(t),n._create_module=(t,e,r,o)=>(n._create_module=a.kf)(t,e,r,o),n._progress_handler=(t,e)=>(n._progress_handler=a.lf)(t,e),n._register_vfs=(t,e,r,o)=>(n._register_vfs=a.mf)(t,e,r,o),n._getSqliteFree=()=>(n._getSqliteFree=a.nf)();var Pr=n._main=(t,e)=>(Pr=n._main=a.of)(t,e);n._setup_powersync=()=>(n._setup_powersync=a.pf)();var Vr=(t,e)=>(Vr=a.rf)(t,e),Ur=()=>(Ur=a.sf)(),kr=t=>(kr=a.tf)(t),Me=t=>(Me=a.uf)(t),Br=()=>(Br=a.vf)(),Mr=t=>(Mr=a.wf)(t),Kr=()=>(Kr=a.xf)(),Hr=t=>(Hr=a.yf)(t),$r=()=>($r=a.zf)();n._sqlite3_version=44971,n.getTempRet0=()=>Ur(),n.ccall=pt,n.cwrap=(t,e,r,o)=>{var i=!r||r.every(c=>c==="number"||c==="boolean");return e!=="string"&&i&&!o?n["_"+t]:(...c)=>pt(t,e,r,c,o)},n.addFunction=(t,e)=>{if(!Pt){Pt=new WeakMap;var r=Rt.length;if(Pt)for(var o=0;o<0+r;o++){var i=Rt.get(o);i&&Pt.set(i,o)}}if(r=Pt.get(t)||0)return r;if(Cr.length)r=Cr.pop();else{try{Rt.grow(1)}catch(w){throw w instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":w}r=Rt.length-1}try{Rt.set(r,t)}catch(w){if(!(w instanceof TypeError))throw w;if(typeof WebAssembly.Function=="function"){o=WebAssembly.Function,i={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var c={parameters:[],results:e[0]=="v"?[]:[i[e[0]]]},h=1;h<e.length;++h)c.parameters.push(i[e[h]]);e=new o(c,t)}else{for(o=[1],i=e.slice(0,1),e=e.slice(1),c={i:127,p:127,j:126,f:125,d:124,e:111},o.push(96),h=e.length,128>h?o.push(h):o.push(h%128|128,h>>7),h=0;h<e.length;++h)o.push(c[e[h]]);i=="v"?o.push(0):o.push(1,c[i]),e=[0,97,115,109,1,0,0,0,1],i=o.length,128>i?e.push(i):e.push(i%128|128,i>>7),e.push(...o),e.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),e=new WebAssembly.Module(new Uint8Array(e)),e=new WebAssembly.Instance(e,{e:{f:t}}).exports.f}Rt.set(r,e)}return Pt.set(t,r),r},n.setValue=ft,n.getValue=j,n.UTF8ToString=(t,e)=>t?B(I,t,e):"",n.stringToUTF8=(t,e,r)=>dt(t,I,e,r),n.lengthBytesUTF8=Dt,n.intArrayFromString=In,n.intArrayToString=function(t){for(var e=[],r=0;r<t.length;r++){var o=t[r];255<o&&(o&=255),e.push(String.fromCharCode(o))}return e.join("")},n.AsciiToString=t=>{for(var e="";;){var r=I[t++];if(!r)return e;e+=String.fromCharCode(r)}},n.UTF16ToString=(t,e)=>{for(var r=t>>1,o=r+e/2;!(r>=o)&&J[r];)++r;if(r<<=1,32<r-t&&Qr)return Qr.decode(I.subarray(t,r));for(r="",o=0;!(o>=e/2);++o){var i=V[t+2*o>>1];if(i==0)break;r+=String.fromCharCode(i)}return r},n.stringToUTF16=(t,e,r)=>{if(r??=2147483647,2>r)return 0;r-=2;var o=e;r=r<2*t.length?r/2:t.length;for(var i=0;i<r;++i)V[e>>1]=t.charCodeAt(i),e+=2;return V[e>>1]=0,e-o},n.UTF32ToString=(t,e)=>{for(var r=0,o="";!(r>=e/4);){var i=R[t+4*r>>2];if(i==0)break;++r,65536<=i?(i-=65536,o+=String.fromCharCode(55296|i>>10,56320|i&1023)):o+=String.fromCharCode(i)}return o},n.stringToUTF32=(t,e,r)=>{if(r??=2147483647,4>r)return 0;var o=e;r=o+r-4;for(var i=0;i<t.length;++i){var c=t.charCodeAt(i);if(55296<=c&&57343>=c){var h=t.charCodeAt(++i);c=65536+((c&1023)<<10)|h&1023}if(R[e>>2]=c,e+=4,e+4>r)break}return R[e>>2]=0,e-o},n.writeArrayToMemory=(t,e)=>{T.set(t,e)};var ce;Kt=function t(){ce||zr(),ce||(Kt=t)};function zr(){function t(){if(!ce&&(ce=!0,n.calledRun=!0,!l)){if(n.noFSInit||Un||(Un=!0,n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?$t("stdin",n.stdin):De("/dev/tty","/dev/stdin"),n.stdout?$t("stdout",null,n.stdout):De("/dev/tty","/dev/stdout"),n.stderr?$t("stderr",null,n.stderr):De("/dev/tty1","/dev/stderr"),ne("/dev/stdin",0),ne("/dev/stdout",1),ne("/dev/stderr",1)),xn=!1,Yt(xt),Yt(Ct),d(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),Wr){var e=Pr;try{var r=e(0,0);p=r,br(r)}catch(o){Ue(o)}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),jt.unshift(e);Yt(jt)}}if(!(0<qt)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)xe();Yt(yt),0<qt||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var Wr=!0;return n.noInitialRun&&(Wr=!1),zr(),g}})(),qs=xs});var Te,ui,rn=ot(()=>{Wt();Wt();Te=class{mxPathName=64;xClose(s){return 10}xRead(s,n,d){return 10}xWrite(s,n,d){return 10}xTruncate(s,n){return 10}xSync(s,n){return 0}xFileSize(s,n){return 10}xLock(s,n){return 0}xUnlock(s,n){return 0}xCheckReservedLock(s,n){return n.setInt32(0,0,!0),0}xFileControl(s,n,d){return 12}xSectorSize(s){return 512}xDeviceCharacteristics(s){return 0}xOpen(s,n,d,E){return 14}xDelete(s,n){return 10}xAccess(s,n,d){return 10}handleAsync(s){return s()}},ui=[256,2048,512,4096,1024,8192,16384].reduce((_,s)=>_|s)});var Ps,on,we,wo=ot(()=>{rn();Ps=7,on=class{get state(){return this.#t}#t=0;timeoutMillis=0;#r=new Map;#e=Promise.resolve(0);async lock(s){return this.#n(this.#i,s)}async unlock(s){return this.#n(this.#s,s)}async isSomewhereReserved(){throw new Error("unimplemented")}async#n(s,n){let d=n&Ps;try{let E=()=>s.call(this,d);return await(this.#e=this.#e.then(E,E)),this.#t=d,0}catch(E){return E.name==="AbortError"?5:(console.error(E),3850)}}async#i(s){if(s===this.#t)return 0;switch(this.#t){case 0:switch(s){case 1:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${this.#t} -> ${s}`)}case 1:switch(s){case 2:return this._SHAREDtoRESERVED();case 4:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${this.#t} -> ${s}`)}case 2:switch(s){case 4:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${this.#t} -> ${s}`)}default:throw new Error(`unexpected transition ${this.#t} -> ${s}`)}}async#s(s){if(s===this.#t)return 0;switch(this.#t){case 4:switch(s){case 1:return this._EXCLUSIVEtoSHARED();case 0:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${s}`)}case 2:switch(s){case 1:return this._RESERVEDtoSHARED();case 0:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${s}`)}case 1:switch(s){case 0:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${s}`)}default:throw new Error(`unexpected transition ${this.#t} -> ${s}`)}}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(s,n){return new Promise(async(d,E)=>{try{await navigator.locks.request(s,n,g=>{if(d(g),g)return new Promise(x=>this.#r.set(s,x))})}catch(g){E(g)}})}_releaseWebLock(s){this.#r.get(s)?.(),this.#r.delete(s)}async _pollWebLock(s){return(await navigator.locks.query()).held.find(({name:d})=>d===s)?.mode}_getTimeoutSignal(){if(this.timeoutMillis){let s=new AbortController;return setTimeout(()=>s.abort(),this.timeoutMillis),s.signal}}},we=class extends on{constructor(s){super(),this._lockName=s+"-outer",this._reservedName=s+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}});function lt(..._){}function wt(_){return new Promise((s,n)=>{_.addEventListener("success",()=>s(_.result)),_.addEventListener("error",()=>n(_.error))})}var Lo,sn,Le,_n,an,yo=ot(()=>{Lo=0,sn=new WeakMap;Le=class{#t;#r;#e;#n=null;#i=0;#s=Promise.resolve();#o=Promise.resolve();constructor(s,n={durability:"default"}){this.#r=Promise.resolve(s).then(d=>this.#t=d),this.#e=n}async close(){let s=this.#t??await this.#r;await this.#s,await this.sync(),s.close()}async run(s,n){let d=this.#s.then(()=>this.#a(s,n));return this.#s=d.catch(()=>{}),d}async#a(s,n){let d=this.#t??await this.#r;if(s==="readwrite"&&this.#n?.mode==="readonly")this.#n=null;else if(performance.now()-this.#i>5e3){try{this.#n?.commit()}catch(E){if(E.name!=="InvalidStateError")throw E}await new Promise(E=>setTimeout(E)),this.#n=null}for(let E=0;E<2;++E){if(!this.#n){this.#n=d.transaction(d.objectStoreNames,s,this.#e);let g=this.#i=performance.now();this.#o=this.#o.then(()=>new Promise((x,A)=>{this.#n.addEventListener("complete",C=>{x(),this.#n===C.target&&(this.#n=null),lt(`transaction ${sn.get(C.target)} complete`)}),this.#n.addEventListener("abort",C=>{console.warn("tx abort",(performance.now()-g)/1e3);let N=C.target.error;A(N),this.#n===C.target&&(this.#n=null),lt(`transaction ${sn.get(C.target)} aborted`,N)})})),lt(`new transaction ${Lo} ${s}`),sn.set(this.#n,Lo++)}try{let g=Object.fromEntries(Array.from(d.objectStoreNames,x=>[x,new _n(this.#n.objectStore(x))]));return await n(g)}catch(g){if(this.#n=null,E)throw g}}}async sync(){await this.#s,await this.#o,this.#o=Promise.resolve()}};_n=class{#t;constructor(s){this.#t=s}get(s){lt(`get ${this.#t.name}`,s);let n=this.#t.get(s);return wt(n)}getAll(s,n){lt(`getAll ${this.#t.name}`,s,n);let d=this.#t.getAll(s,n);return wt(d)}getKey(s){lt(`getKey ${this.#t.name}`,s);let n=this.#t.getKey(s);return wt(n)}getAllKeys(s,n){lt(`getAllKeys ${this.#t.name}`,s,n);let d=this.#t.getAllKeys(s,n);return wt(d)}put(s,n){lt(`put ${this.#t.name}`,s,n);let d=this.#t.put(s,n);return wt(d)}delete(s){lt(`delete ${this.#t.name}`,s);let n=this.#t.delete(s);return wt(n)}clear(){lt(`clear ${this.#t.name}`);let s=this.#t.clear();return wt(s)}index(s){return new an(this.#t.index(s))}},an=class{#t;constructor(s){this.#t=s}getAllKeys(s,n){lt(`IDBIndex.getAllKeys ${this.#t.objectStore.name}<${this.#t.name}>`,s,n);let d=this.#t.getAllKeys(s,n);return wt(d)}}});var bo={};Gr(bo,{IDBBatchAtomicVFS:()=>cn});function tt(..._){}function zs(_){return new Promise((s,n)=>{let d=globalThis.indexedDB.open(_,5);d.addEventListener("upgradeneeded",function(){d.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),d.addEventListener("success",()=>{s(d.result)}),d.addEventListener("error",()=>{n(d.error)})})}var $s,xo,qo,cn,vo=ot(()=>{rn();wo();yo();$s=512,xo=3e3,qo={durability:"default",purge:"deferred",purgeAtLeast:16};cn=class extends Te{#t;#r=new Map;#e;#n=new Set;#i=performance.now();#s=new Set;#o=null;constructor(s="wa-sqlite",n=qo){super(),this.name=s,this.#t=Object.assign({},qo,n),this.#e=new Le(zs(s),{durability:this.#t.durability})}async close(){for(let s of this.#r.keys())await this.xClose(s);await this.#e?.close(),this.#e=null}xOpen(s,n,d,E){let g=this.handleAsync(async()=>{s===null&&(s=`null_${n}`),tt(`xOpen ${s} 0x${n.toString(16)} 0x${d.toString(16)}`);try{let x=new URL(s,"http://localhost/"),A={path:x.pathname,flags:d,block0:null,isMetadataChanged:!0,locks:new we(x.pathname)};return this.#r.set(n,A),await this.#e.run("readwrite",async({blocks:C})=>{if(A.block0=await C.get(this.#_(A,0)),!A.block0)if(d&4)A.block0={path:A.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},C.put(A.block0);else throw new Error(`file not found: ${A.path}`)}),(E.buffer.detached||!E.buffer.byteLength)&&(E=new DataView(new ArrayBuffer(4)),this.#o=C=>{C.setInt32(0,E.getInt32(0,!0),!0)}),E.setInt32(0,d&1,!0),0}catch(x){return console.error(x),14}});return this.#o?.(E),this.#o=null,g}xClose(s){return this.handleAsync(async()=>{try{let n=this.#r.get(s);return n&&(tt(`xClose ${n.path}`),this.#r.delete(s),n.flags&8&&this.#e.run("readwrite",({blocks:d})=>{d.delete(IDBKeyRange.bound([n.path],[n.path,[]]))})),0}catch(n){return console.error(n),10}})}xRead(s,n,d){let E=n.byteLength,g=this.handleAsync(async()=>{let x=this.#r.get(s);tt(`xRead ${x.path} ${n.byteLength} ${d}`);try{return await this.#e.run("readonly",async({blocks:C})=>{(n.buffer.detached||!n.buffer.byteLength)&&(n=new Uint8Array(E),this.#o=O=>O.set(n));let N=0;for(;N<n.byteLength;){let O=d+N,v=O<x.block0.data.byteLength?x.block0:await C.get(this.#_(x,-O));if(!v||v.data.byteLength-v.offset<=O)return n.fill(0,N),522;let $=n.subarray(N),P=O+v.offset,Q=Math.min(Math.max(v.data.byteLength-P,0),$.byteLength);$.set(v.data.subarray(P,P+Q)),N+=Q}return 0})}catch(A){return console.error(A),10}});return this.#o?.(n),this.#o=null,g}xWrite(s,n,d){let E=this.#s.has(s);if(E||performance.now()-this.#i>xo){let g=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&this.#s.add(s),await new Promise(A=>setTimeout(A));let x=this.#a(s,n.slice(),d);return this.#i=performance.now(),x});return E&&this.#s.delete(s),g}return this.#a(s,n,d)}#a(s,n,d){let E=this.#r.get(s);tt(`xWrite ${E.path} ${n.byteLength} ${d}`);try{let g=E.block0.fileSize;E.block0.fileSize<d+n.byteLength&&(E.block0.fileSize=d+n.byteLength,E.isMetadataChanged=!0);let x=d===0?E.block0:{path:E.path,offset:-d,version:E.block0.version,data:null};return x.data=n.slice(),E.changedPages?(g===E.block0.fileSize&&E.changedPages.add(-d),d!==0&&this.#e.run("readwrite",({blocks:A})=>A.put(x))):this.#e.run("readwrite",({blocks:A})=>A.put(x)),E.isMetadataChanged=d===0?!1:E.isMetadataChanged,0}catch(g){return console.error(g),10}}xTruncate(s,n){let d=this.#r.get(s);tt(`xTruncate ${d.path} ${n}`);try{Object.assign(d.block0,{fileSize:n,data:d.block0.data.slice(0,n)});let E=Object.assign({},d.block0);return this.#e.run("readwrite",({blocks:g})=>{g.delete(this.#_(d,-1/0,-n)),g.put(E)}),0}catch(E){return console.error(E),10}}xSync(s,n){let d=this.#s.has(s);if(d||this.#t.durability!=="relaxed"||performance.now()-this.#i>xo){let g=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&this.#s.add(s);let x=await this.#c(s,n);return this.#i=performance.now(),x});return d&&this.#s.delete(s),g}let E=this.#r.get(s);return tt(`xSync ${E.path} ${n}`),0}async#c(s,n){let d=this.#r.get(s);tt(`xSync ${d.path} ${n}`);try{d.isMetadataChanged&&(this.#e.run("readwrite",async({blocks:E})=>{await E.put(d.block0)}),d.isMetadataChanged=!1),await this.#e.sync()}catch(E){return console.error(E),10}return 0}xFileSize(s,n){let d=this.#r.get(s);return tt(`xFileSize ${d.path}`),n.setBigInt64(0,BigInt(d.block0.fileSize),!0),0}xLock(s,n){return this.handleAsync(async()=>{let d=this.#r.get(s);tt(`xLock ${d.path} ${n}`);try{let E=await d.locks.lock(n);return E===0&&d.locks.state===1&&(d.block0=await this.#e.run("readonly",({blocks:g})=>g.get(this.#_(d,0)))),E}catch(E){return console.error(E),10}})}xUnlock(s,n){return this.handleAsync(async()=>{let d=this.#r.get(s);tt(`xUnlock ${d.path} ${n}`);try{return d.locks.unlock(n)}catch(E){return console.error(E),10}})}xCheckReservedLock(s,n){let d=this.handleAsync(async()=>{let E=this.#r.get(s);tt(`xCheckReservedLock ${E.path}`);let g=await E.locks.isSomewhereReserved();function x(A){}return(n.buffer.detached||!n.buffer.byteLength)&&(n=new DataView(new ArrayBuffer(4)),this.#o=A=>{A.setInt32(0,n.getInt32(0,!0),!0)}),n.setInt32(0,g?1:0,!0),0});return this.#o?.(n),this.#o=null,d}xSectorSize(s){return tt("xSectorSize"),$s}xDeviceCharacteristics(s){return tt("xDeviceCharacteristics"),19968}xFileControl(s,n,d){let E=this.#r.get(s);switch(tt(`xFileControl ${E.path} ${n}`),n){case 11:return E.overwrite=!0,0;case 21:if(E.overwrite)try{return this.handleAsync(async()=>(await this.#u(E),0))}catch(g){return console.error(g),10}if(E.isMetadataChanged)try{this.#e.run("readwrite",async({blocks:g})=>{await g.put(E.block0)}),E.isMetadataChanged=!1}catch(g){return console.error(g),10}return 0;case 22:return E.overwrite=!1,0;case 31:return this.handleAsync(async()=>{try{return E.block0.version--,E.changedPages=new Set,this.#e.run("readwrite",async({blocks:g})=>{let x=await g.index("version").getAllKeys(IDBKeyRange.bound([E.path],[E.path,E.block0.version]));for(let A of x)g.delete(A)}),0}catch(g){return console.error(g),10}});case 32:try{let g=Object.assign({},E.block0);g.data=g.data.slice();let x=E.changedPages;return E.changedPages=null,E.isMetadataChanged=!1,this.#e.run("readwrite",async({blocks:A})=>{A.put(g);let C=await A.get([E.path,"purge",0])??{path:E.path,offset:"purge",version:0,data:new Map,count:0};C.count+=x.size;for(let N of x)C.data.set(N,g.version);A.put(C),this.#l(E.path,C.count)}),0}catch(g){return console.error(g),10}case 33:return this.handleAsync(async()=>{try{return E.changedPages=null,E.isMetadataChanged=!1,E.block0=await this.#e.run("readonly",({blocks:g})=>g.get([E.path,0,E.block0.version+1])),0}catch(g){return console.error(g),10}});default:return 12}}xAccess(s,n,d){let E=this.handleAsync(async()=>{try{let g=new URL(s,"file://localhost/").pathname;tt(`xAccess ${g} ${n}`);let x=await this.#e.run("readonly",({blocks:A})=>A.getKey(this.#_({path:g},0)));return(d.buffer.detached||!d.buffer.byteLength)&&(d=new DataView(new ArrayBuffer(4)),this.#o=A=>{A.setInt32(0,d.getInt32(0,!0),!0)}),d.setInt32(0,x?1:0,!0),0}catch(g){return console.error(g),10}});return this.#o?.(d),this.#o=null,E}xDelete(s,n){return this.handleAsync(async()=>{let d=new URL(s,"file://localhost/").pathname;tt(`xDelete ${d} ${n}`);try{return this.#e.run("readwrite",({blocks:E})=>E.delete(IDBKeyRange.bound([d],[d,[]]))),n&&await this.#e.sync(),0}catch(E){return console.error(E),10}})}async purge(s){let n=Date.now();await this.#e.run("readwrite",async({blocks:d})=>{let E=await d.get([s,"purge",0]);if(E){for(let[g,x]of E.data)d.delete(IDBKeyRange.bound([s,g,x],[s,g,1/0],!0,!1));await d.delete([s,"purge",0])}tt(`purge ${s} ${E?.data.size??0} pages in ${Date.now()-n} ms`)})}#l(s,n){this.#t.purge==="manual"||this.#n.has(s)||n<this.#t.purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(s),this.#n.delete(s)}):setTimeout(()=>{this.purge(s),this.#n.delete(s)}),this.#n.add(s))}#_(s,n,d=0){let E=!n||-n<s.block0.data.length?-1/0:s.block0.version;return IDBKeyRange.bound([s.path,n,E],[s.path,d,1/0])}async#u(s){let n=s.block0.data.length;if(n<18)return;let d=new DataView(s.block0.data.buffer,s.block0.data.byteOffset),E=d.getUint16(16);if(E===1&&(E=65536),E===n)return;let g=Math.max(n,E),x=g/n,A=g/E,N=d.getUint32(28)*E,O=s.block0.version;await this.#e.run("readwrite",async({blocks:v})=>{let $=await v.index("version").getAllKeys(IDBKeyRange.bound([s.path,O+1],[s.path,1/0]));for(let P of $)v.delete(P);v.delete([s.path,"purge",0]);for(let P=0;P<N;P+=g){let Q=await v.getAll(IDBKeyRange.lowerBound([s.path,-(P+g),1/0]),x);for(let f of Q)v.delete([f.path,f.offset,f.version]);if(A===1){let f=new Uint8Array(E);for(let l of Q)f.set(l.data,-(P+l.offset));let u={path:s.path,offset:-P,version:O,data:f};u.offset===0&&(u.fileSize=N,s.block0=u),v.put(u)}else{let f=Q[0];for(let u=0;u<A;++u){let l=-(P+u*E);if(-l>=N)break;let p={path:f.path,offset:l,version:O,data:f.data.subarray(u*E,(u+1)*E)};p.offset===0&&(p.fileSize=N,s.block0=p),v.put(p)}}}})}}});function Ao(_){return Mt(this,void 0,void 0,function*(){let{default:s}=yield Promise.resolve().then(()=>(Io(),To)),n=yield s(),d=oo(n),{IDBBatchAtomicVFS:E}=yield Promise.resolve().then(()=>(vo(),bo)),g=new E(_);d.vfs_register(g,!0);let x=yield d.open_v2(_),A=new Map;d.register_table_onchange_hook(x,(P,Q,f)=>{Array.from(A.values()).forEach(u=>u(P,Q,f))});let C=P=>{let Q=Gt();return A.set(Q,P),St(()=>{A.delete(Q)})},N=(P,Q)=>Mt(this,void 0,void 0,function*(){return O(()=>Mt(this,void 0,void 0,function*(){return v(P,Q)}))}),O=P=>navigator.locks.request(`db-execute-${_}`,P),v=(P,Q)=>Mt(this,void 0,void 0,function*(){var f,u,l,p;let T=[];try{for(var I=!0,V=Ws(d.statements(x,P)),J;J=yield V.next(),f=J.done,!f;I=!0){p=J.value,I=!1;let nt=p,_t,Lt=Q?[Q]:[[]];for(let yt of Lt){yt.forEach((Ct,jt,xe)=>{typeof Ct=="boolean"&&(xe[jt]=Ct?1:0)}),d.reset(nt),Q&&d.bind_collection(nt,yt);let xt=[];for(;(yield d.step(nt))===100;){let Ct=d.row(nt);xt.push(Ct)}_t=_t??d.column_names(nt),_t.length&&T.push({columns:_t,rows:xt})}if(Q)break}}catch(nt){u={error:nt}}finally{try{!I&&!f&&(l=V.return)&&(yield l.call(V))}finally{if(u)throw u.error}}let R=[];for(let nt of T)for(let _t of nt.rows){let Lt={};nt.columns.forEach((yt,xt)=>{Lt[yt]=_t[xt]}),R.push(Lt)}return{insertId:d.last_insert_id(x),rowsAffected:d.changes(x),rows:{_array:R,length:R.length}}}),$=(P,Q)=>Mt(this,void 0,void 0,function*(){return O(()=>Mt(this,void 0,void 0,function*(){let f=0,u=d.str_new(x,P),l=d.str_value(u);try{yield v("BEGIN TRANSACTION");let T=yield d.prepare_v2(x,l);if(T===null)return{rowsAffected:0};let I=Q||[];for(let V of I){for(let R=0;R<V.length;R++){let H=V[R];typeof H=="boolean"&&(V[R]=H?1:0)}d.reset(T.stmt),Q&&d.bind_collection(T.stmt,V),(yield d.step(T.stmt))===101&&(f+=d.changes(x))}yield d.finalize(T.stmt),yield v("COMMIT")}catch{return yield v("ROLLBACK"),{rowsAffected:0}}finally{d.str_finish(u)}return{rowsAffected:f}}))});return{execute:St(N),executeBatch:St($),registerOnTableChange:St(C),close:St(()=>{d.close(x)})}})}var Mt,Ws,Ro=ot(()=>{ue();ue();Ye();tn();Mt=function(_,s,n,d){function E(g){return g instanceof n?g:new n(function(x){x(g)})}return new(n||(n=Promise))(function(g,x){function A(O){try{N(d.next(O))}catch(v){x(v)}}function C(O){try{N(d.throw(O))}catch(v){x(v)}}function N(O){O.done?g(O.value):E(O.value).then(A,C)}N((d=d.apply(_,s||[])).next())})},Ws=function(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=_[Symbol.asyncIterator],n;return s?s.call(_):(_=typeof __values=="function"?__values(_):_[Symbol.iterator](),n={},d("next"),d("throw"),d("return"),n[Symbol.asyncIterator]=function(){return this},n);function d(g){n[g]=_[g]&&function(x){return new Promise(function(A,C){x=_[g](x),E(A,C,x.done,x.value)})}}function E(g,x,A,C){Promise.resolve(C).then(function(N){g({value:N,done:A})},x)}}});var Oo=ss(un=>{ue();Ye();tn();Ro();var ln=un&&un.__awaiter||function(_,s,n,d){function E(g){return g instanceof n?g:new n(function(x){x(g)})}return new(n||(n=Promise))(function(g,x){function A(O){try{N(d.next(O))}catch(v){x(v)}}function C(O){try{N(d.throw(O))}catch(v){x(v)}}function N(O){O.done?g(O.value):E(O.value).then(A,C)}N((d=d.apply(_,s||[])).next())})},Gs=self,Xt=new Map,Xs="open-wasqlite-db",js=_=>ln(void 0,void 0,void 0,function*(){return navigator.locks.request(Xs,()=>ln(void 0,void 0,void 0,function*(){let s=Gt();if(!Xt.has(_)){let g=new Set,x=yield Ao(_);Xt.set(_,{clientIds:g,db:x})}let n=Xt.get(_);n.clientIds.add(s);let{db:d}=n,E=Object.assign(Object.assign({},d),{close:St(()=>{var g;let{clientIds:x}=n;if(x.delete(s),x.size==0)return console.debug(`Closing connection to ${_}.`),Xt.delete(_),(g=d.close)===null||g===void 0?void 0:g.call(d);console.debug(`Connection to ${_} not closed yet due to active clients.`)})});return St(E)}))});Gs.onconnect=function(_){let s=_.ports[0];console.debug("Exposing db on port",s),Se(js,s)};addEventListener("unload",()=>{Array.from(Xt.values()).forEach(_=>ln(void 0,void 0,void 0,function*(){var s;let n=yield _.db;(s=n.close)===null||s===void 0||s.call(n)}))})});var ye={};$e(ye,is(Oo()));
