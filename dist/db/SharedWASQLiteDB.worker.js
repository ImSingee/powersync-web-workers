var Ms=Object.create;var Be=Object.defineProperty;var Ks=Object.getOwnPropertyDescriptor;var Hs=Object.getOwnPropertyNames;var $s=Object.getPrototypeOf,zs=Object.prototype.hasOwnProperty;var pt=(a,o)=>()=>(a&&(o=a(a=0)),o);var Ws=(a,o)=>()=>(o||a((o={exports:{}}).exports,o),o.exports),Mr=(a,o)=>{for(var n in o)Be(a,n,{get:o[n],enumerable:!0})},Ue=(a,o,n,d)=>{if(o&&typeof o=="object"||typeof o=="function")for(let E of Hs(o))!zs.call(a,E)&&E!==n&&Be(a,E,{get:()=>o[E],enumerable:!(d=Ks(o,E))||d.enumerable});return a},Me=(a,o,n)=>(Ue(a,o,"default"),n&&Ue(n,o,"default")),Gs=(a,o,n)=>(n=a!=null?Ms($s(a)):{},Ue(o||!a||!a.__esModule?Be(n,"default",{value:a,enumerable:!0}):n,a));var zt=pt(()=>{});function Jr(a){let o={},n=a._getSqliteFree(),d=a._malloc(8),E=[d,d+4];function w(f){if(typeof f!="string")return 0;let u=a.lengthBytesUTF8(f),l=a._sqlite3_malloc(u+1);return a.stringToUTF8(f,l,u+1),l}function x(f,u){return BigInt(u)<<32n|BigInt(f)&0xffffffffn}let A=function(){let f=BigInt(Number.MAX_SAFE_INTEGER)>>32n,u=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(l,p){return p>f||p<u?x(l,p):p*4294967296+(l&2147483647)-(l&2147483648)}}(),C=new Set;function N(f){if(!C.has(f))throw new _t("not a database",21)}let O=new Map;function v(f){if(!O.has(f))throw new _t("not a statement",21)}o.bind_collection=function(f,u){v(f);let l=Array.isArray(u),p=o.bind_parameter_count(f);for(let m=1;m<=p;++m){let I=l?m-1:o.bind_parameter_name(f,m),V=u[I];V!==void 0&&o.bind(f,m,V)}return 0},o.bind=function(f,u,l){switch(v(f),typeof l){case"number":return l===(l|0)?o.bind_int(f,u,l):o.bind_double(f,u,l);case"string":return o.bind_text(f,u,l);default:return l instanceof Uint8Array||Array.isArray(l)?o.bind_blob(f,u,l):l===null?o.bind_null(f,u):typeof l=="bigint"?o.bind_int64(f,u,l):l===void 0?27:(console.warn("unknown binding converted to null",l),o.bind_null(f,u))}},o.bind_blob=function(){let f="sqlite3_bind_blob",u=a.cwrap(f,...F("nnnnn:n"));return function(l,p,m){v(l);let I=m.byteLength??m.length,V=a._sqlite3_malloc(I);a.HEAPU8.subarray(V).set(m);let J=u(l,p,V,I,n);return Q(f,J,O.get(l))}}(),o.bind_parameter_count=function(){let u=a.cwrap("sqlite3_bind_parameter_count",...F("n:n"));return function(l){return v(l),u(l)}}(),o.bind_double=function(){let f="sqlite3_bind_double",u=a.cwrap(f,...F("nnn:n"));return function(l,p,m){v(l);let I=u(l,p,m);return Q(f,I,O.get(l))}}(),o.bind_int=function(){let f="sqlite3_bind_int",u=a.cwrap(f,...F("nnn:n"));return function(l,p,m){if(v(l),m>2147483647||m<-2147483648)return 25;let I=u(l,p,m);return Q(f,I,O.get(l))}}(),o.bind_int64=function(){let f="sqlite3_bind_int64",u=a.cwrap(f,...F("nnnn:n"));return function(l,p,m){if(v(l),m>Xr||m<jr)return 25;let I=m&0xffffffffn,V=m>>32n,J=u(l,p,Number(I),Number(V));return Q(f,J,O.get(l))}}(),o.bind_null=function(){let f="sqlite3_bind_null",u=a.cwrap(f,...F("nn:n"));return function(l,p){v(l);let m=u(l,p);return Q(f,m,O.get(l))}}(),o.bind_parameter_name=function(){let u=a.cwrap("sqlite3_bind_parameter_name",...F("n:s"));return function(l,p){return v(l),u(l,p)}}(),o.bind_text=function(){let f="sqlite3_bind_text",u=a.cwrap(f,...F("nnnnn:n"));return function(l,p,m){v(l);let I=w(m),V=u(l,p,I,-1,n);return Q(f,V,O.get(l))}}(),o.changes=function(){let u=a.cwrap("sqlite3_changes",...F("n:n"));return function(l){return N(l),u(l)}}(),o.last_insert_id=function(){let u=a.cwrap("sqlite3_last_insert_rowid",...F("n:n"));return function(l){return N(l),u(l)}}(),o.close=function(){let f="sqlite3_close",u=a.cwrap(f,...F("n:n"),{async:Vt});return async function(l){N(l);let p=await u(l);return C.delete(l),Q(f,p,l)}}(),o.column=function(f,u){v(f);let l=o.column_type(f,u);switch(l){case 4:return o.column_blob(f,u);case 2:return o.column_double(f,u);case 1:let p=o.column_int(f,u),m=a.getTempRet0();return A(p,m);case 5:return null;case 3:return o.column_text(f,u);default:throw new _t("unknown type",l)}},o.column_blob=function(){let u=a.cwrap("sqlite3_column_blob",...F("nn:n"));return function(l,p){v(l);let m=o.column_bytes(l,p),I=u(l,p);return a.HEAPU8.subarray(I,I+m)}}(),o.column_bytes=function(){let u=a.cwrap("sqlite3_column_bytes",...F("nn:n"));return function(l,p){return v(l),u(l,p)}}(),o.column_count=function(){let u=a.cwrap("sqlite3_column_count",...F("n:n"));return function(l){return v(l),u(l)}}(),o.column_double=function(){let u=a.cwrap("sqlite3_column_double",...F("nn:n"));return function(l,p){return v(l),u(l,p)}}(),o.column_int=function(){let u=a.cwrap("sqlite3_column_int64",...F("nn:n"));return function(l,p){return v(l),u(l,p)}}(),o.column_int64=function(){let u=a.cwrap("sqlite3_column_int64",...F("nn:n"));return function(l,p){v(l);let m=u(l,p),I=a.getTempRet0();return x(m,I)}}(),o.column_name=function(){let u=a.cwrap("sqlite3_column_name",...F("nn:s"));return function(l,p){return v(l),u(l,p)}}(),o.column_names=function(f){let u=[],l=o.column_count(f);for(let p=0;p<l;++p)u.push(o.column_name(f,p));return u},o.column_text=function(){let u=a.cwrap("sqlite3_column_text",...F("nn:s"));return function(l,p){return v(l),u(l,p)}}(),o.column_type=function(){let u=a.cwrap("sqlite3_column_type",...F("nn:n"));return function(l,p){return v(l),u(l,p)}}(),o.create_function=function(f,u,l,p,m,I,V,J){if(N(f),I&&!V&&!J){let R=a.createFunction(f,u,l,p,m,I);return Q("sqlite3_create_function",R,f)}if(!I&&V&&J){let R=a.createAggregate(f,u,l,p,m,V,J);return Q("sqlite3_create_function",R,f)}throw new _t("invalid function combination",21)},o.create_module=function(f,u,l,p){N(f);let m=a.createModule(f,u,l,p);return Q("sqlite3_create_module",m,f)},o.data_count=function(){let u=a.cwrap("sqlite3_data_count",...F("n:n"));return function(l){return v(l),u(l)}}(),o.declare_vtab=function(){let u=a.cwrap("sqlite3_declare_vtab",...F("ns:n"));return function(l,p){let m=u(l,p);return Q("sqlite3_declare_vtab",m)}}(),o.exec=async function(f,u,l){for await(let p of o.statements(f,u)){let m;for(;await o.step(p)===100;)if(l){m=m??o.column_names(p);let I=o.row(p);await l(I,m)}}return 0},o.finalize=function(){let u=a.cwrap("sqlite3_finalize",...F("n:n"),{async:Vt});return async function(l){if(!O.has(l))return 21;let p=await u(l),m=O.get(l);return O.delete(l),p}}(),o.get_autocommit=function(){let u=a.cwrap("sqlite3_get_autocommit",...F("n:n"));return function(l){return u(l)}}(),o.libversion=function(){let u=a.cwrap("sqlite3_libversion",...F(":s"));return function(){return u()}}(),o.libversion_number=function(){let u=a.cwrap("sqlite3_libversion_number",...F(":n"));return function(){return u()}}(),o.limit=function(){let u=a.cwrap("sqlite3_limit",...F("nnn:n"));return function(l,p,m){return u(l,p,m)}}(),o.open_v2=function(){let f="sqlite3_open_v2",u=a.cwrap(f,...F("snnn:n"),{async:Vt});return async function(l,p,m){p=p||6,m=w(m),a.ccall("setup_powersync","int",[]);let I=await u(l,E[0],p,m),V=a.getValue(E[0],"*");return C.add(V),a._sqlite3_free(m),a.ccall("RegisterExtensionFunctions","void",["number"],[V]),Q(f,I),V}}(),o.register_table_onchange_hook=function(f,u){a.ccall("register_table_update_hook","int",["number"],[f]),Yr[f]=function(l,p,m){let I=new DataView(a.HEAPU8.buffer),V=0;for(;I.getUint8(p+V)!==0;)V++;let J=new Uint8Array(a.HEAPU8.buffer,p,V),R=new TextDecoder().decode(J);return u(l,R,m)}},o.prepare_v2=function(){let f="sqlite3_prepare_v2",u=a.cwrap(f,...F("nnnnn:n"),{async:Vt});return async function(l,p){let m=await u(l,p,-1,E[0],E[1]);Q(f,m,l);let I=a.getValue(E[0],"*");return I?(O.set(I,l),{stmt:I,sql:a.getValue(E[1],"*")}):null}}(),o.progress_handler=function(f,u,l,p){N(f),a.progressHandler(f,u,l,p)},o.reset=function(){let f="sqlite3_reset",u=a.cwrap(f,...F("n:n"),{async:Vt});return async function(l){v(l);let p=await u(l);return Q(f,p,O.get(l))}}(),o.result=function(f,u){switch(typeof u){case"number":u===(u|0)?o.result_int(f,u):o.result_double(f,u);break;case"string":o.result_text(f,u);break;default:if(u instanceof Uint8Array||Array.isArray(u))o.result_blob(f,u);else if(u===null)o.result_null(f);else{if(typeof u=="bigint")return o.result_int64(f,u);console.warn("unknown result converted to null",u),o.result_null(f)}break}},o.result_blob=function(){let u=a.cwrap("sqlite3_result_blob",...F("nnnn:n"));return function(l,p){let m=p.byteLength??p.length,I=a._sqlite3_malloc(m);a.HEAPU8.subarray(I).set(p),u(l,I,m,n)}}(),o.result_double=function(){let u=a.cwrap("sqlite3_result_double",...F("nn:n"));return function(l,p){u(l,p)}}(),o.result_int=function(){let u=a.cwrap("sqlite3_result_int",...F("nn:n"));return function(l,p){u(l,p)}}(),o.result_int64=function(){let u=a.cwrap("sqlite3_result_int64",...F("nnn:n"));return function(l,p){if(p>Xr||p<jr)return 25;let m=p&0xffffffffn,I=p>>32n;u(l,Number(m),Number(I))}}(),o.result_null=function(){let u=a.cwrap("sqlite3_result_null",...F("n:n"));return function(l){u(l)}}(),o.result_text=function(){let u=a.cwrap("sqlite3_result_text",...F("nnnn:n"));return function(l,p){let m=w(p);u(l,m,-1,n)}}(),o.row=function(f){let u=[],l=o.data_count(f);for(let p=0;p<l;++p){let m=o.column(f,p);u.push(m?.buffer===a.HEAPU8.buffer?m.slice():m)}return u},o.set_authorizer=function(f,u,l){N(f);let p=a.setAuthorizer(f,u,l);return Q("sqlite3_set_authorizer",p,f)},o.sql=function(){let u=a.cwrap("sqlite3_sql",...F("n:s"));return function(l){return v(l),u(l)}}(),o.statements=function(f,u){return async function*(){let l=o.str_new(f,u),p={stmt:null,sql:o.str_value(l)};try{for(;p=await o.prepare_v2(f,p.sql);)yield p.stmt,o.finalize(p.stmt),p.stmt=null}finally{p?.stmt&&o.finalize(p.stmt),o.str_finish(l)}}()},o.step=function(){let f="sqlite3_step",u=a.cwrap(f,...F("n:n"),{async:Vt});return async function(l){v(l);let p=await u(l);return Q(f,p,O.get(l),[100,101])}}();let $=0,P=new Map;o.str_new=function(f,u=""){let l=a.lengthBytesUTF8(u),p=$++&4294967295,m={offset:a._sqlite3_malloc(l+1),bytes:l};return P.set(p,m),a.stringToUTF8(u,m.offset,m.bytes+1),p},o.str_appendall=function(f,u){if(!P.has(f))throw new _t("not a string",21);let l=P.get(f),p=a.lengthBytesUTF8(u),m=l.bytes+p,I=a._sqlite3_malloc(m+1);a.HEAPU8.subarray(I,I+m+1).set(a.HEAPU8.subarray(l.offset,l.offset+l.bytes)),a.stringToUTF8(u,I+l.bytes,p+1),a._sqlite3_free(l.offset),l.offset=I,l.bytes=m,P.set(f,l)},o.str_finish=function(f){if(!P.has(f))throw new _t("not a string",21);let u=P.get(f);P.delete(f),a._sqlite3_free(u.offset)},o.str_value=function(f){if(!P.has(f))throw new _t("not a string",21);return P.get(f).offset},o.user_data=function(f){return a.getFunctionUserData(f)},o.value=function(f){let u=o.value_type(f);switch(u){case 4:return o.value_blob(f);case 2:return o.value_double(f);case 1:let l=o.value_int(f),p=a.getTempRet0();return A(l,p);case 5:return null;case 3:return o.value_text(f);default:throw new _t("unknown type",u)}},o.value_blob=function(){let u=a.cwrap("sqlite3_value_blob",...F("n:n"));return function(l){let p=o.value_bytes(l),m=u(l);return a.HEAPU8.subarray(m,m+p)}}(),o.value_bytes=function(){let u=a.cwrap("sqlite3_value_bytes",...F("n:n"));return function(l){return u(l)}}(),o.value_double=function(){let u=a.cwrap("sqlite3_value_double",...F("n:n"));return function(l){return u(l)}}(),o.value_int=function(){let u=a.cwrap("sqlite3_value_int64",...F("n:n"));return function(l){return u(l)}}(),o.value_int64=function(){let u=a.cwrap("sqlite3_value_int64",...F("n:n"));return function(l){let p=u(l),m=a.getTempRet0();return x(p,m)}}(),o.value_text=function(){let u=a.cwrap("sqlite3_value_text",...F("n:s"));return function(l){return u(l)}}(),o.value_type=function(){let u=a.cwrap("sqlite3_value_type",...F("n:n"));return function(l){return u(l)}}(),o.vfs_register=function(f,u){let l=a.registerVFS(f,u);return Q("sqlite3_vfs_register",l)};function Q(f,u,l=null,p=[0]){if(p.includes(u))return u;let m=l?a.ccall("sqlite3_errmsg","string",["number"],[l]):f;throw new _t(m,u)}return o}function F(a){let o=[],n=a.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":o.push("number");break;case"s":o.push("string");break;case"v":o.push(null);break}let d=[];for(let E of n[1])switch(E){case"n":d.push("number");break;case"s":d.push("string");break}return o.push(d),o}var Xr,jr,_t,Vt,Yr,ce=pt(()=>{zt();zt();typeof BigInt.prototype.toJSON>"u"&&(BigInt.prototype.toJSON=function(){return this.toString()});Xr=0x7fffffffffffffffn,jr=-0x8000000000000000n,_t=class extends Error{constructor(o,n){super(o),this.code=n}},Vt=!0,Yr={};globalThis.__onTablesChanged=function(a,o,n,d){setTimeout(()=>Yr[a]?.(o,n,d),0)}});function no(a,o){for(let n of a)if(o===n||n==="*"||n instanceof RegExp&&n.test(o))return!0;return!1}function he(a,o=globalThis,n=["*"]){o.addEventListener("message",function d(E){if(!E||!E.data)return;if(!no(n,E.origin)){console.warn(`Invalid origin '${E.origin}' for comlink proxy`);return}let{id:w,type:x,path:A}=Object.assign({path:[]},E.data),C=(E.data.argumentList||[]).map(Ot),N;try{let O=A.slice(0,-1).reduce(($,P)=>$[P],a),v=A.reduce(($,P)=>$[P],a);switch(x){case"GET":N=v;break;case"SET":O[A.slice(-1)[0]]=Ot(E.data.value),N=!0;break;case"APPLY":N=v.apply(O,C);break;case"CONSTRUCT":{let $=new v(...C);N=ht($)}break;case"ENDPOINT":{let{port1:$,port2:P}=new MessageChannel;he(a,P),N=ao($,[$])}break;case"RELEASE":N=void 0;break;default:return}}catch(O){N={value:O,[ue]:0}}Promise.resolve(N).catch(O=>({value:O,[ue]:0})).then(O=>{let[v,$]=Ee(O);o.postMessage(Object.assign(Object.assign({},v),{id:w}),$),x==="RELEASE"&&(o.removeEventListener("message",d),rs(o),ze in a&&typeof a[ze]=="function"&&a[ze]())}).catch(O=>{let[v,$]=Ee({value:new TypeError("Unserializable return value"),[ue]:0});o.postMessage(Object.assign(Object.assign({},v),{id:w}),$)})}),o.start&&o.start()}function ro(a){return a.constructor.name==="MessagePort"}function rs(a){ro(a)&&a.close()}function so(a,o){return We(a,[],o)}function le(a){if(a)throw new Error("Proxy has been released and is not useable")}function ss(a){return kt(a,{type:"RELEASE"}).then(()=>{rs(a)})}function oo(a,o){let n=(fe.get(o)||0)+1;fe.set(o,n),de&&de.register(a,o,a)}function io(a){de&&de.unregister(a)}function We(a,o=[],n=function(){}){let d=!1,E=new Proxy(n,{get(w,x){if(le(d),x===Zs)return()=>{io(E),ss(a),d=!0};if(x==="then"){if(o.length===0)return{then:()=>E};let A=kt(a,{type:"GET",path:o.map(C=>C.toString())}).then(Ot);return A.then.bind(A)}return We(a,[...o,x])},set(w,x,A){le(d);let[C,N]=Ee(A);return kt(a,{type:"SET",path:[...o,x].map(O=>O.toString()),value:C},N).then(Ot)},apply(w,x,A){le(d);let C=o[o.length-1];if(C===Js)return kt(a,{type:"ENDPOINT"}).then(Ot);if(C==="bind")return We(a,o.slice(0,-1));let[N,O]=Zr(A);return kt(a,{type:"APPLY",path:o.map(v=>v.toString()),argumentList:N},O).then(Ot)},construct(w,x){le(d);let[A,C]=Zr(x);return kt(a,{type:"CONSTRUCT",path:o.map(N=>N.toString()),argumentList:A},C).then(Ot)}});return oo(E,a),E}function _o(a){return Array.prototype.concat.apply([],a)}function Zr(a){let o=a.map(Ee);return[o.map(n=>n[0]),_o(o.map(n=>n[1]))]}function ao(a,o){return os.set(a,o),a}function ht(a){return Object.assign(a,{[ts]:!0})}function Ee(a){for(let[o,n]of ns)if(n.canHandle(a)){let[d,E]=n.serialize(a);return[{type:"HANDLER",name:o,value:d},E]}return[{type:"RAW",value:a},os.get(a)||[]]}function Ot(a){switch(a.type){case"HANDLER":return ns.get(a.name).deserialize(a.value);case"RAW":return a.value}}function kt(a,o,n){return new Promise(d=>{let E=co();a.addEventListener("message",function w(x){!x.data||!x.data.id||x.data.id!==E||(a.removeEventListener("message",w),d(x.data))}),a.start&&a.start(),a.postMessage(Object.assign({id:E},o),n)})}function co(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var ts,Js,Zs,ze,ue,es,to,eo,ns,fe,de,os,Ge=pt(()=>{ts=Symbol("Comlink.proxy"),Js=Symbol("Comlink.endpoint"),Zs=Symbol("Comlink.releaseProxy"),ze=Symbol("Comlink.finalizer"),ue=Symbol("Comlink.thrown"),es=a=>typeof a=="object"&&a!==null||typeof a=="function",to={canHandle:a=>es(a)&&a[ts],serialize(a){let{port1:o,port2:n}=new MessageChannel;return he(a,o),[n,[n]]},deserialize(a){return a.start(),so(a)}},eo={canHandle:a=>es(a)&&ue in a,serialize({value:a}){let o;return a instanceof Error?o={isError:!0,value:{message:a.message,name:a.name,stack:a.stack}}:o={isError:!1,value:a},[o,[]]},deserialize(a){throw a.isError?Object.assign(new Error(a.value.message),a.value):a.value}},ns=new Map([["proxy",to],["throw",eo]]);fe=new WeakMap,de="FinalizationRegistry"in globalThis&&new FinalizationRegistry(a=>{let o=(fe.get(a)||0)-1;fe.set(a,o),o===0&&ss(a)});os=new WeakMap});var _s={};Mr(_s,{default:()=>uo});var lo,uo,as=pt(()=>{lo=(()=>{var a=import.meta.url;return function(o={}){var n=o,d,E,w=new Promise((t,e)=>{d=t,E=e}),x=Object.assign({},n),A="./this.program",C=(t,e)=>{throw e},N=typeof window=="object",O=typeof importScripts=="function",v="",$;(N||O)&&(O?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),a&&(v=a),v.startsWith("blob:")?v="":v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1),O&&($=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}));var P=n.print||console.log.bind(console),Q=n.printErr||console.error.bind(console);Object.assign(n,x),x=null,n.thisProgram&&(A=n.thisProgram),n.quit&&(C=n.quit);var f;n.wasmBinary&&(f=n.wasmBinary);var u,l=!1,p,m,I,V,J,R,H,et,ot;function gt(){var t=u.buffer;n.HEAP8=m=new Int8Array(t),n.HEAP16=V=new Int16Array(t),n.HEAPU8=I=new Uint8Array(t),n.HEAPU16=J=new Uint16Array(t),n.HEAP32=R=new Int32Array(t),n.HEAPU32=H=new Uint32Array(t),n.HEAPF32=et=new Float32Array(t),n.HEAPF64=ot=new Float64Array(t)}var Lt=[],yt=[],Nt=[],Gt=[];function ge(){var t=n.preRun.shift();Lt.unshift(t)}var xt=0,Le=null,Mt=null;function ct(t){throw n.onAbort?.(t),t="Aborted("+t+")",Q(t),l=!0,p=1,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),E(t),t}var on=t=>t.startsWith("data:application/octet-stream;base64,"),qt;if(n.locateFile){if(qt="wa-sqlite-async.wasm",!on(qt)){var _n=qt;qt=n.locateFile?n.locateFile(_n,v):v+_n}}else qt=new URL("wa-sqlite-async.wasm",import.meta.url).href;function an(t){if(t==qt&&f)return new Uint8Array(f);if($)return $(t);throw"both async and sync fetching of the wasm failed"}function Is(t){return f||!N&&!O||typeof fetch!="function"?Promise.resolve().then(()=>an(t)):fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw`failed to load wasm binary file at '${t}'`;return e.arrayBuffer()}).catch(()=>an(t))}function cn(t,e,r){return Is(t).then(s=>WebAssembly.instantiate(s,e)).then(r,s=>{Q(`failed to asynchronously prepare wasm: ${s}`),ct(s)})}function ws(t,e){var r=qt;return f||typeof WebAssembly.instantiateStreaming!="function"||on(r)||typeof fetch!="function"?cn(r,t,e):fetch(r,{credentials:"same-origin"}).then(s=>WebAssembly.instantiateStreaming(s,t).then(e,function(i){return Q(`wasm streaming compile failed: ${i}`),Q("falling back to ArrayBuffer instantiation"),cn(r,t,e)}))}var D,W;function ln(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var Xt=t=>{for(;0<t.length;)t.shift()(n)};function j(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return m[t];case"i8":return m[t];case"i16":return V[t>>1];case"i32":return R[t>>2];case"i64":ct("to do getValue(i64) use WASM_BIGINT");case"float":return et[t>>2];case"double":return ot[t>>3];case"*":return H[t>>2];default:ct(`invalid type for getValue: ${e}`)}}var un=n.noExitRuntime||!0;function lt(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":m[t]=e;break;case"i8":m[t]=e;break;case"i16":V[t>>1]=e;break;case"i32":R[t>>2]=e;break;case"i64":ct("to do setValue(i64) use WASM_BIGINT");case"float":et[t>>2]=e;break;case"double":ot[t>>3]=e;break;case"*":H[t>>2]=e;break;default:ct(`invalid type for setValue: ${r}`)}}var fn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,B=(t,e,r)=>{var s=e+r;for(r=e;t[r]&&!(r>=s);)++r;if(16<r-e&&t.buffer&&fn)return fn.decode(t.subarray(e,r));for(s="";e<r;){var i=t[e++];if(i&128){var c=t[e++]&63;if((i&224)==192)s+=String.fromCharCode((i&31)<<6|c);else{var h=t[e++]&63;i=(i&240)==224?(i&15)<<12|c<<6|h:(i&7)<<18|c<<12|h<<6|t[e++]&63,65536>i?s+=String.fromCharCode(i):(i-=65536,s+=String.fromCharCode(55296|i>>10,56320|i&1023))}}else s+=String.fromCharCode(i)}return s},dn=(t,e)=>{for(var r=0,s=t.length-1;0<=s;s--){var i=t[s];i==="."?t.splice(s,1):i===".."?(t.splice(s,1),r++):r&&(t.splice(s,1),r--)}if(e)for(;r;r--)t.unshift("..");return t},Ct=t=>{var e=t.charAt(0)==="/",r=t.substr(-1)==="/";return(t=dn(t.split("/").filter(s=>!!s),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},gs=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return t=e[0],e=e[1],!t&&!e?".":(e&&=e.substr(0,e.length-1),t+e)},jt=t=>{if(t==="/")return"/";t=Ct(t),t=t.replace(/\/$/,"");var e=t.lastIndexOf("/");return e===-1?t:t.substr(e+1)},Ls=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);ct("initRandomDevice")},ye=t=>(ye=Ls())(t),Yt=(...t)=>{for(var e="",r=!1,s=t.length-1;-1<=s&&!r;s--){if(r=0<=s?t[s]:"/",typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,r=r.charAt(0)==="/"}return e=dn(e.split("/").filter(i=>!!i),!r).join("/"),(r?"/":"")+e||"."},xe=[],Qt=t=>{for(var e=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);127>=s?e++:2047>=s?e+=2:55296<=s&&57343>=s?(e+=4,++r):e+=3}return e},ut=(t,e,r,s)=>{if(!(0<s))return 0;var i=r;s=r+s-1;for(var c=0;c<t.length;++c){var h=t.charCodeAt(c);if(55296<=h&&57343>=h){var g=t.charCodeAt(++c);h=65536+((h&1023)<<10)|g&1023}if(127>=h){if(r>=s)break;e[r++]=h}else{if(2047>=h){if(r+1>=s)break;e[r++]=192|h>>6}else{if(65535>=h){if(r+2>=s)break;e[r++]=224|h>>12}else{if(r+3>=s)break;e[r++]=240|h>>18,e[r++]=128|h>>12&63}e[r++]=128|h>>6&63}e[r++]=128|h&63}}return e[r]=0,r-i};function En(t,e,r){return r=Array(0<r?r:Qt(t)+1),t=ut(t,r,0,r.length),e&&(r.length=t),r}var hn=[];function pn(t,e){hn[t]={input:[],Gf:[],Rf:e},Re(t,ys)}var ys={open(t){var e=hn[t.node.Uf];if(!e)throw new q(43);t.Hf=e,t.seekable=!1},close(t){t.Hf.Rf.Xf(t.Hf)},Xf(t){t.Hf.Rf.Xf(t.Hf)},read(t,e,r,s){if(!t.Hf||!t.Hf.Rf.lg)throw new q(60);for(var i=0,c=0;c<s;c++){try{var h=t.Hf.Rf.lg(t.Hf)}catch{throw new q(29)}if(h===void 0&&i===0)throw new q(6);if(h==null)break;i++,e[r+c]=h}return i&&(t.node.timestamp=Date.now()),i},write(t,e,r,s){if(!t.Hf||!t.Hf.Rf.fg)throw new q(60);try{for(var i=0;i<s;i++)t.Hf.Rf.fg(t.Hf,e[r+i])}catch{throw new q(29)}return s&&(t.node.timestamp=Date.now()),i}},xs={lg(){t:{if(!xe.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t){t=null;break t}xe=En(t,!0)}t=xe.shift()}return t},fg(t,e){e===null||e===10?(P(B(t.Gf,0)),t.Gf=[]):e!=0&&t.Gf.push(e)},Xf(t){t.Gf&&0<t.Gf.length&&(P(B(t.Gf,0)),t.Gf=[])},Mg(){return{Hg:25856,Jg:5,Gg:191,Ig:35387,Fg:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ng(){return 0},Og(){return[24,80]}},qs={fg(t,e){e===null||e===10?(Q(B(t.Gf,0)),t.Gf=[]):e!=0&&t.Gf.push(e)},Xf(t){t.Gf&&0<t.Gf.length&&(Q(B(t.Gf,0)),t.Gf=[])}};function Sn(t,e){var r=t.Cf?t.Cf.length:0;r>=e||(e=Math.max(e,r*(1048576>r?2:1.125)>>>0),r!=0&&(e=Math.max(e,256)),r=t.Cf,t.Cf=new Uint8Array(e),0<t.Ef&&t.Cf.set(r.subarray(0,t.Ef),0))}var k={Kf:null,Jf(){return k.createNode(null,"/",16895,0)},createNode(t,e,r,s){if((r&61440)===24576||(r&61440)===4096)throw new q(63);return k.Kf||(k.Kf={dir:{node:{If:k.Af.If,Ff:k.Af.Ff,Sf:k.Af.Sf,Yf:k.Af.Yf,pg:k.Af.pg,cg:k.Af.cg,ag:k.Af.ag,og:k.Af.og,bg:k.Af.bg},stream:{Of:k.Bf.Of}},file:{node:{If:k.Af.If,Ff:k.Af.Ff},stream:{Of:k.Bf.Of,read:k.Bf.read,write:k.Bf.write,ig:k.Bf.ig,Zf:k.Bf.Zf,$f:k.Bf.$f}},link:{node:{If:k.Af.If,Ff:k.Af.Ff,Vf:k.Af.Vf},stream:{}},jg:{node:{If:k.Af.If,Ff:k.Af.Ff},stream:Ns}}),r=wn(t,e,r,s),rt(r.mode)?(r.Af=k.Kf.dir.node,r.Bf=k.Kf.dir.stream,r.Cf={}):(r.mode&61440)===32768?(r.Af=k.Kf.file.node,r.Bf=k.Kf.file.stream,r.Ef=0,r.Cf=null):(r.mode&61440)===40960?(r.Af=k.Kf.link.node,r.Bf=k.Kf.link.stream):(r.mode&61440)===8192&&(r.Af=k.Kf.jg.node,r.Bf=k.Kf.jg.stream),r.timestamp=Date.now(),t&&(t.Cf[e]=r,t.timestamp=r.timestamp),r},Lg(t){return t.Cf?t.Cf.subarray?t.Cf.subarray(0,t.Ef):new Uint8Array(t.Cf):new Uint8Array(0)},Af:{If(t){var e={};return e.vg=(t.mode&61440)===8192?t.id:1,e.mg=t.id,e.mode=t.mode,e.Bg=1,e.uid=0,e.yg=0,e.Uf=t.Uf,rt(t.mode)?e.size=4096:(t.mode&61440)===32768?e.size=t.Ef:(t.mode&61440)===40960?e.size=t.link.length:e.size=0,e.rg=new Date(t.timestamp),e.Ag=new Date(t.timestamp),e.ug=new Date(t.timestamp),e.sg=4096,e.tg=Math.ceil(e.size/e.sg),e},Ff(t,e){if(e.mode!==void 0&&(t.mode=e.mode),e.timestamp!==void 0&&(t.timestamp=e.timestamp),e.size!==void 0&&(e=e.size,t.Ef!=e))if(e==0)t.Cf=null,t.Ef=0;else{var r=t.Cf;t.Cf=new Uint8Array(e),r&&t.Cf.set(r.subarray(0,Math.min(e,t.Ef))),t.Ef=e}},Sf(){throw be[44]},Yf(t,e,r,s){return k.createNode(t,e,r,s)},pg(t,e,r){if(rt(t.mode)){try{var s=bt(e,r)}catch{}if(s)for(var i in s.Cf)throw new q(55)}delete t.parent.Cf[t.name],t.parent.timestamp=Date.now(),t.name=r,e.Cf[r]=t,e.timestamp=t.parent.timestamp,t.parent=e},cg(t,e){delete t.Cf[e],t.timestamp=Date.now()},ag(t,e){var r=bt(t,e),s;for(s in r.Cf)throw new q(55);delete t.Cf[e],t.timestamp=Date.now()},og(t){var e=[".",".."],r;for(r of Object.keys(t.Cf))e.push(r);return e},bg(t,e,r){return t=k.createNode(t,e,41471,0),t.link=r,t},Vf(t){if((t.mode&61440)!==40960)throw new q(28);return t.link}},Bf:{read(t,e,r,s,i){var c=t.node.Cf;if(i>=t.node.Ef)return 0;if(t=Math.min(t.node.Ef-i,s),8<t&&c.subarray)e.set(c.subarray(i,i+t),r);else for(s=0;s<t;s++)e[r+s]=c[i+s];return t},write(t,e,r,s,i,c){if(e.buffer===m.buffer&&(c=!1),!s)return 0;if(t=t.node,t.timestamp=Date.now(),e.subarray&&(!t.Cf||t.Cf.subarray)){if(c)return t.Cf=e.subarray(r,r+s),t.Ef=s;if(t.Ef===0&&i===0)return t.Cf=e.slice(r,r+s),t.Ef=s;if(i+s<=t.Ef)return t.Cf.set(e.subarray(r,r+s),i),s}if(Sn(t,i+s),t.Cf.subarray&&e.subarray)t.Cf.set(e.subarray(r,r+s),i);else for(c=0;c<s;c++)t.Cf[i+c]=e[r+c];return t.Ef=Math.max(t.Ef,i+s),s},Of(t,e,r){if(r===1?e+=t.position:r===2&&(t.node.mode&61440)===32768&&(e+=t.node.Ef),0>e)throw new q(28);return e},ig(t,e,r){Sn(t.node,e+r),t.node.Ef=Math.max(t.node.Ef,e+r)},Zf(t,e,r,s,i){if((t.node.mode&61440)!==32768)throw new q(43);if(t=t.node.Cf,i&2||t.buffer!==m.buffer){if((0<r||r+e<t.length)&&(t.subarray?t=t.subarray(r,r+e):t=Array.prototype.slice.call(t,r,r+e)),r=!0,e=65536*Math.ceil(e/65536),(i=Nr(65536,e))?(I.fill(0,i,i+e),e=i):e=0,!e)throw new q(48);m.set(t,e)}else r=!1,e=t.byteOffset;return{Cg:e,qg:r}},$f(t,e,r,s){return k.Bf.write(t,e,0,s,r,!1),0}}},bs=(t,e)=>{var r=0;return t&&(r|=365),e&&(r|=146),r},qe=null,Tn={},Kt=[],vs=1,St=null,mn=!0,q=class{constructor(t){this.name="ErrnoError",this.Df=t}},be={},As=class{constructor(){this.Wf={},this.node=null}get flags(){return this.Wf.flags}set flags(t){this.Wf.flags=t}get position(){return this.Wf.position}set position(t){this.Wf.position=t}},Rs=class{constructor(t,e,r,s){t||=this,this.parent=t,this.Jf=t.Jf,this.Pf=null,this.id=vs++,this.name=e,this.mode=r,this.Af={},this.Bf={},this.Uf=s}get read(){return(this.mode&365)===365}set read(t){t?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(t){t?this.mode|=146:this.mode&=-147}};function nt(t,e={}){if(t=Yt(t),!t)return{path:"",node:null};if(e=Object.assign({kg:!0,gg:0},e),8<e.gg)throw new q(32);t=t.split("/").filter(h=>!!h);for(var r=qe,s="/",i=0;i<t.length;i++){var c=i===t.length-1;if(c&&e.parent)break;if(r=bt(r,t[i]),s=Ct(s+"/"+t[i]),r.Pf&&(!c||c&&e.kg)&&(r=r.Pf.root),!c||e.Nf){for(c=0;(r.mode&61440)===40960;)if(r=vn(s),s=Yt(gs(s),r),r=nt(s,{gg:e.gg+1}).node,40<c++)throw new q(32)}}return{path:s,node:r}}function ve(t){for(var e;;){if(t===t.parent)return t=t.Jf.ng,e?t[t.length-1]!=="/"?`${t}/${e}`:t+e:t;e=e?`${t.name}/${e}`:t.name,t=t.parent}}function Ae(t,e){for(var r=0,s=0;s<e.length;s++)r=(r<<5)-r+e.charCodeAt(s)|0;return(t+r>>>0)%St.length}function In(t){var e=Ae(t.parent.id,t.name);if(St[e]===t)St[e]=t.Qf;else for(e=St[e];e;){if(e.Qf===t){e.Qf=t.Qf;break}e=e.Qf}}function bt(t,e){var r=rt(t.mode)?(r=Dt(t,"x"))?r:t.Af.Sf?0:2:54;if(r)throw new q(r);for(r=St[Ae(t.id,e)];r;r=r.Qf){var s=r.name;if(r.parent.id===t.id&&s===e)return r}return t.Af.Sf(t,e)}function wn(t,e,r,s){return t=new Rs(t,e,r,s),e=Ae(t.parent.id,t.name),t.Qf=St[e],St[e]=t}function rt(t){return(t&61440)===16384}function gn(t){var e=["r","w","rw"][t&3];return t&512&&(e+="w"),e}function Dt(t,e){if(mn)return 0;if(!e.includes("r")||t.mode&292){if(e.includes("w")&&!(t.mode&146)||e.includes("x")&&!(t.mode&73))return 2}else return 2;return 0}function Ln(t,e){try{return bt(t,e),20}catch{}return Dt(t,"wx")}function yn(t,e,r){try{var s=bt(t,e)}catch(i){return i.Df}if(t=Dt(t,"wx"))return t;if(r){if(!rt(s.mode))return 54;if(s===s.parent||ve(s)==="/")return 10}else if(rt(s.mode))return 31;return 0}function tt(t){if(t=Kt[t],!t)throw new q(8);return t}function xn(t,e=-1){if(t=Object.assign(new As,t),e==-1)t:{for(e=0;4096>=e;e++)if(!Kt[e])break t;throw new q(33)}return t.Lf=e,Kt[e]=t}function Os(t,e=-1){return t=xn(t,e),t.Bf?.Kg?.(t),t}var Ns={open(t){t.Bf=Tn[t.node.Uf].Bf,t.Bf.open?.(t)},Of(){throw new q(70)}};function Re(t,e){Tn[t]={Bf:e}}function qn(t,e){var r=e==="/";if(r&&qe)throw new q(10);if(!r&&e){var s=nt(e,{kg:!1});if(e=s.path,s=s.node,s.Pf)throw new q(10);if(!rt(s.mode))throw new q(54)}e={type:t,Pg:{},ng:e,zg:[]},t=t.Jf(e),t.Jf=e,e.root=t,r?qe=t:s&&(s.Pf=e,s.Jf&&s.Jf.zg.push(e))}function Oe(t,e,r){var s=nt(t,{parent:!0}).node;if(t=jt(t),!t||t==="."||t==="..")throw new q(28);var i=Ln(s,t);if(i)throw new q(i);if(!s.Af.Yf)throw new q(63);return s.Af.Yf(s,t,e,r)}function ft(t,e){return Oe(t,(e!==void 0?e:511)&1023|16384,0)}function Jt(t,e,r){typeof r>"u"&&(r=e,e=438),Oe(t,e|8192,r)}function Ne(t,e){if(!Yt(t))throw new q(44);var r=nt(e,{parent:!0}).node;if(!r)throw new q(44);e=jt(e);var s=Ln(r,e);if(s)throw new q(s);if(!r.Af.bg)throw new q(63);r.Af.bg(r,e,t)}function bn(t){var e=nt(t,{parent:!0}).node;t=jt(t);var r=bt(e,t),s=yn(e,t,!0);if(s)throw new q(s);if(!e.Af.ag)throw new q(63);if(r.Pf)throw new q(10);e.Af.ag(e,t),In(r)}function vn(t){if(t=nt(t).node,!t)throw new q(44);if(!t.Af.Vf)throw new q(28);return Yt(ve(t.parent),t.Af.Vf(t))}function Zt(t,e){if(t=nt(t,{Nf:!e}).node,!t)throw new q(44);if(!t.Af.If)throw new q(63);return t.Af.If(t)}function An(t){return Zt(t,!0)}function Rn(t,e){if(t=typeof t=="string"?nt(t,{Nf:!0}).node:t,!t.Af.Ff)throw new q(63);t.Af.Ff(t,{mode:e&4095|t.mode&-4096,timestamp:Date.now()})}function On(t,e){if(0>e)throw new q(28);if(t=typeof t=="string"?nt(t,{Nf:!0}).node:t,!t.Af.Ff)throw new q(63);if(rt(t.mode))throw new q(31);if((t.mode&61440)!==32768)throw new q(28);var r=Dt(t,"w");if(r)throw new q(r);t.Af.Ff(t,{size:e,timestamp:Date.now()})}function te(t,e,r){if(t==="")throw new q(44);if(typeof e=="string"){var s={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof s>"u")throw Error(`Unknown file open mode: ${e}`);e=s}if(r=e&64?(typeof r>"u"?438:r)&4095|32768:0,typeof t=="object")var i=t;else{t=Ct(t);try{i=nt(t,{Nf:!(e&131072)}).node}catch{}}if(s=!1,e&64)if(i){if(e&128)throw new q(20)}else i=Oe(t,r,0),s=!0;if(!i)throw new q(44);if((i.mode&61440)===8192&&(e&=-513),e&65536&&!rt(i.mode))throw new q(54);if(!s&&(r=i?(i.mode&61440)===40960?32:rt(i.mode)&&(gn(e)!=="r"||e&512)?31:Dt(i,gn(e)):44))throw new q(r);return e&512&&!s&&On(i,0),e&=-131713,i=xn({node:i,path:ve(i),flags:e,seekable:!0,position:0,Bf:i.Bf,Eg:[],error:!1}),i.Bf.open&&i.Bf.open(i),!n.logReadFiles||e&1||(Ce||={},t in Ce||(Ce[t]=1)),i}function Nn(t,e,r){if(t.Lf===null)throw new q(8);if(!t.seekable||!t.Bf.Of)throw new q(70);if(r!=0&&r!=1&&r!=2)throw new q(28);t.position=t.Bf.Of(t,e,r),t.Eg=[]}var Cn;function Ht(t,e,r){t=Ct("/dev/"+t);var s=bs(!!e,!!r);Qn||=64;var i=Qn++<<8|0;Re(i,{open(c){c.seekable=!1},close(){r?.buffer?.length&&r(10)},read(c,h,g,S){for(var T=0,L=0;L<S;L++){try{var y=e()}catch{throw new q(29)}if(y===void 0&&T===0)throw new q(6);if(y==null)break;T++,h[g+L]=y}return T&&(c.node.timestamp=Date.now()),T},write(c,h,g,S){for(var T=0;T<S;T++)try{r(h[g+T])}catch{throw new q(29)}return S&&(c.node.timestamp=Date.now()),T}}),Jt(t,s,i)}var Qn,z={},Ce;function vt(t,e,r){if(e.charAt(0)==="/")return e;if(t=t===-100?"/":tt(t).path,e.length==0){if(!r)throw new q(44);return t}return Ct(t+"/"+e)}function ee(t,e,r){t=t(e),R[r>>2]=t.vg,R[r+4>>2]=t.mode,H[r+8>>2]=t.Bg,R[r+12>>2]=t.uid,R[r+16>>2]=t.yg,R[r+20>>2]=t.Uf,W=[t.size>>>0,(D=t.size,1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[r+24>>2]=W[0],R[r+28>>2]=W[1],R[r+32>>2]=4096,R[r+36>>2]=t.tg,e=t.rg.getTime();var s=t.Ag.getTime(),i=t.ug.getTime();return W=[Math.floor(e/1e3)>>>0,(D=Math.floor(e/1e3),1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[r+40>>2]=W[0],R[r+44>>2]=W[1],H[r+48>>2]=e%1e3*1e3,W=[Math.floor(s/1e3)>>>0,(D=Math.floor(s/1e3),1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[r+56>>2]=W[0],R[r+60>>2]=W[1],H[r+64>>2]=s%1e3*1e3,W=[Math.floor(i/1e3)>>>0,(D=Math.floor(i/1e3),1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[r+72>>2]=W[0],R[r+76>>2]=W[1],H[r+80>>2]=i%1e3*1e3,W=[t.mg>>>0,(D=t.mg,1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[r+88>>2]=W[0],R[r+92>>2]=W[1],0}var ne=void 0;function re(){var t=R[+ne>>2];return ne+=4,t}var $t=(t,e)=>e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN,Cs=[0,31,60,91,121,152,182,213,244,274,305,335],Qs=[0,31,59,90,120,151,181,212,243,273,304,334],Qe={},Dn=()=>{if(!De){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"},e;for(e in Qe)Qe[e]===void 0?delete t[e]:t[e]=Qe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);De=r}return De},De;function Fn(){}function Pn(){}function Vn(){}function kn(){}function Un(){}function Bn(){}function Mn(){}function Kn(){}function Hn(){}function $n(){}function zn(){}function Wn(){}function Gn(){}function Xn(){}function jn(){}function Yn(){}function Jn(){}function Zn(){}function tr(){}function er(){}function nr(){}function rr(){}function sr(){}function or(){}function ir(){}function _r(){}function ar(){}function cr(){}function lr(){}function ur(){}function fr(){}function dr(){}function Er(){}function hr(){}function pr(){}function Sr(){}function Tr(){}function mr(){}function Ir(){}var se=0,wr=t=>{p=t,un||0<se||(n.onExit?.(t),l=!0),C(t,new ln(t))},Fe=t=>{t instanceof ln||t=="unwind"||C(1,t)},oe=t=>{try{t()}catch(e){ct(e)}},Ds=t=>{if(!l)try{if(t(),!(un||0<se))try{p=t=p,wr(t)}catch(e){Fe(e)}}catch(e){Fe(e)}};function Fs(){var t=_,e={};for(let[r,s]of Object.entries(t))e[r]=typeof s=="function"?(...i)=>{ie.push(r);try{return s(...i)}finally{l||(ie.pop(),dt&&Tt===1&&ie.length===0&&(Tt=0,oe(Pr),typeof Fibers<"u"&&Fibers.Qg()))}}:s;return e}var Tt=0,dt=null,gr=0,ie=[],Lr={},yr={},Ps=0,Pe=null,Vs=[];function ks(){return new Promise((t,e)=>{Pe={resolve:t,reject:e}})}function Us(){var t=Ar(16396),e=t+12;H[t>>2]=e,H[t+4>>2]=e+16384,e=ie[0];var r=Lr[e];return r===void 0&&(r=Ps++,Lr[e]=r,yr[r]=e),R[t+8>>2]=r,t}function xr(t){if(!l){if(Tt===0){var e=!1,r=!1;t((s=0)=>{if(!l&&(gr=s,e=!0,r)){Tt=2,oe(()=>Vr(dt)),typeof Browser<"u"&&Browser.eg.xg&&Browser.eg.resume(),s=!1;try{var i=(0,_[yr[R[dt+8>>2]]])()}catch(g){i=g,s=!0}var c=!1;if(!dt){var h=Pe;h&&(Pe=null,(s?h.reject:h.resolve)(i),c=!0)}if(s&&!c)throw i}}),r=!0,e||(Tt=1,dt=Us(),typeof Browser<"u"&&Browser.eg.xg&&Browser.eg.pause(),oe(()=>Fr(dt)))}else Tt===2?(Tt=0,oe(kr),Rr(dt),dt=null,Vs.forEach(Ds)):ct(`invalid state: ${Tt}`);return gr}}function Ve(t){return xr(e=>{t().then(e)})}var qr={},At,Ft,br=[],Et=(t,e,r,s,i)=>{function c(y){return--se,S!==0&&Qr(S),e==="string"?y?B(I,y):"":e==="boolean"?!!y:y}var h={string:y=>{var b=0;if(y!=null&&y!==0){b=Qt(y)+1;var U=ke(b);ut(y,I,U,b),b=U}return b},array:y=>{var b=ke(y.length);return m.set(y,b),b}};t=n["_"+t];var g=[],S=0;if(s)for(var T=0;T<s.length;T++){var L=h[r[T]];L?(S===0&&(S=Dr()),g[T]=L(s[T])):g[T]=s[T]}return r=dt,s=t(...g),i=i?.async,se+=1,dt!=r?ks().then(c):(s=c(s),i?Promise.resolve(s):s)},vr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;[44].forEach(t=>{be[t]=new q(t),be[t].stack="<generic error, no stack>"}),St=Array(4096),qn(k,"/"),ft("/tmp"),ft("/home"),ft("/home/web_user"),function(){ft("/dev"),Re(259,{read:()=>0,write:(s,i,c,h)=>h}),Jt("/dev/null",259),pn(1280,xs),pn(1536,qs),Jt("/dev/tty",1280),Jt("/dev/tty1",1536);var t=new Uint8Array(1024),e=0,r=()=>(e===0&&(e=ye(t).byteLength),t[--e]);Ht("random",r),Ht("urandom",r),ft("/dev/shm"),ft("/dev/shm/tmp")}(),function(){ft("/proc");var t=ft("/proc/self");ft("/proc/self/fd"),qn({Jf(){var e=wn(t,"fd",16895,73);return e.Af={Sf(r,s){var i=tt(+s);return r={parent:null,Jf:{ng:"fake"},Af:{Vf:()=>i.path}},r.parent=r}},e}},"/proc/self/fd")}(),function(){let t=new Map;n.setAuthorizer=function(e,r,s){return r?t.set(e,{f:r,hg:s}):t.delete(e),Et("set_authorizer","number",["number"],[e])},Fn=function(e,r,s,i,c,h){if(t.has(e)){let{f:g,hg:S}=t.get(e);return g(S,r,s?s?B(I,s):"":null,i?i?B(I,i):"":null,c?c?B(I,c):"":null,h?h?B(I,h):"":null)}return 0}}(),function(){let t=new Map,e=new Map;n.createFunction=function(r,s,i,c,h,g){let S=t.size;return t.set(S,{f:g,Mf:h}),Et("create_function","number","number string number number number number".split(" "),[r,s,i,c,S,0])},n.createAggregate=function(r,s,i,c,h,g,S){let T=t.size;return t.set(T,{step:g,wg:S,Mf:h}),Et("create_function","number","number string number number number number".split(" "),[r,s,i,c,T,1])},n.getFunctionUserData=function(r){return e.get(r)},Vn=function(r,s,i,c){r=t.get(r),e.set(s,r.Mf),r.f(s,new Uint32Array(I.buffer,c,i)),e.delete(s)},Un=function(r,s,i,c){r=t.get(r),e.set(s,r.Mf),r.step(s,new Uint32Array(I.buffer,c,i)),e.delete(s)},Pn=function(r,s){r=t.get(r),e.set(s,r.Mf),r.wg(s),e.delete(s)}}(),function(){let t=new Map;n.progressHandler=function(e,r,s,i){return s?t.set(e,{f:s,hg:i}):t.delete(e),Et("progress_handler",null,["number","number"],[e,r])},kn=function(e){if(t.has(e)){let{f:r,hg:s}=t.get(e);return r(s)}return 0}}(),function(){function t(S,T){let L=`get${S}`,y=`set${S}`;return new Proxy(new DataView(I.buffer,T,S==="Int32"?4:8),{get(b,U){if(U===L)return function(K,Y){if(!Y)throw Error("must be little endian");return b[U](K,Y)};if(U===y)return function(K,Y,X){if(!X)throw Error("must be little endian");return b[U](K,Y,X)};if(typeof U=="string"&&U.match(/^(get)|(set)/))throw Error("invalid type");return b[U]}})}let e=typeof qr=="object",r=new Map,s=new Map,i=new Map,c=e?new Set:null,h=e?new Set:null,g=new Map;rr=function(S,T,L,y){g.set(S?B(I,S):"",{size:T,Tf:Array.from(new Uint32Array(I.buffer,y,L))})},n.createModule=function(S,T,L,y){e&&(L.handleAsync=Ve);let b=r.size;return r.set(b,{module:L,Mf:y}),y=0,L.xCreate&&(y|=1),L.xConnect&&(y|=2),L.xBestIndex&&(y|=4),L.xDisconnect&&(y|=8),L.xDestroy&&(y|=16),L.xOpen&&(y|=32),L.xClose&&(y|=64),L.xFilter&&(y|=128),L.xNext&&(y|=256),L.xEof&&(y|=512),L.xColumn&&(y|=1024),L.xRowid&&(y|=2048),L.xUpdate&&(y|=4096),L.xBegin&&(y|=8192),L.xSync&&(y|=16384),L.xCommit&&(y|=32768),L.xRollback&&(y|=65536),L.xFindFunction&&(y|=131072),L.xRename&&(y|=262144),Et("create_module","number",["number","string","number","number"],[S,T,b,y])},Wn=function(S,T,L,y,b,U){if(T=r.get(T),s.set(b,T),e){c.delete(b);for(let K of c)s.delete(K)}return y=Array.from(new Uint32Array(I.buffer,y,L)).map(K=>K?B(I,K):""),T.module.xCreate(S,T.Mf,y,b,t("Int32",U))},zn=function(S,T,L,y,b,U){if(T=r.get(T),s.set(b,T),e){c.delete(b);for(let K of c)s.delete(K)}return y=Array.from(new Uint32Array(I.buffer,y,L)).map(K=>K?B(I,K):""),T.module.xConnect(S,T.Mf,y,b,t("Int32",U))},Mn=function(S,T){var L=s.get(S),y=g.get("sqlite3_index_info").Tf;let b={};b.nConstraint=j(T+y[0],"i32"),b.aConstraint=[];for(var U=j(T+y[1],"*"),K=g.get("sqlite3_index_constraint").size,Y=0;Y<b.nConstraint;++Y){var X=b.aConstraint,it=X.push,st=U+Y*K,Pt=g.get("sqlite3_index_constraint").Tf,mt={};mt.iColumn=j(st+Pt[0],"i32"),mt.op=j(st+Pt[1],"i8"),mt.usable=!!j(st+Pt[2],"i8"),it.call(X,mt)}for(b.nOrderBy=j(T+y[2],"i32"),b.aOrderBy=[],U=j(T+y[3],"*"),K=g.get("sqlite3_index_orderby").size,Y=0;Y<b.nOrderBy;++Y)X=b.aOrderBy,it=X.push,st=U+Y*K,Pt=g.get("sqlite3_index_orderby").Tf,mt={},mt.iColumn=j(st+Pt[0],"i32"),mt.desc=!!j(st+Pt[1],"i8"),it.call(X,mt);for(b.aConstraintUsage=[],U=0;U<b.nConstraint;++U)b.aConstraintUsage.push({argvIndex:0,omit:!1});for(b.idxNum=j(T+y[5],"i32"),b.idxStr=null,b.orderByConsumed=!!j(T+y[8],"i8"),b.estimatedCost=j(T+y[9],"double"),b.estimatedRows=j(T+y[10],"i32"),b.idxFlags=j(T+y[11],"i32"),b.colUsed=j(T+y[12],"i32"),S=L.module.xBestIndex(S,b),L=g.get("sqlite3_index_info").Tf,y=j(T+L[4],"*"),U=g.get("sqlite3_index_constraint_usage").size,it=0;it<b.nConstraint;++it)K=y+it*U,X=b.aConstraintUsage[it],st=g.get("sqlite3_index_constraint_usage").Tf,lt(K+st[0],X.argvIndex,"i32"),lt(K+st[1],X.omit?1:0,"i8");return lt(T+L[5],b.idxNum,"i32"),typeof b.idxStr=="string"&&(y=Qt(b.idxStr),U=Et("sqlite3_malloc","number",["number"],[y+1]),ut(b.idxStr,I,U,y+1),lt(T+L[6],U,"*"),lt(T+L[7],1,"i32")),lt(T+L[8],b.orderByConsumed,"i32"),lt(T+L[9],b.estimatedCost,"double"),lt(T+L[10],b.estimatedRows,"i32"),lt(T+L[11],b.idxFlags,"i32"),S},Xn=function(S){let T=s.get(S);return e?c.add(S):s.delete(S),T.module.xDisconnect(S)},Gn=function(S){let T=s.get(S);return e?c.add(S):s.delete(S),T.module.xDestroy(S)},Zn=function(S,T){let L=s.get(S);if(i.set(T,L),e){h.delete(T);for(let y of h)i.delete(y)}return L.module.xOpen(S,T)},Kn=function(S){let T=i.get(S);return e?h.add(S):i.delete(S),T.module.xClose(S)},jn=function(S){return i.get(S).module.xEof(S)?1:0},Yn=function(S,T,L,y,b){let U=i.get(S);return L=L?L?B(I,L):"":null,b=new Uint32Array(I.buffer,b,y),U.module.xFilter(S,T,L,b)},Jn=function(S){return i.get(S).module.xNext(S)},Hn=function(S,T,L){return i.get(S).module.xColumn(S,T,L)},nr=function(S,T){return i.get(S).module.xRowid(S,t("BigInt64",T))},or=function(S,T,L,y){let b=s.get(S);return L=new Uint32Array(I.buffer,L,T),b.module.xUpdate(S,L,t("BigInt64",y))},Bn=function(S){return s.get(S).module.xBegin(S)},sr=function(S){return s.get(S).module.xSync(S)},$n=function(S){return s.get(S).module.xCommit(S)},er=function(S){return s.get(S).module.xRollback(S)},tr=function(S,T){let L=s.get(S);return T=T?B(I,T):"",L.module.xRename(S,T)}}(),function(){function t(c,h){let g=`get${c}`,S=`set${c}`;return new Proxy(new DataView(I.buffer,h,c==="Int32"?4:8),{get(T,L){if(L===g)return function(y,b){if(!b)throw Error("must be little endian");return T[L](y,b)};if(L===S)return function(y,b,U){if(!U)throw Error("must be little endian");return T[L](y,b,U)};if(typeof L=="string"&&L.match(/^(get)|(set)/))throw Error("invalid type");return T[L]}})}let e=typeof qr=="object";e&&(n.handleAsync=Ve);let r=new Map,s=new Map;n.registerVFS=function(c,h){if(Et("sqlite3_vfs_find","number",["string"],[c.name]))throw Error(`VFS '${c.name}' already registered`);e&&(c.handleAsync=Ve);var g=c.mxPathName??64;let S=n._malloc(4);return h=Et("register_vfs","number",["string","number","number","number"],[c.name,g,h?1:0,S]),h||(g=j(S,"*"),r.set(g,c)),n._free(S),h};let i=e?new Set:null;ar=function(c){let h=s.get(c);return e?i.add(c):s.delete(c),h.xClose(c)},hr=function(c,h,g,S,T){return s.get(c).xRead(c,I.subarray(h,h+g),4294967296*T+S+(0>S?4294967296:0))},Ir=function(c,h,g,S,T){return s.get(c).xWrite(c,I.subarray(h,h+g),4294967296*T+S+(0>S?4294967296:0))},Tr=function(c,h,g){return s.get(c).xTruncate(c,4294967296*g+h+(0>h?4294967296:0))},Sr=function(c,h){return s.get(c).xSync(c,h)},fr=function(c,h){let g=s.get(c);return h=t("BigInt64",h),g.xFileSize(c,h)},dr=function(c,h){return s.get(c).xLock(c,h)},mr=function(c,h){return s.get(c).xUnlock(c,h)},_r=function(c,h){let g=s.get(c);return h=t("Int32",h),g.xCheckReservedLock(c,h)},ur=function(c,h,g){let S=s.get(c);return g=new DataView(I.buffer,g),S.xFileControl(c,h,g)},pr=function(c){return s.get(c).xSectorSize(c)},lr=function(c){return s.get(c).xDeviceCharacteristics(c)},Er=function(c,h,g,S,T){if(c=r.get(c),s.set(g,c),e){i.delete(g);for(var L of i)s.delete(L)}if(L=null,S&64){L=1;let y=[];for(;L;){let b=I[h++];if(b)y.push(b);else switch(I[h]||(L=null),L){case 1:y.push(63),L=2;break;case 2:y.push(61),L=3;break;case 3:y.push(38),L=2}}L=new TextDecoder().decode(new Uint8Array(y))}else h&&(L=h?B(I,h):"");return T=t("Int32",T),c.xOpen(L,g,S,T)},cr=function(c,h,g){return r.get(c).xDelete(h?B(I,h):"",g)},ir=function(c,h,g,S){return c=r.get(c),S=t("Int32",S),c.xAccess(h?B(I,h):"",g,S)}}();var Bs={a:(t,e,r,s)=>{ct(`Assertion failed: ${t?B(I,t):""}, at: `+[e?e?B(I,e):"":"unknown filename",r,s?s?B(I,s):"":"unknown function"])},N:function(t,e){try{return t=t?B(I,t):"",Rn(t,e),0}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return-r.Df}},Q:function(t,e,r){try{if(e=e?B(I,e):"",e=vt(t,e),r&-8)return-28;var s=nt(e,{Nf:!0}).node;return s?(t="",r&4&&(t+="r"),r&2&&(t+="w"),r&1&&(t+="x"),t&&Dt(s,t)?-2:0):-44}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.Df}},O:function(t,e){try{var r=tt(t);return Rn(r.node,e),0}catch(s){if(typeof z>"u"||s.name!=="ErrnoError")throw s;return-s.Df}},M:function(t){try{var e=tt(t).node,r=typeof e=="string"?nt(e,{Nf:!0}).node:e;if(!r.Af.Ff)throw new q(63);return r.Af.Ff(r,{timestamp:Date.now()}),0}catch(s){if(typeof z>"u"||s.name!=="ErrnoError")throw s;return-s.Df}},b:function(t,e,r){ne=r;try{var s=tt(t);switch(e){case 0:var i=re();if(0>i)break;for(;Kt[i];)i++;return Os(s,i).Lf;case 1:case 2:return 0;case 3:return s.flags;case 4:return i=re(),s.flags|=i,0;case 12:return i=re(),V[i+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(c){if(typeof z>"u"||c.name!=="ErrnoError")throw c;return-c.Df}},L:function(t,e){try{var r=tt(t);return ee(Zt,r.path,e)}catch(s){if(typeof z>"u"||s.name!=="ErrnoError")throw s;return-s.Df}},n:function(t,e,r){e=$t(e,r);try{if(isNaN(e))return 61;var s=tt(t);if(!(s.flags&2097155))throw new q(28);return On(s.node,e),0}catch(i){if(typeof z>"u"||i.name!=="ErrnoError")throw i;return-i.Df}},F:function(t,e){try{if(e===0)return-28;var r=Qt("/")+1;return e<r?-68:(ut("/",I,t,e),r)}catch(s){if(typeof z>"u"||s.name!=="ErrnoError")throw s;return-s.Df}},J:function(t,e){try{return t=t?B(I,t):"",ee(An,t,e)}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return-r.Df}},C:function(t,e,r){try{return e=e?B(I,e):"",e=vt(t,e),e=Ct(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),ft(e,r),0}catch(s){if(typeof z>"u"||s.name!=="ErrnoError")throw s;return-s.Df}},H:function(t,e,r,s){try{e=e?B(I,e):"";var i=s&256;return e=vt(t,e,s&4096),ee(i?An:Zt,e,r)}catch(c){if(typeof z>"u"||c.name!=="ErrnoError")throw c;return-c.Df}},B:function(t,e,r,s){ne=s;try{e=e?B(I,e):"",e=vt(t,e);var i=s?re():0;return te(e,r,i).Lf}catch(c){if(typeof z>"u"||c.name!=="ErrnoError")throw c;return-c.Df}},z:function(t,e,r,s){try{if(e=e?B(I,e):"",e=vt(t,e),0>=s)return-28;var i=vn(e),c=Math.min(s,Qt(i)),h=m[r+c];return ut(i,I,r,s+1),m[r+c]=h,c}catch(g){if(typeof z>"u"||g.name!=="ErrnoError")throw g;return-g.Df}},y:function(t){try{return t=t?B(I,t):"",bn(t),0}catch(e){if(typeof z>"u"||e.name!=="ErrnoError")throw e;return-e.Df}},K:function(t,e){try{return t=t?B(I,t):"",ee(Zt,t,e)}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return-r.Df}},u:function(t,e,r){try{if(e=e?B(I,e):"",e=vt(t,e),r===0){t=e;var s=nt(t,{parent:!0}).node;if(!s)throw new q(44);var i=jt(t),c=bt(s,i),h=yn(s,i,!1);if(h)throw new q(h);if(!s.Af.cg)throw new q(63);if(c.Pf)throw new q(10);s.Af.cg(s,i),In(c)}else r===512?bn(e):ct("Invalid flags passed to unlinkat");return 0}catch(g){if(typeof z>"u"||g.name!=="ErrnoError")throw g;return-g.Df}},t:function(t,e,r){try{if(e=e?B(I,e):"",e=vt(t,e,!0),r){var s=H[r>>2]+4294967296*R[r+4>>2],i=R[r+8>>2];c=1e3*s+i/1e6,r+=16,s=H[r>>2]+4294967296*R[r+4>>2],i=R[r+8>>2],h=1e3*s+i/1e6}else var c=Date.now(),h=c;t=c;var g=nt(e,{Nf:!0}).node;return g.Af.Ff(g,{timestamp:Math.max(t,h)}),0}catch(S){if(typeof z>"u"||S.name!=="ErrnoError")throw S;return-S.Df}},k:function(t,e,r){t=new Date(1e3*$t(t,e)),R[r>>2]=t.getSeconds(),R[r+4>>2]=t.getMinutes(),R[r+8>>2]=t.getHours(),R[r+12>>2]=t.getDate(),R[r+16>>2]=t.getMonth(),R[r+20>>2]=t.getFullYear()-1900,R[r+24>>2]=t.getDay(),e=t.getFullYear(),R[r+28>>2]=(e%4!==0||e%100===0&&e%400!==0?Qs:Cs)[t.getMonth()]+t.getDate()-1|0,R[r+36>>2]=-(60*t.getTimezoneOffset()),e=new Date(t.getFullYear(),6,1).getTimezoneOffset();var s=new Date(t.getFullYear(),0,1).getTimezoneOffset();R[r+32>>2]=(e!=s&&t.getTimezoneOffset()==Math.min(s,e))|0},i:function(t,e,r,s,i,c,h,g){i=$t(i,c);try{if(isNaN(i))return 61;var S=tt(s);if(e&2&&!(r&2)&&(S.flags&2097155)!==2)throw new q(2);if((S.flags&2097155)===1)throw new q(2);if(!S.Bf.Zf)throw new q(43);var T=S.Bf.Zf(S,t,i,e,r),L=T.Cg;return R[h>>2]=T.qg,H[g>>2]=L,0}catch(y){if(typeof z>"u"||y.name!=="ErrnoError")throw y;return-y.Df}},j:function(t,e,r,s,i,c,h){c=$t(c,h);try{var g=tt(i);if(r&2){if((g.node.mode&61440)!==32768)throw new q(43);s&2||g.Bf.$f&&g.Bf.$f(g,I.slice(t,t+e),c,e,s)}}catch(S){if(typeof z>"u"||S.name!=="ErrnoError")throw S;return-S.Df}},v:(t,e,r,s)=>{var i=new Date().getFullYear(),c=new Date(i,0,1),h=new Date(i,6,1);i=c.getTimezoneOffset();var g=h.getTimezoneOffset();H[t>>2]=60*Math.max(i,g),R[e>>2]=+(i!=g),t=S=>S.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1],c=t(c),h=t(h),g<i?(ut(c,I,r,17),ut(h,I,s,17)):(ut(c,I,s,17),ut(h,I,r,17))},e:()=>Date.now(),d:()=>performance.now(),r:t=>{var e=I.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var s=e*(1+.2/r);s=Math.min(s,t+100663296);var i=Math;s=Math.max(t,s);t:{i=(i.min.call(i,2147483648,s+(65536-s%65536)%65536)-u.buffer.byteLength+65535)/65536;try{u.grow(i),gt();var c=1;break t}catch{}c=void 0}if(c)return!0}return!1},D:(t,e)=>{var r=0;return Dn().forEach((s,i)=>{var c=e+r;for(i=H[t+4*i>>2]=c,c=0;c<s.length;++c)m[i++]=s.charCodeAt(c);m[i]=0,r+=s.length+1}),0},E:(t,e)=>{var r=Dn();H[t>>2]=r.length;var s=0;return r.forEach(i=>s+=i.length+1),H[e>>2]=s,0},f:function(t){try{var e=tt(t);if(e.Lf===null)throw new q(8);e.dg&&(e.dg=null);try{e.Bf.close&&e.Bf.close(e)}catch(r){throw r}finally{Kt[e.Lf]=null}return e.Lf=null,0}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return r.Df}},s:function(t,e){try{var r=tt(t);return m[e]=r.Hf?2:rt(r.mode)?3:(r.mode&61440)===40960?7:4,V[e+2>>1]=0,W=[0,(D=0,1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[e+8>>2]=W[0],R[e+12>>2]=W[1],W=[0,(D=0,1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[e+16>>2]=W[0],R[e+20>>2]=W[1],0}catch(s){if(typeof z>"u"||s.name!=="ErrnoError")throw s;return s.Df}},A:function(t,e,r,s){try{t:{var i=tt(t);t=e;for(var c,h=e=0;h<r;h++){var g=H[t>>2],S=H[t+4>>2];t+=8;var T=i,L=c,y=m;if(0>S||0>L)throw new q(28);if(T.Lf===null)throw new q(8);if((T.flags&2097155)===1)throw new q(8);if(rt(T.node.mode))throw new q(31);if(!T.Bf.read)throw new q(28);var b=typeof L<"u";if(!b)L=T.position;else if(!T.seekable)throw new q(70);var U=T.Bf.read(T,y,g,S,L);b||(T.position+=U);var K=U;if(0>K){var Y=-1;break t}if(e+=K,K<S)break;typeof c<"u"&&(c+=K)}Y=e}return H[s>>2]=Y,0}catch(X){if(typeof z>"u"||X.name!=="ErrnoError")throw X;return X.Df}},l:function(t,e,r,s,i){e=$t(e,r);try{if(isNaN(e))return 61;var c=tt(t);return Nn(c,e,s),W=[c.position>>>0,(D=c.position,1<=+Math.abs(D)?0<D?+Math.floor(D/4294967296)>>>0:~~+Math.ceil((D-+(~~D>>>0))/4294967296)>>>0:0)],R[i>>2]=W[0],R[i+4>>2]=W[1],c.dg&&e===0&&s===0&&(c.dg=null),0}catch(h){if(typeof z>"u"||h.name!=="ErrnoError")throw h;return h.Df}},G:function(t){try{var e=tt(t);return xr(r=>{var s=e.node.Jf;s.type.Dg?s.type.Dg(s,!1,i=>{r(i?29:0)}):r(0)})}catch(r){if(typeof z>"u"||r.name!=="ErrnoError")throw r;return r.Df}},w:function(t,e,r,s){try{t:{var i=tt(t);t=e;for(var c,h=e=0;h<r;h++){var g=H[t>>2],S=H[t+4>>2];t+=8;var T=i,L=g,y=S,b=c,U=m;if(0>y||0>b)throw new q(28);if(T.Lf===null)throw new q(8);if(!(T.flags&2097155))throw new q(8);if(rt(T.node.mode))throw new q(31);if(!T.Bf.write)throw new q(28);T.seekable&&T.flags&1024&&Nn(T,0,2);var K=typeof b<"u";if(!K)b=T.position;else if(!T.seekable)throw new q(70);var Y=T.Bf.write(T,U,L,y,b,void 0);K||(T.position+=Y);var X=Y;if(0>X){var it=-1;break t}e+=X,typeof c<"u"&&(c+=X)}it=e}return H[s>>2]=it,0}catch(st){if(typeof z>"u"||st.name!=="ErrnoError")throw st;return st.Df}},ta:(t,e)=>(ye(I.subarray(t,t+e)),0),ia:Fn,I:Pn,_:Vn,ca:kn,P:Un,la:Bn,m:Mn,sa:Kn,oa:Hn,ja:$n,ea:zn,fa:Wn,g:Gn,h:Xn,pa:jn,ra:Yn,qa:Jn,da:Zn,ga:tr,ha:er,na:nr,c:rr,ka:sr,ma:or,x:function(t,e,r,s){(0,globalThis.__onTablesChanged)?.(t,e,r,s)},aa:ir,V:_r,$:ar,ba:cr,S:lr,U:ur,Y:fr,X:dr,R:Er,q:hr,T:pr,Z:Sr,o:Tr,W:mr,p:Ir},_=function(){function t(r){return _=r.exports,_=Fs(),u=_.ua,gt(),At=_.qf,yt.unshift(_.va),xt--,n.monitorRunDependencies?.(xt),xt==0&&(Le!==null&&(clearInterval(Le),Le=null),Mt&&(r=Mt,Mt=null,r())),_}var e={a:Bs};if(xt++,n.monitorRunDependencies?.(xt),n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(r){Q(`Module.instantiateWasm callback failed with error: ${r}`),E(r)}return ws(e,function(r){t(r.instance)}).catch(E),{}}();n._sqlite3_auto_extension=t=>(n._sqlite3_auto_extension=_.wa)(t),n._sqlite3_free=t=>(n._sqlite3_free=_.xa)(t),n._sqlite3_malloc=t=>(n._sqlite3_malloc=_.ya)(t),n._sqlite3_bind_blob=(t,e,r,s,i)=>(n._sqlite3_bind_blob=_.za)(t,e,r,s,i),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=_.Aa)(),n._sqlite3_bind_int=(t,e,r)=>(n._sqlite3_bind_int=_.Ba)(t,e,r),n._sqlite3_bind_int64=(t,e,r,s)=>(n._sqlite3_bind_int64=_.Ca)(t,e,r,s),n._sqlite3_bind_double=(t,e,r)=>(n._sqlite3_bind_double=_.Da)(t,e,r),n._sqlite3_bind_null=(t,e)=>(n._sqlite3_bind_null=_.Ea)(t,e),n._sqlite3_clear_bindings=t=>(n._sqlite3_clear_bindings=_.Fa)(t),n._sqlite3_bind_text=(t,e,r,s,i)=>(n._sqlite3_bind_text=_.Ga)(t,e,r,s,i),n._sqlite3_bind_pointer=(t,e,r,s,i)=>(n._sqlite3_bind_pointer=_.Ha)(t,e,r,s,i),n._sqlite3_bind_value=(t,e,r)=>(n._sqlite3_bind_value=_.Ia)(t,e,r),n._sqlite3_close=t=>(n._sqlite3_close=_.Ja)(t),n._sqlite3_vtab_config=(t,e,r)=>(n._sqlite3_vtab_config=_.Ka)(t,e,r),n._sqlite3_commit_hook=(t,e,r)=>(n._sqlite3_commit_hook=_.La)(t,e,r),n._sqlite3_column_type=(t,e)=>(n._sqlite3_column_type=_.Ma)(t,e),n._sqlite3_column_count=t=>(n._sqlite3_column_count=_.Na)(t),n._sqlite3_column_text=(t,e)=>(n._sqlite3_column_text=_.Oa)(t,e),n._sqlite3_column_blob=(t,e)=>(n._sqlite3_column_blob=_.Pa)(t,e),n._sqlite3_column_bytes=(t,e)=>(n._sqlite3_column_bytes=_.Qa)(t,e),n._sqlite3_column_value=(t,e)=>(n._sqlite3_column_value=_.Ra)(t,e),n._sqlite3_column_double=(t,e)=>(n._sqlite3_column_double=_.Sa)(t,e),n._sqlite3_column_int=(t,e)=>(n._sqlite3_column_int=_.Ta)(t,e),n._sqlite3_column_int64=(t,e)=>(n._sqlite3_column_int64=_.Ua)(t,e),n._sqlite3_column_name=(t,e)=>(n._sqlite3_column_name=_.Va)(t,e),n._sqlite3_context_db_handle=t=>(n._sqlite3_context_db_handle=_.Wa)(t),n._sqlite3_create_function_v2=(t,e,r,s,i,c,h,g,S)=>(n._sqlite3_create_function_v2=_.Xa)(t,e,r,s,i,c,h,g,S),n._sqlite3_create_module_v2=(t,e,r,s,i)=>(n._sqlite3_create_module_v2=_.Ya)(t,e,r,s,i),n._sqlite3_declare_vtab=(t,e)=>(n._sqlite3_declare_vtab=_.Za)(t,e),n._sqlite3_errcode=t=>(n._sqlite3_errcode=_._a)(t),n._sqlite3_errmsg=t=>(n._sqlite3_errmsg=_.$a)(t),n._sqlite3_exec=(t,e,r,s,i)=>(n._sqlite3_exec=_.ab)(t,e,r,s,i),n._sqlite3_finalize=t=>(n._sqlite3_finalize=_.bb)(t),n._sqlite3_get_auxdata=(t,e)=>(n._sqlite3_get_auxdata=_.cb)(t,e),n._sqlite3_next_stmt=(t,e)=>(n._sqlite3_next_stmt=_.db)(t,e),n._sqlite3_open=(t,e)=>(n._sqlite3_open=_.eb)(t,e),n._sqlite3_prepare_v2=(t,e,r,s,i)=>(n._sqlite3_prepare_v2=_.fb)(t,e,r,s,i),n._sqlite3_prepare_v3=(t,e,r,s,i,c)=>(n._sqlite3_prepare_v3=_.gb)(t,e,r,s,i,c),n._sqlite3_randomness=(t,e)=>(n._sqlite3_randomness=_.hb)(t,e),n._sqlite3_result_int=(t,e)=>(n._sqlite3_result_int=_.ib)(t,e),n._sqlite3_result_blob=(t,e,r,s)=>(n._sqlite3_result_blob=_.jb)(t,e,r,s),n._sqlite3_result_int64=(t,e,r)=>(n._sqlite3_result_int64=_.kb)(t,e,r),n._sqlite3_result_double=(t,e)=>(n._sqlite3_result_double=_.lb)(t,e),n._sqlite3_result_null=t=>(n._sqlite3_result_null=_.mb)(t),n._sqlite3_result_pointer=(t,e,r,s)=>(n._sqlite3_result_pointer=_.nb)(t,e,r,s),n._sqlite3_result_error=(t,e,r)=>(n._sqlite3_result_error=_.ob)(t,e,r),n._sqlite3_result_error_code=(t,e)=>(n._sqlite3_result_error_code=_.pb)(t,e),n._sqlite3_result_value=(t,e)=>(n._sqlite3_result_value=_.qb)(t,e),n._sqlite3_result_text=(t,e,r,s)=>(n._sqlite3_result_text=_.rb)(t,e,r,s),n._sqlite3_result_subtype=(t,e)=>(n._sqlite3_result_subtype=_.sb)(t,e),n._sqlite3_set_authorizer=(t,e,r)=>(n._sqlite3_set_authorizer=_.tb)(t,e,r),n._sqlite3_set_auxdata=(t,e,r,s)=>(n._sqlite3_set_auxdata=_.ub)(t,e,r,s),n._sqlite3_sql=t=>(n._sqlite3_sql=_.vb)(t),n._sqlite3_reset=t=>(n._sqlite3_reset=_.wb)(t),n._sqlite3_value_text=t=>(n._sqlite3_value_text=_.xb)(t),n._sqlite3_value_type=t=>(n._sqlite3_value_type=_.yb)(t),n._sqlite3_value_bytes=t=>(n._sqlite3_value_bytes=_.zb)(t),n._sqlite3_value_blob=t=>(n._sqlite3_value_blob=_.Ab)(t),n._sqlite3_value_int=t=>(n._sqlite3_value_int=_.Bb)(t),n._sqlite3_value_int64=t=>(n._sqlite3_value_int64=_.Cb)(t),n._sqlite3_value_double=t=>(n._sqlite3_value_double=_.Db)(t),n._sqlite3_value_pointer=(t,e)=>(n._sqlite3_value_pointer=_.Eb)(t,e),n._sqlite3_vtab_distinct=t=>(n._sqlite3_vtab_distinct=_.Fb)(t),n._sqlite3_get_autocommit=t=>(n._sqlite3_get_autocommit=_.Gb)(t),n._sqlite3_step=t=>(n._sqlite3_step=_.Hb)(t),n._sqlite3_status64=(t,e,r,s)=>(n._sqlite3_status64=_.Ib)(t,e,r,s),n._sqlite3_status=(t,e,r,s)=>(n._sqlite3_status=_.Jb)(t,e,r,s),n._sqlite3_db_status=(t,e,r,s,i)=>(n._sqlite3_db_status=_.Kb)(t,e,r,s,i),n._sqlite3_msize=t=>(n._sqlite3_msize=_.Lb)(t),n._sqlite3_vfs_find=t=>(n._sqlite3_vfs_find=_.Mb)(t),n._sqlite3_vfs_register=(t,e)=>(n._sqlite3_vfs_register=_.Nb)(t,e),n._sqlite3_vfs_unregister=t=>(n._sqlite3_vfs_unregister=_.Ob)(t),n._sqlite3_release_memory=t=>(n._sqlite3_release_memory=_.Pb)(t),n._sqlite3_soft_heap_limit64=(t,e)=>(n._sqlite3_soft_heap_limit64=_.Qb)(t,e),n._sqlite3_memory_used=()=>(n._sqlite3_memory_used=_.Rb)(),n._sqlite3_hard_heap_limit64=(t,e)=>(n._sqlite3_hard_heap_limit64=_.Sb)(t,e),n._sqlite3_memory_highwater=t=>(n._sqlite3_memory_highwater=_.Tb)(t),n._sqlite3_malloc64=(t,e)=>(n._sqlite3_malloc64=_.Ub)(t,e),n._sqlite3_realloc=(t,e)=>(n._sqlite3_realloc=_.Vb)(t,e),n._sqlite3_realloc64=(t,e,r)=>(n._sqlite3_realloc64=_.Wb)(t,e,r),n._sqlite3_str_vappendf=(t,e,r)=>(n._sqlite3_str_vappendf=_.Xb)(t,e,r),n._sqlite3_str_append=(t,e,r)=>(n._sqlite3_str_append=_.Yb)(t,e,r),n._sqlite3_str_appendchar=(t,e,r)=>(n._sqlite3_str_appendchar=_.Zb)(t,e,r),n._sqlite3_str_appendall=(t,e)=>(n._sqlite3_str_appendall=_._b)(t,e),n._sqlite3_str_appendf=(t,e,r)=>(n._sqlite3_str_appendf=_.$b)(t,e,r),n._sqlite3_str_finish=t=>(n._sqlite3_str_finish=_.ac)(t),n._sqlite3_str_errcode=t=>(n._sqlite3_str_errcode=_.bc)(t),n._sqlite3_str_length=t=>(n._sqlite3_str_length=_.cc)(t),n._sqlite3_str_value=t=>(n._sqlite3_str_value=_.dc)(t),n._sqlite3_str_reset=t=>(n._sqlite3_str_reset=_.ec)(t),n._sqlite3_str_new=t=>(n._sqlite3_str_new=_.fc)(t),n._sqlite3_vmprintf=(t,e)=>(n._sqlite3_vmprintf=_.gc)(t,e),n._sqlite3_mprintf=(t,e)=>(n._sqlite3_mprintf=_.hc)(t,e),n._sqlite3_vsnprintf=(t,e,r,s)=>(n._sqlite3_vsnprintf=_.ic)(t,e,r,s),n._sqlite3_snprintf=(t,e,r,s)=>(n._sqlite3_snprintf=_.jc)(t,e,r,s),n._sqlite3_log=(t,e,r)=>(n._sqlite3_log=_.kc)(t,e,r),n._sqlite3_stricmp=(t,e)=>(n._sqlite3_stricmp=_.lc)(t,e),n._sqlite3_strnicmp=(t,e,r)=>(n._sqlite3_strnicmp=_.mc)(t,e,r),n._sqlite3_os_init=()=>(n._sqlite3_os_init=_.nc)(),n._sqlite3_os_end=()=>(n._sqlite3_os_end=_.oc)(),n._sqlite3_serialize=(t,e,r,s)=>(n._sqlite3_serialize=_.pc)(t,e,r,s),n._sqlite3_deserialize=(t,e,r,s,i,c,h,g)=>(n._sqlite3_deserialize=_.qc)(t,e,r,s,i,c,h,g),n._sqlite3_database_file_object=t=>(n._sqlite3_database_file_object=_.rc)(t),n._sqlite3_backup_init=(t,e,r,s)=>(n._sqlite3_backup_init=_.sc)(t,e,r,s),n._sqlite3_backup_step=(t,e)=>(n._sqlite3_backup_step=_.tc)(t,e),n._sqlite3_backup_finish=t=>(n._sqlite3_backup_finish=_.uc)(t),n._sqlite3_backup_remaining=t=>(n._sqlite3_backup_remaining=_.vc)(t),n._sqlite3_backup_pagecount=t=>(n._sqlite3_backup_pagecount=_.wc)(t),n._sqlite3_value_bytes16=t=>(n._sqlite3_value_bytes16=_.xc)(t),n._sqlite3_value_subtype=t=>(n._sqlite3_value_subtype=_.yc)(t),n._sqlite3_value_text16=t=>(n._sqlite3_value_text16=_.zc)(t),n._sqlite3_value_text16be=t=>(n._sqlite3_value_text16be=_.Ac)(t),n._sqlite3_value_text16le=t=>(n._sqlite3_value_text16le=_.Bc)(t),n._sqlite3_value_encoding=t=>(n._sqlite3_value_encoding=_.Cc)(t),n._sqlite3_value_nochange=t=>(n._sqlite3_value_nochange=_.Dc)(t),n._sqlite3_value_frombind=t=>(n._sqlite3_value_frombind=_.Ec)(t),n._sqlite3_value_dup=t=>(n._sqlite3_value_dup=_.Fc)(t),n._sqlite3_value_free=t=>(n._sqlite3_value_free=_.Gc)(t),n._sqlite3_result_blob64=(t,e,r,s,i)=>(n._sqlite3_result_blob64=_.Hc)(t,e,r,s,i),n._sqlite3_result_error16=(t,e,r)=>(n._sqlite3_result_error16=_.Ic)(t,e,r),n._sqlite3_result_text64=(t,e,r,s,i,c)=>(n._sqlite3_result_text64=_.Jc)(t,e,r,s,i,c),n._sqlite3_result_text16=(t,e,r,s)=>(n._sqlite3_result_text16=_.Kc)(t,e,r,s),n._sqlite3_result_text16be=(t,e,r,s)=>(n._sqlite3_result_text16be=_.Lc)(t,e,r,s),n._sqlite3_result_text16le=(t,e,r,s)=>(n._sqlite3_result_text16le=_.Mc)(t,e,r,s),n._sqlite3_result_error_toobig=t=>(n._sqlite3_result_error_toobig=_.Nc)(t),n._sqlite3_result_zeroblob=(t,e)=>(n._sqlite3_result_zeroblob=_.Oc)(t,e),n._sqlite3_result_zeroblob64=(t,e,r)=>(n._sqlite3_result_zeroblob64=_.Pc)(t,e,r),n._sqlite3_result_error_nomem=t=>(n._sqlite3_result_error_nomem=_.Qc)(t),n._sqlite3_user_data=t=>(n._sqlite3_user_data=_.Rc)(t),n._sqlite3_vtab_nochange=t=>(n._sqlite3_vtab_nochange=_.Sc)(t),n._sqlite3_vtab_in_first=(t,e)=>(n._sqlite3_vtab_in_first=_.Tc)(t,e),n._sqlite3_vtab_in_next=(t,e)=>(n._sqlite3_vtab_in_next=_.Uc)(t,e),n._sqlite3_aggregate_context=(t,e)=>(n._sqlite3_aggregate_context=_.Vc)(t,e),n._sqlite3_data_count=t=>(n._sqlite3_data_count=_.Wc)(t),n._sqlite3_column_bytes16=(t,e)=>(n._sqlite3_column_bytes16=_.Xc)(t,e),n._sqlite3_column_text16=(t,e)=>(n._sqlite3_column_text16=_.Yc)(t,e),n._sqlite3_column_name16=(t,e)=>(n._sqlite3_column_name16=_.Zc)(t,e),n._sqlite3_bind_blob64=(t,e,r,s,i,c)=>(n._sqlite3_bind_blob64=_._c)(t,e,r,s,i,c),n._sqlite3_bind_text64=(t,e,r,s,i,c,h)=>(n._sqlite3_bind_text64=_.$c)(t,e,r,s,i,c,h),n._sqlite3_bind_text16=(t,e,r,s,i)=>(n._sqlite3_bind_text16=_.ad)(t,e,r,s,i),n._sqlite3_bind_zeroblob=(t,e,r)=>(n._sqlite3_bind_zeroblob=_.bd)(t,e,r),n._sqlite3_bind_zeroblob64=(t,e,r,s)=>(n._sqlite3_bind_zeroblob64=_.cd)(t,e,r,s),n._sqlite3_bind_parameter_count=t=>(n._sqlite3_bind_parameter_count=_.dd)(t),n._sqlite3_bind_parameter_name=(t,e)=>(n._sqlite3_bind_parameter_name=_.ed)(t,e),n._sqlite3_bind_parameter_index=(t,e)=>(n._sqlite3_bind_parameter_index=_.fd)(t,e),n._sqlite3_db_handle=t=>(n._sqlite3_db_handle=_.gd)(t),n._sqlite3_stmt_readonly=t=>(n._sqlite3_stmt_readonly=_.hd)(t),n._sqlite3_stmt_isexplain=t=>(n._sqlite3_stmt_isexplain=_.id)(t),n._sqlite3_stmt_explain=(t,e)=>(n._sqlite3_stmt_explain=_.jd)(t,e),n._sqlite3_stmt_busy=t=>(n._sqlite3_stmt_busy=_.kd)(t),n._sqlite3_stmt_status=(t,e,r)=>(n._sqlite3_stmt_status=_.ld)(t,e,r),n._sqlite3_expanded_sql=t=>(n._sqlite3_expanded_sql=_.md)(t),n._sqlite3_value_numeric_type=t=>(n._sqlite3_value_numeric_type=_.nd)(t),n._sqlite3_blob_open=(t,e,r,s,i,c,h,g)=>(n._sqlite3_blob_open=_.od)(t,e,r,s,i,c,h,g),n._sqlite3_blob_close=t=>(n._sqlite3_blob_close=_.pd)(t),n._sqlite3_blob_read=(t,e,r,s)=>(n._sqlite3_blob_read=_.qd)(t,e,r,s),n._sqlite3_blob_write=(t,e,r,s)=>(n._sqlite3_blob_write=_.rd)(t,e,r,s),n._sqlite3_blob_bytes=t=>(n._sqlite3_blob_bytes=_.sd)(t),n._sqlite3_blob_reopen=(t,e,r)=>(n._sqlite3_blob_reopen=_.td)(t,e,r),n._sqlite3_strglob=(t,e)=>(n._sqlite3_strglob=_.ud)(t,e),n._sqlite3_strlike=(t,e,r)=>(n._sqlite3_strlike=_.vd)(t,e,r),n._sqlite3_cancel_auto_extension=t=>(n._sqlite3_cancel_auto_extension=_.wd)(t),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=_.xd)(),n._sqlite3_prepare=(t,e,r,s,i)=>(n._sqlite3_prepare=_.yd)(t,e,r,s,i),n._sqlite3_prepare16=(t,e,r,s,i)=>(n._sqlite3_prepare16=_.zd)(t,e,r,s,i),n._sqlite3_prepare16_v2=(t,e,r,s,i)=>(n._sqlite3_prepare16_v2=_.Ad)(t,e,r,s,i),n._sqlite3_prepare16_v3=(t,e,r,s,i,c)=>(n._sqlite3_prepare16_v3=_.Bd)(t,e,r,s,i,c),n._sqlite3_get_table=(t,e,r,s,i,c)=>(n._sqlite3_get_table=_.Cd)(t,e,r,s,i,c),n._sqlite3_free_table=t=>(n._sqlite3_free_table=_.Dd)(t),n._sqlite3_create_module=(t,e,r,s)=>(n._sqlite3_create_module=_.Ed)(t,e,r,s),n._sqlite3_drop_modules=(t,e)=>(n._sqlite3_drop_modules=_.Fd)(t,e),n._sqlite3_vtab_on_conflict=t=>(n._sqlite3_vtab_on_conflict=_.Gd)(t),n._sqlite3_vtab_collation=(t,e)=>(n._sqlite3_vtab_collation=_.Hd)(t,e),n._sqlite3_vtab_in=(t,e,r)=>(n._sqlite3_vtab_in=_.Id)(t,e,r),n._sqlite3_vtab_rhs_value=(t,e,r)=>(n._sqlite3_vtab_rhs_value=_.Jd)(t,e,r),n._sqlite3_keyword_name=(t,e,r)=>(n._sqlite3_keyword_name=_.Kd)(t,e,r),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=_.Ld)(),n._sqlite3_keyword_check=(t,e)=>(n._sqlite3_keyword_check=_.Md)(t,e),n._sqlite3_complete=t=>(n._sqlite3_complete=_.Nd)(t),n._sqlite3_complete16=t=>(n._sqlite3_complete16=_.Od)(t),n._sqlite3_libversion=()=>(n._sqlite3_libversion=_.Pd)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=_.Qd)(),n._sqlite3_threadsafe=()=>(n._sqlite3_threadsafe=_.Rd)(),n._sqlite3_initialize=()=>(n._sqlite3_initialize=_.Sd)(),n._sqlite3_config=(t,e)=>(n._sqlite3_config=_.Td)(t,e),n._sqlite3_db_mutex=t=>(n._sqlite3_db_mutex=_.Ud)(t),n._sqlite3_db_release_memory=t=>(n._sqlite3_db_release_memory=_.Vd)(t),n._sqlite3_db_cacheflush=t=>(n._sqlite3_db_cacheflush=_.Wd)(t),n._sqlite3_db_config=(t,e,r)=>(n._sqlite3_db_config=_.Xd)(t,e,r),n._sqlite3_last_insert_rowid=t=>(n._sqlite3_last_insert_rowid=_.Yd)(t),n._sqlite3_set_last_insert_rowid=(t,e,r)=>(n._sqlite3_set_last_insert_rowid=_.Zd)(t,e,r),n._sqlite3_changes64=t=>(n._sqlite3_changes64=_._d)(t),n._sqlite3_changes=t=>(n._sqlite3_changes=_.$d)(t),n._sqlite3_total_changes64=t=>(n._sqlite3_total_changes64=_.ae)(t),n._sqlite3_total_changes=t=>(n._sqlite3_total_changes=_.be)(t),n._sqlite3_txn_state=(t,e)=>(n._sqlite3_txn_state=_.ce)(t,e),n._sqlite3_close_v2=t=>(n._sqlite3_close_v2=_.de)(t),n._sqlite3_busy_handler=(t,e,r)=>(n._sqlite3_busy_handler=_.ee)(t,e,r),n._sqlite3_progress_handler=(t,e,r,s)=>(n._sqlite3_progress_handler=_.fe)(t,e,r,s),n._sqlite3_busy_timeout=(t,e)=>(n._sqlite3_busy_timeout=_.ge)(t,e),n._sqlite3_interrupt=t=>(n._sqlite3_interrupt=_.he)(t),n._sqlite3_is_interrupted=t=>(n._sqlite3_is_interrupted=_.ie)(t),n._sqlite3_create_function=(t,e,r,s,i,c,h,g)=>(n._sqlite3_create_function=_.je)(t,e,r,s,i,c,h,g),n._sqlite3_create_window_function=(t,e,r,s,i,c,h,g,S,T)=>(n._sqlite3_create_window_function=_.ke)(t,e,r,s,i,c,h,g,S,T),n._sqlite3_create_function16=(t,e,r,s,i,c,h,g)=>(n._sqlite3_create_function16=_.le)(t,e,r,s,i,c,h,g),n._sqlite3_overload_function=(t,e,r)=>(n._sqlite3_overload_function=_.me)(t,e,r),n._sqlite3_trace_v2=(t,e,r,s)=>(n._sqlite3_trace_v2=_.ne)(t,e,r,s),n._sqlite3_update_hook=(t,e,r)=>(n._sqlite3_update_hook=_.oe)(t,e,r),n._sqlite3_rollback_hook=(t,e,r)=>(n._sqlite3_rollback_hook=_.pe)(t,e,r),n._sqlite3_autovacuum_pages=(t,e,r,s)=>(n._sqlite3_autovacuum_pages=_.qe)(t,e,r,s),n._sqlite3_wal_autocheckpoint=(t,e)=>(n._sqlite3_wal_autocheckpoint=_.re)(t,e),n._sqlite3_wal_hook=(t,e,r)=>(n._sqlite3_wal_hook=_.se)(t,e,r),n._sqlite3_wal_checkpoint_v2=(t,e,r,s,i)=>(n._sqlite3_wal_checkpoint_v2=_.te)(t,e,r,s,i),n._sqlite3_wal_checkpoint=(t,e)=>(n._sqlite3_wal_checkpoint=_.ue)(t,e),n._sqlite3_error_offset=t=>(n._sqlite3_error_offset=_.ve)(t),n._sqlite3_errmsg16=t=>(n._sqlite3_errmsg16=_.we)(t),n._sqlite3_extended_errcode=t=>(n._sqlite3_extended_errcode=_.xe)(t),n._sqlite3_system_errno=t=>(n._sqlite3_system_errno=_.ye)(t),n._sqlite3_errstr=t=>(n._sqlite3_errstr=_.ze)(t),n._sqlite3_limit=(t,e,r)=>(n._sqlite3_limit=_.Ae)(t,e,r),n._sqlite3_open_v2=(t,e,r,s)=>(n._sqlite3_open_v2=_.Be)(t,e,r,s),n._sqlite3_open16=(t,e)=>(n._sqlite3_open16=_.Ce)(t,e),n._sqlite3_create_collation=(t,e,r,s,i)=>(n._sqlite3_create_collation=_.De)(t,e,r,s,i),n._sqlite3_create_collation_v2=(t,e,r,s,i,c)=>(n._sqlite3_create_collation_v2=_.Ee)(t,e,r,s,i,c),n._sqlite3_create_collation16=(t,e,r,s,i)=>(n._sqlite3_create_collation16=_.Fe)(t,e,r,s,i),n._sqlite3_collation_needed=(t,e,r)=>(n._sqlite3_collation_needed=_.Ge)(t,e,r),n._sqlite3_collation_needed16=(t,e,r)=>(n._sqlite3_collation_needed16=_.He)(t,e,r),n._sqlite3_get_clientdata=(t,e)=>(n._sqlite3_get_clientdata=_.Ie)(t,e),n._sqlite3_set_clientdata=(t,e,r,s)=>(n._sqlite3_set_clientdata=_.Je)(t,e,r,s),n._sqlite3_table_column_metadata=(t,e,r,s,i,c,h,g,S)=>(n._sqlite3_table_column_metadata=_.Ke)(t,e,r,s,i,c,h,g,S),n._sqlite3_sleep=t=>(n._sqlite3_sleep=_.Le)(t),n._sqlite3_extended_result_codes=(t,e)=>(n._sqlite3_extended_result_codes=_.Me)(t,e),n._sqlite3_file_control=(t,e,r,s)=>(n._sqlite3_file_control=_.Ne)(t,e,r,s),n._sqlite3_test_control=(t,e)=>(n._sqlite3_test_control=_.Oe)(t,e),n._sqlite3_create_filename=(t,e,r,s,i)=>(n._sqlite3_create_filename=_.Pe)(t,e,r,s,i),n._sqlite3_free_filename=t=>(n._sqlite3_free_filename=_.Qe)(t),n._sqlite3_uri_parameter=(t,e)=>(n._sqlite3_uri_parameter=_.Re)(t,e),n._sqlite3_uri_key=(t,e)=>(n._sqlite3_uri_key=_.Se)(t,e),n._sqlite3_uri_boolean=(t,e,r)=>(n._sqlite3_uri_boolean=_.Te)(t,e,r),n._sqlite3_uri_int64=(t,e,r,s)=>(n._sqlite3_uri_int64=_.Ue)(t,e,r,s),n._sqlite3_filename_database=t=>(n._sqlite3_filename_database=_.Ve)(t),n._sqlite3_filename_journal=t=>(n._sqlite3_filename_journal=_.We)(t),n._sqlite3_filename_wal=t=>(n._sqlite3_filename_wal=_.Xe)(t),n._sqlite3_db_name=(t,e)=>(n._sqlite3_db_name=_.Ye)(t,e),n._sqlite3_db_filename=(t,e)=>(n._sqlite3_db_filename=_.Ze)(t,e),n._sqlite3_db_readonly=(t,e)=>(n._sqlite3_db_readonly=_._e)(t,e),n._sqlite3_compileoption_used=t=>(n._sqlite3_compileoption_used=_.$e)(t),n._sqlite3_compileoption_get=t=>(n._sqlite3_compileoption_get=_.af)(t),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=_.bf)();var Ar=n._malloc=t=>(Ar=n._malloc=_.cf)(t),Rr=n._free=t=>(Rr=n._free=_.df)(t);n._RegisterExtensionFunctions=t=>(n._RegisterExtensionFunctions=_.ef)(t),n._set_authorizer=t=>(n._set_authorizer=_.ff)(t),n._create_function=(t,e,r,s,i,c)=>(n._create_function=_.gf)(t,e,r,s,i,c),n._on_tables_changed=(t,e,r,s,i,c)=>(n._on_tables_changed=_.hf)(t,e,r,s,i,c),n._register_table_update_hook=t=>(n._register_table_update_hook=_.jf)(t),n._create_module=(t,e,r,s)=>(n._create_module=_.kf)(t,e,r,s),n._progress_handler=(t,e)=>(n._progress_handler=_.lf)(t,e),n._register_vfs=(t,e,r,s)=>(n._register_vfs=_.mf)(t,e,r,s),n._getSqliteFree=()=>(n._getSqliteFree=_.nf)();var Or=n._main=(t,e)=>(Or=n._main=_.of)(t,e);n._setup_powersync=()=>(n._setup_powersync=_.pf)();var Nr=(t,e)=>(Nr=_.rf)(t,e),Cr=()=>(Cr=_.sf)(),Qr=t=>(Qr=_.tf)(t),ke=t=>(ke=_.uf)(t),Dr=()=>(Dr=_.vf)(),Fr=t=>(Fr=_.wf)(t),Pr=()=>(Pr=_.xf)(),Vr=t=>(Vr=_.yf)(t),kr=()=>(kr=_.zf)();n._sqlite3_version=44971,n.getTempRet0=()=>Cr(),n.ccall=Et,n.cwrap=(t,e,r,s)=>{var i=!r||r.every(c=>c==="number"||c==="boolean");return e!=="string"&&i&&!s?n["_"+t]:(...c)=>Et(t,e,r,c,s)},n.addFunction=(t,e)=>{if(!Ft){Ft=new WeakMap;var r=At.length;if(Ft)for(var s=0;s<0+r;s++){var i=At.get(s);i&&Ft.set(i,s)}}if(r=Ft.get(t)||0)return r;if(br.length)r=br.pop();else{try{At.grow(1)}catch(g){throw g instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":g}r=At.length-1}try{At.set(r,t)}catch(g){if(!(g instanceof TypeError))throw g;if(typeof WebAssembly.Function=="function"){s=WebAssembly.Function,i={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var c={parameters:[],results:e[0]=="v"?[]:[i[e[0]]]},h=1;h<e.length;++h)c.parameters.push(i[e[h]]);e=new s(c,t)}else{for(s=[1],i=e.slice(0,1),e=e.slice(1),c={i:127,p:127,j:126,f:125,d:124,e:111},s.push(96),h=e.length,128>h?s.push(h):s.push(h%128|128,h>>7),h=0;h<e.length;++h)s.push(c[e[h]]);i=="v"?s.push(0):s.push(1,c[i]),e=[0,97,115,109,1,0,0,0,1],i=s.length,128>i?e.push(i):e.push(i%128|128,i>>7),e.push(...s),e.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),e=new WebAssembly.Module(new Uint8Array(e)),e=new WebAssembly.Instance(e,{e:{f:t}}).exports.f}At.set(r,e)}return Ft.set(t,r),r},n.setValue=lt,n.getValue=j,n.UTF8ToString=(t,e)=>t?B(I,t,e):"",n.stringToUTF8=(t,e,r)=>ut(t,I,e,r),n.lengthBytesUTF8=Qt,n.intArrayFromString=En,n.intArrayToString=function(t){for(var e=[],r=0;r<t.length;r++){var s=t[r];255<s&&(s&=255),e.push(String.fromCharCode(s))}return e.join("")},n.AsciiToString=t=>{for(var e="";;){var r=I[t++];if(!r)return e;e+=String.fromCharCode(r)}},n.UTF16ToString=(t,e)=>{for(var r=t>>1,s=r+e/2;!(r>=s)&&J[r];)++r;if(r<<=1,32<r-t&&vr)return vr.decode(I.subarray(t,r));for(r="",s=0;!(s>=e/2);++s){var i=V[t+2*s>>1];if(i==0)break;r+=String.fromCharCode(i)}return r},n.stringToUTF16=(t,e,r)=>{if(r??=2147483647,2>r)return 0;r-=2;var s=e;r=r<2*t.length?r/2:t.length;for(var i=0;i<r;++i)V[e>>1]=t.charCodeAt(i),e+=2;return V[e>>1]=0,e-s},n.UTF32ToString=(t,e)=>{for(var r=0,s="";!(r>=e/4);){var i=R[t+4*r>>2];if(i==0)break;++r,65536<=i?(i-=65536,s+=String.fromCharCode(55296|i>>10,56320|i&1023)):s+=String.fromCharCode(i)}return s},n.stringToUTF32=(t,e,r)=>{if(r??=2147483647,4>r)return 0;var s=e;r=s+r-4;for(var i=0;i<t.length;++i){var c=t.charCodeAt(i);if(55296<=c&&57343>=c){var h=t.charCodeAt(++i);c=65536+((c&1023)<<10)|h&1023}if(R[e>>2]=c,e+=4,e+4>r)break}return R[e>>2]=0,e-s},n.writeArrayToMemory=(t,e)=>{m.set(t,e)};var _e;Mt=function t(){_e||Ur(),_e||(Mt=t)};function Ur(){function t(){if(!_e&&(_e=!0,n.calledRun=!0,!l)){if(n.noFSInit||Cn||(Cn=!0,n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?Ht("stdin",n.stdin):Ne("/dev/tty","/dev/stdin"),n.stdout?Ht("stdout",null,n.stdout):Ne("/dev/tty","/dev/stdout"),n.stderr?Ht("stderr",null,n.stderr):Ne("/dev/tty1","/dev/stderr"),te("/dev/stdin",0),te("/dev/stdout",1),te("/dev/stderr",1)),mn=!1,Xt(yt),Xt(Nt),d(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),Br){var e=Or;try{var r=e(0,0);p=r,wr(r)}catch(s){Fe(s)}}if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),Gt.unshift(e);Xt(Gt)}}if(!(0<xt)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ge();Xt(Lt),0<xt||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var Br=!0;return n.noInitialRun&&(Br=!1),Ur(),w}})(),uo=lo});var pe,Ho,Ye=pt(()=>{zt();zt();pe=class{mxPathName=64;xClose(o){return 10}xRead(o,n,d){return 10}xWrite(o,n,d){return 10}xTruncate(o,n){return 10}xSync(o,n){return 0}xFileSize(o,n){return 10}xLock(o,n){return 0}xUnlock(o,n){return 0}xCheckReservedLock(o,n){return n.setInt32(0,0,!0),0}xFileControl(o,n,d){return 12}xSectorSize(o){return 512}xDeviceCharacteristics(o){return 0}xOpen(o,n,d,E){return 14}xDelete(o,n){return 10}xAccess(o,n,d){return 10}handleAsync(o){return o()}},Ho=[256,2048,512,4096,1024,8192,16384].reduce((a,o)=>a|o)});var Lo,Je,me,ls=pt(()=>{Ye();Lo=7,Je=class{get state(){return this.#t}#t=0;timeoutMillis=0;#r=new Map;#e=Promise.resolve(0);async lock(o){return this.#n(this.#i,o)}async unlock(o){return this.#n(this.#o,o)}async isSomewhereReserved(){throw new Error("unimplemented")}async#n(o,n){let d=n&Lo;try{let E=()=>o.call(this,d);return await(this.#e=this.#e.then(E,E)),this.#t=d,0}catch(E){return E.name==="AbortError"?5:(console.error(E),3850)}}async#i(o){if(o===this.#t)return 0;switch(this.#t){case 0:switch(o){case 1:return this._NONEtoSHARED();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}case 1:switch(o){case 2:return this._SHAREDtoRESERVED();case 4:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}case 2:switch(o){case 4:return this._RESERVEDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}}async#o(o){if(o===this.#t)return 0;switch(this.#t){case 4:switch(o){case 1:return this._EXCLUSIVEtoSHARED();case 0:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}case 2:switch(o){case 1:return this._RESERVEDtoSHARED();case 0:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}case 1:switch(o){case 0:return this._SHAREDtoNONE();default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}default:throw new Error(`unexpected transition ${this.#t} -> ${o}`)}}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(o,n){return new Promise(async(d,E)=>{try{await navigator.locks.request(o,n,w=>{if(d(w),w)return new Promise(x=>this.#r.set(o,x))})}catch(w){E(w)}})}_releaseWebLock(o){this.#r.get(o)?.(),this.#r.delete(o)}async _pollWebLock(o){return(await navigator.locks.query()).held.find(({name:d})=>d===o)?.mode}_getTimeoutSignal(){if(this.timeoutMillis){let o=new AbortController;return setTimeout(()=>o.abort(),this.timeoutMillis),o.signal}}},me=class extends Je{constructor(o){super(),this._lockName=o+"-outer",this._reservedName=o+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}});function at(...a){}function wt(a){return new Promise((o,n)=>{a.addEventListener("success",()=>o(a.result)),a.addEventListener("error",()=>n(a.error))})}var us,Ze,Ie,tn,en,fs=pt(()=>{us=0,Ze=new WeakMap;Ie=class{#t;#r;#e;#n=null;#i=0;#o=Promise.resolve();#s=Promise.resolve();constructor(o,n={durability:"default"}){this.#r=Promise.resolve(o).then(d=>this.#t=d),this.#e=n}async close(){let o=this.#t??await this.#r;await this.#o,await this.sync(),o.close()}async run(o,n){let d=this.#o.then(()=>this.#a(o,n));return this.#o=d.catch(()=>{}),d}async#a(o,n){let d=this.#t??await this.#r;if(o==="readwrite"&&this.#n?.mode==="readonly")this.#n=null;else if(performance.now()-this.#i>5e3){try{this.#n?.commit()}catch(E){if(E.name!=="InvalidStateError")throw E}await new Promise(E=>setTimeout(E)),this.#n=null}for(let E=0;E<2;++E){if(!this.#n){this.#n=d.transaction(d.objectStoreNames,o,this.#e);let w=this.#i=performance.now();this.#s=this.#s.then(()=>new Promise((x,A)=>{this.#n.addEventListener("complete",C=>{x(),this.#n===C.target&&(this.#n=null),at(`transaction ${Ze.get(C.target)} complete`)}),this.#n.addEventListener("abort",C=>{console.warn("tx abort",(performance.now()-w)/1e3);let N=C.target.error;A(N),this.#n===C.target&&(this.#n=null),at(`transaction ${Ze.get(C.target)} aborted`,N)})})),at(`new transaction ${us} ${o}`),Ze.set(this.#n,us++)}try{let w=Object.fromEntries(Array.from(d.objectStoreNames,x=>[x,new tn(this.#n.objectStore(x))]));return await n(w)}catch(w){if(this.#n=null,E)throw w}}}async sync(){await this.#o,await this.#s,this.#s=Promise.resolve()}};tn=class{#t;constructor(o){this.#t=o}get(o){at(`get ${this.#t.name}`,o);let n=this.#t.get(o);return wt(n)}getAll(o,n){at(`getAll ${this.#t.name}`,o,n);let d=this.#t.getAll(o,n);return wt(d)}getKey(o){at(`getKey ${this.#t.name}`,o);let n=this.#t.getKey(o);return wt(n)}getAllKeys(o,n){at(`getAllKeys ${this.#t.name}`,o,n);let d=this.#t.getAllKeys(o,n);return wt(d)}put(o,n){at(`put ${this.#t.name}`,o,n);let d=this.#t.put(o,n);return wt(d)}delete(o){at(`delete ${this.#t.name}`,o);let n=this.#t.delete(o);return wt(n)}clear(){at(`clear ${this.#t.name}`);let o=this.#t.clear();return wt(o)}index(o){return new en(this.#t.index(o))}},en=class{#t;constructor(o){this.#t=o}getAllKeys(o,n){at(`IDBIndex.getAllKeys ${this.#t.objectStore.name}<${this.#t.name}>`,o,n);let d=this.#t.getAllKeys(o,n);return wt(d)}}});var hs={};Mr(hs,{IDBBatchAtomicVFS:()=>nn});function Z(...a){}function No(a){return new Promise((o,n)=>{let d=globalThis.indexedDB.open(a,5);d.addEventListener("upgradeneeded",function(){d.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),d.addEventListener("success",()=>{o(d.result)}),d.addEventListener("error",()=>{n(d.error)})})}var Oo,ds,Es,nn,ps=pt(()=>{Ye();ls();fs();Oo=512,ds=3e3,Es={durability:"default",purge:"deferred",purgeAtLeast:16};nn=class extends pe{#t;#r=new Map;#e;#n=new Set;#i=performance.now();#o=new Set;#s=null;constructor(o="wa-sqlite",n=Es){super(),this.name=o,this.#t=Object.assign({},Es,n),this.#e=new Ie(No(o),{durability:this.#t.durability})}async close(){for(let o of this.#r.keys())await this.xClose(o);await this.#e?.close(),this.#e=null}xOpen(o,n,d,E){let w=this.handleAsync(async()=>{o===null&&(o=`null_${n}`),Z(`xOpen ${o} 0x${n.toString(16)} 0x${d.toString(16)}`);try{let x=new URL(o,"http://localhost/"),A={path:x.pathname,flags:d,block0:null,isMetadataChanged:!0,locks:new me(x.pathname)};return this.#r.set(n,A),await this.#e.run("readwrite",async({blocks:C})=>{if(A.block0=await C.get(this.#_(A,0)),!A.block0)if(d&4)A.block0={path:A.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},C.put(A.block0);else throw new Error(`file not found: ${A.path}`)}),(E.buffer.detached||!E.buffer.byteLength)&&(E=new DataView(new ArrayBuffer(4)),this.#s=C=>{C.setInt32(0,E.getInt32(0,!0),!0)}),E.setInt32(0,d&1,!0),0}catch(x){return console.error(x),14}});return this.#s?.(E),this.#s=null,w}xClose(o){return this.handleAsync(async()=>{try{let n=this.#r.get(o);return n&&(Z(`xClose ${n.path}`),this.#r.delete(o),n.flags&8&&this.#e.run("readwrite",({blocks:d})=>{d.delete(IDBKeyRange.bound([n.path],[n.path,[]]))})),0}catch(n){return console.error(n),10}})}xRead(o,n,d){let E=n.byteLength,w=this.handleAsync(async()=>{let x=this.#r.get(o);Z(`xRead ${x.path} ${n.byteLength} ${d}`);try{return await this.#e.run("readonly",async({blocks:C})=>{(n.buffer.detached||!n.buffer.byteLength)&&(n=new Uint8Array(E),this.#s=O=>O.set(n));let N=0;for(;N<n.byteLength;){let O=d+N,v=O<x.block0.data.byteLength?x.block0:await C.get(this.#_(x,-O));if(!v||v.data.byteLength-v.offset<=O)return n.fill(0,N),522;let $=n.subarray(N),P=O+v.offset,Q=Math.min(Math.max(v.data.byteLength-P,0),$.byteLength);$.set(v.data.subarray(P,P+Q)),N+=Q}return 0})}catch(A){return console.error(A),10}});return this.#s?.(n),this.#s=null,w}xWrite(o,n,d){let E=this.#o.has(o);if(E||performance.now()-this.#i>ds){let w=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&this.#o.add(o),await new Promise(A=>setTimeout(A));let x=this.#a(o,n.slice(),d);return this.#i=performance.now(),x});return E&&this.#o.delete(o),w}return this.#a(o,n,d)}#a(o,n,d){let E=this.#r.get(o);Z(`xWrite ${E.path} ${n.byteLength} ${d}`);try{let w=E.block0.fileSize;E.block0.fileSize<d+n.byteLength&&(E.block0.fileSize=d+n.byteLength,E.isMetadataChanged=!0);let x=d===0?E.block0:{path:E.path,offset:-d,version:E.block0.version,data:null};return x.data=n.slice(),E.changedPages?(w===E.block0.fileSize&&E.changedPages.add(-d),d!==0&&this.#e.run("readwrite",({blocks:A})=>A.put(x))):this.#e.run("readwrite",({blocks:A})=>A.put(x)),E.isMetadataChanged=d===0?!1:E.isMetadataChanged,0}catch(w){return console.error(w),10}}xTruncate(o,n){let d=this.#r.get(o);Z(`xTruncate ${d.path} ${n}`);try{Object.assign(d.block0,{fileSize:n,data:d.block0.data.slice(0,n)});let E=Object.assign({},d.block0);return this.#e.run("readwrite",({blocks:w})=>{w.delete(this.#_(d,-1/0,-n)),w.put(E)}),0}catch(E){return console.error(E),10}}xSync(o,n){let d=this.#o.has(o);if(d||this.#t.durability!=="relaxed"||performance.now()-this.#i>ds){let w=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&this.#o.add(o);let x=await this.#c(o,n);return this.#i=performance.now(),x});return d&&this.#o.delete(o),w}let E=this.#r.get(o);return Z(`xSync ${E.path} ${n}`),0}async#c(o,n){let d=this.#r.get(o);Z(`xSync ${d.path} ${n}`);try{d.isMetadataChanged&&(this.#e.run("readwrite",async({blocks:E})=>{await E.put(d.block0)}),d.isMetadataChanged=!1),await this.#e.sync()}catch(E){return console.error(E),10}return 0}xFileSize(o,n){let d=this.#r.get(o);return Z(`xFileSize ${d.path}`),n.setBigInt64(0,BigInt(d.block0.fileSize),!0),0}xLock(o,n){return this.handleAsync(async()=>{let d=this.#r.get(o);Z(`xLock ${d.path} ${n}`);try{let E=await d.locks.lock(n);return E===0&&d.locks.state===1&&(d.block0=await this.#e.run("readonly",({blocks:w})=>w.get(this.#_(d,0)))),E}catch(E){return console.error(E),10}})}xUnlock(o,n){return this.handleAsync(async()=>{let d=this.#r.get(o);Z(`xUnlock ${d.path} ${n}`);try{return d.locks.unlock(n)}catch(E){return console.error(E),10}})}xCheckReservedLock(o,n){let d=this.handleAsync(async()=>{let E=this.#r.get(o);Z(`xCheckReservedLock ${E.path}`);let w=await E.locks.isSomewhereReserved();function x(A){}return(n.buffer.detached||!n.buffer.byteLength)&&(n=new DataView(new ArrayBuffer(4)),this.#s=A=>{A.setInt32(0,n.getInt32(0,!0),!0)}),n.setInt32(0,w?1:0,!0),0});return this.#s?.(n),this.#s=null,d}xSectorSize(o){return Z("xSectorSize"),Oo}xDeviceCharacteristics(o){return Z("xDeviceCharacteristics"),19968}xFileControl(o,n,d){let E=this.#r.get(o);switch(Z(`xFileControl ${E.path} ${n}`),n){case 11:return E.overwrite=!0,0;case 21:if(E.overwrite)try{return this.handleAsync(async()=>(await this.#u(E),0))}catch(w){return console.error(w),10}if(E.isMetadataChanged)try{this.#e.run("readwrite",async({blocks:w})=>{await w.put(E.block0)}),E.isMetadataChanged=!1}catch(w){return console.error(w),10}return 0;case 22:return E.overwrite=!1,0;case 31:return this.handleAsync(async()=>{try{return E.block0.version--,E.changedPages=new Set,this.#e.run("readwrite",async({blocks:w})=>{let x=await w.index("version").getAllKeys(IDBKeyRange.bound([E.path],[E.path,E.block0.version]));for(let A of x)w.delete(A)}),0}catch(w){return console.error(w),10}});case 32:try{let w=Object.assign({},E.block0);w.data=w.data.slice();let x=E.changedPages;return E.changedPages=null,E.isMetadataChanged=!1,this.#e.run("readwrite",async({blocks:A})=>{A.put(w);let C=await A.get([E.path,"purge",0])??{path:E.path,offset:"purge",version:0,data:new Map,count:0};C.count+=x.size;for(let N of x)C.data.set(N,w.version);A.put(C),this.#l(E.path,C.count)}),0}catch(w){return console.error(w),10}case 33:return this.handleAsync(async()=>{try{return E.changedPages=null,E.isMetadataChanged=!1,E.block0=await this.#e.run("readonly",({blocks:w})=>w.get([E.path,0,E.block0.version+1])),0}catch(w){return console.error(w),10}});default:return 12}}xAccess(o,n,d){let E=this.handleAsync(async()=>{try{let w=new URL(o,"file://localhost/").pathname;Z(`xAccess ${w} ${n}`);let x=await this.#e.run("readonly",({blocks:A})=>A.getKey(this.#_({path:w},0)));return(d.buffer.detached||!d.buffer.byteLength)&&(d=new DataView(new ArrayBuffer(4)),this.#s=A=>{A.setInt32(0,d.getInt32(0,!0),!0)}),d.setInt32(0,x?1:0,!0),0}catch(w){return console.error(w),10}});return this.#s?.(d),this.#s=null,E}xDelete(o,n){return this.handleAsync(async()=>{let d=new URL(o,"file://localhost/").pathname;Z(`xDelete ${d} ${n}`);try{return this.#e.run("readwrite",({blocks:E})=>E.delete(IDBKeyRange.bound([d],[d,[]]))),n&&await this.#e.sync(),0}catch(E){return console.error(E),10}})}async purge(o){let n=Date.now();await this.#e.run("readwrite",async({blocks:d})=>{let E=await d.get([o,"purge",0]);if(E){for(let[w,x]of E.data)d.delete(IDBKeyRange.bound([o,w,x],[o,w,1/0],!0,!1));await d.delete([o,"purge",0])}Z(`purge ${o} ${E?.data.size??0} pages in ${Date.now()-n} ms`)})}#l(o,n){this.#t.purge==="manual"||this.#n.has(o)||n<this.#t.purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(o),this.#n.delete(o)}):setTimeout(()=>{this.purge(o),this.#n.delete(o)}),this.#n.add(o))}#_(o,n,d=0){let E=!n||-n<o.block0.data.length?-1/0:o.block0.version;return IDBKeyRange.bound([o.path,n,E],[o.path,d,1/0])}async#u(o){let n=o.block0.data.length;if(n<18)return;let d=new DataView(o.block0.data.buffer,o.block0.data.byteOffset),E=d.getUint16(16);if(E===1&&(E=65536),E===n)return;let w=Math.max(n,E),x=w/n,A=w/E,N=d.getUint32(28)*E,O=o.block0.version;await this.#e.run("readwrite",async({blocks:v})=>{let $=await v.index("version").getAllKeys(IDBKeyRange.bound([o.path,O+1],[o.path,1/0]));for(let P of $)v.delete(P);v.delete([o.path,"purge",0]);for(let P=0;P<N;P+=w){let Q=await v.getAll(IDBKeyRange.lowerBound([o.path,-(P+w),1/0]),x);for(let f of Q)v.delete([f.path,f.offset,f.version]);if(A===1){let f=new Uint8Array(E);for(let l of Q)f.set(l.data,-(P+l.offset));let u={path:o.path,offset:-P,version:O,data:f};u.offset===0&&(u.fileSize=N,o.block0=u),v.put(u)}else{let f=Q[0];for(let u=0;u<A;++u){let l=-(P+u*E);if(-l>=N)break;let p={path:f.path,offset:l,version:O,data:f.data.subarray(u*E,(u+1)*E)};p.offset===0&&(p.fileSize=N,o.block0=p),v.put(p)}}}})}}});function Ss(a){return Bt(this,void 0,void 0,function*(){let{default:o}=yield Promise.resolve().then(()=>(as(),_s)),n=yield o(),d=Jr(n),{IDBBatchAtomicVFS:E}=yield Promise.resolve().then(()=>(ps(),hs)),w=new E(a);d.vfs_register(w,!0);let x=yield d.open_v2(a),A=new Map;d.register_table_onchange_hook(x,(P,Q,f)=>{Array.from(A.values()).forEach(u=>u(P,Q,f))});let C=P=>{let Q=Qo++;return A.set(Q,P),ht(()=>{A.delete(Q)})},N=(P,Q)=>Bt(this,void 0,void 0,function*(){return O(()=>Bt(this,void 0,void 0,function*(){return v(P,Q)}))}),O=P=>navigator.locks.request(`db-execute-${a}`,P),v=(P,Q)=>Bt(this,void 0,void 0,function*(){var f,u,l,p;let m=[];try{for(var I=!0,V=Co(d.statements(x,P)),J;J=yield V.next(),f=J.done,!f;I=!0){p=J.value,I=!1;let et=p,ot,gt=Q?[Q]:[[]];for(let Lt of gt){Lt.forEach((Nt,Gt,ge)=>{typeof Nt=="boolean"&&(ge[Gt]=Nt?1:0)}),d.reset(et),Q&&d.bind_collection(et,Lt);let yt=[];for(;(yield d.step(et))===100;){let Nt=d.row(et);yt.push(Nt)}ot=ot??d.column_names(et),ot.length&&m.push({columns:ot,rows:yt})}if(Q)break}}catch(et){u={error:et}}finally{try{!I&&!f&&(l=V.return)&&(yield l.call(V))}finally{if(u)throw u.error}}let R=[];for(let et of m)for(let ot of et.rows){let gt={};et.columns.forEach((Lt,yt)=>{gt[Lt]=ot[yt]}),R.push(gt)}return{insertId:d.last_insert_id(x),rowsAffected:d.changes(x),rows:{_array:R,length:R.length}}}),$=(P,Q)=>Bt(this,void 0,void 0,function*(){return O(()=>Bt(this,void 0,void 0,function*(){let f=0,u=d.str_new(x,P),l=d.str_value(u);try{yield v("BEGIN TRANSACTION");let m=yield d.prepare_v2(x,l);if(m===null)return{rowsAffected:0};let I=Q||[];for(let V of I){for(let R=0;R<V.length;R++){let H=V[R];typeof H=="boolean"&&(V[R]=H?1:0)}d.reset(m.stmt),Q&&d.bind_collection(m.stmt,V),(yield d.step(m.stmt))===101&&(f+=d.changes(x))}yield d.finalize(m.stmt),yield v("COMMIT")}catch{return yield v("ROLLBACK"),{rowsAffected:0}}finally{d.str_finish(u)}return{rowsAffected:f}}))});return{execute:ht(N),executeBatch:ht($),registerOnTableChange:ht(C),close:ht(()=>{d.close(x)})}})}var Bt,Co,Qo,Ts=pt(()=>{ce();ce();Ge();Bt=function(a,o,n,d){function E(w){return w instanceof n?w:new n(function(x){x(w)})}return new(n||(n=Promise))(function(w,x){function A(O){try{N(d.next(O))}catch(v){x(v)}}function C(O){try{N(d.throw(O))}catch(v){x(v)}}function N(O){O.done?w(O.value):E(O.value).then(A,C)}N((d=d.apply(a,o||[])).next())})},Co=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a[Symbol.asyncIterator],n;return o?o.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),n={},d("next"),d("throw"),d("return"),n[Symbol.asyncIterator]=function(){return this},n);function d(w){n[w]=a[w]&&function(x){return new Promise(function(A,C){x=a[w](x),E(A,C,x.done,x.value)})}}function E(w,x,A,C){Promise.resolve(C).then(function(N){w({value:N,done:A})},x)}},Qo=1});var ms=Ws(sn=>{ce();Ge();Ts();var rn=sn&&sn.__awaiter||function(a,o,n,d){function E(w){return w instanceof n?w:new n(function(x){x(w)})}return new(n||(n=Promise))(function(w,x){function A(O){try{N(d.next(O))}catch(v){x(v)}}function C(O){try{N(d.throw(O))}catch(v){x(v)}}function N(O){O.done?w(O.value):E(O.value).then(A,C)}N((d=d.apply(a,o||[])).next())})},Do=self,Wt=new Map,Fo="open-wasqlite-db",Po=1,Vo=a=>rn(void 0,void 0,void 0,function*(){return navigator.locks.request(Fo,()=>rn(void 0,void 0,void 0,function*(){let o=Po++;if(!Wt.has(a)){let w=new Set,x=yield Ss(a);Wt.set(a,{clientIds:w,db:x})}let n=Wt.get(a);n.clientIds.add(o);let{db:d}=n,E=Object.assign(Object.assign({},d),{close:ht(()=>{var w;let{clientIds:x}=n;if(x.delete(o),x.size==0)return console.debug(`Closing connection to ${a}.`),Wt.delete(a),(w=d.close)===null||w===void 0?void 0:w.call(d);console.debug(`Connection to ${a} not closed yet due to active clients.`)})});return ht(E)}))});Do.onconnect=function(a){let o=a.ports[0];console.debug("Exposing db on port",o),he(Vo,o)};addEventListener("unload",()=>{Array.from(Wt.values()).forEach(a=>rn(void 0,void 0,void 0,function*(){var o;let n=yield a.db;(o=n.close)===null||o===void 0||o.call(n)}))})});var we={};Me(we,Gs(ms()));
